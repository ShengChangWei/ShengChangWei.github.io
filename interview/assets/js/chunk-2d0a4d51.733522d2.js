(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4d51"],{"07b6":function(s,a,r){"use strict";r.r(a);var n=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},t=[function(){var s=this,a=s.$createElement,r=s._self._c||a;return r("section",[r("h1",[s._v("JS函数柯里化")]),r("p",[s._v("在阅读书籍或其他资料时多次遇到函数柯里化，开始时没有太多的关注，而且“函数柯里化”这个名字太过高大上，也让我闻风丧胆，望而却步。 在手动实现bind方法时，又遇到函数柯里化概念时，不得不硬着头皮去了解一番，了解阅读相关资料和博客后，发现所谓的函数柯里化也不过如此(ps:大话说出去了，此时我对函数柯里化还一脸懵)。")]),r("p",[s._v("人总是被未知的东西所打败，事情很小却也暴露了自身问题。自我反思，痛定思痛，对技术自身一定要：“战术上藐视敌人 战略上重视敌人”。")]),r("h2",[s._v("首先看看柯里化到底是什么？")]),r("p",[s._v("本文属于手动实现js函数柯里化专题，注重具体的实现代码，不会过多的文字累赘原理")]),r("p",[s._v("柯里化：英语：Currying 是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。")]),r("blockquote",[r("p",[s._v("第一版")])]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 第一版")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" curry = "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn")]),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 去除第一个函数参数，保留剩余参数")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" args = [...arguments].slice("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n    "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回一个函数")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n        "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" newArgs = args.concat([...arguments]); "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 保存第二个函数的参数，并与第一个参数合并")]),s._v("\n        "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" fn.apply("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", newArgs); "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 函数调用是返回")]),s._v("\n    }\n}\n\n\n"),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("add")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a, b")]),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" [a, b];\n}\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 测试一")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// const addCurry = curry(add, 1,2);")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// console.log(addCurry()) // => [1, 2]")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 测试二")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// const addCurry = curry(add, 1);")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// console.log(addCurry(2)); // => [1, 2]")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 测试三")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" addCurry = curry(add);\n"),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log( addCurry("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")); "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => [1,3]")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 总结：感觉离柯里化不远了，继续努力")]),s._v("\n")])]),r("blockquote",[r("p",[s._v("第二版")])]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 第二版")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("sub_curry")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn")]),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 去除第一个函数参数， 保存后面的参数")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" args = [...arguments].slice("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" fn.apply("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", args.concat([...arguments]));\n    }\n}\n\n"),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("curry")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn, length")]),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// length 是函数对象的一个属性值，指该函数有多少个必须要传入的参数，那些已定义了默认值的参数不算在内，比如function（xx = 0）的length是0")]),s._v("\n    length = length || fn.length;\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(".length < length) {\n        "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" combined = [fn].concat([...arguments]);\n        "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" curry(sub_curry.apply("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", combined), length - "),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(".length);\n    } "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" fn.apply("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(", "),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("arguments")]),s._v(");\n    }\n    }\n}\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 测试代码")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" fn = curry("),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("a, b, c")]),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" [a, b, c];\n})\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 解析： fn 调用")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// fn(1,2,3); // => [1,2,3]")]),s._v("\nfn("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(") "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// => [1, 2, 3]")]),s._v("\nfn("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(") "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// ["a", "b", "c"]')]),s._v("\nfn("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(") "),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// ["a", "b", "c"]')]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 总结：")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 脑袋有点大，继续下一步，回过头来再看")]),s._v("\n")])]),r("blockquote",[r("p",[s._v("第三版")])]),r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("currying")]),s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("fn, ...args")]),s._v(") ")]),s._v("{\n    "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (args.length >= fn.length) {\n        "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" fn(...args);\n    } "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("...args2")]),s._v(") =>")]),s._v(" currying(fn, ...args, ...args2);\n    }\n}\n")])]),r("h2",[s._v("总结")]),r("p",[s._v("脑袋有点大，虽然自己可以写出来了，也明白其中的原理，但是对每一步的执行结果没有了然于胸，还需加油努力努力，加油加油！！！")]),r("p",[s._v("参考：")]),r("p",[r("a",{attrs:{href:"https://github.com/ConardLi/awesome-coding-js"}},[s._v("https://github.com/ConardLi/awesome-coding-js")])])])}],e=r("2877"),l={},p=Object(e["a"])(l,n,t,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0a4d51.733522d2.js.map