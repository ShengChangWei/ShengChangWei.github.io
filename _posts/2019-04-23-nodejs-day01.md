---
layout: post
title:  "了解node"
date:   2019-04-23
excerpt: "使用node搭建服务器"
nodejs: true
tag:
- nodejs
comments: true
---

> ### 1、node 简介

- Node.js 不是 JavaScript 框架。
- Node.js 是一个 C++ 编写的基于 Chrome V8 引擎的服务端 JavaScript 运行环境(runtime environment)，发布于 2009 年 5 月。
- Node.js 是一个服务端开发平台，类似的平台还有 Java、PHP、Python、Perl、Ruby 等。
- Node.js 的包管理器 npm，是全球最大的开源库生态系统。
- 非常适合在分布式设备上运行数据密集型的实时应用。

> ### 2、node搭建服务器的步骤

#### 2.1 初始化项目，并install `express`

```shell
    1. 创建nodeApp文件夹
    2. cd nodeApp
    3. npm init -y
    4. npm install express --save
    5. 创建 app.js
    6. 创建 views目录
    7. 在views项目中创建login.html, index.html, publish.html文件
```

#### 2.2 使用express初始化一个服务并挂载路由

*  首先必须 install `art-template` 和`express-art-template`

```shell
    npm install art-template --save
    npm install express-art-template --save
```

```javascript

//引入express 包
const express = require('express');
// 实例化express
const app = express();
// 引入路由
const router = require('./router');
// 解析以html的文件
app.engine('html', require('express-art-template'))
// 挂载路由，使路由和应用程序结合到一起生效
app.use(router)

// 启动服务
app.listen(5000, () => console.log('running...'))

```

### 2.3 挂载路由，使路由和应用程序结合一起

* 根目录新建 router.js

```javascript
// 0. 加载 Express
const express = require('express')

// 1. 调用 express.Router() 得到一个路由实例
const router = express.Router();

// 2. 为 router 添加路由请求处理

router.get('/', (req, res) => {
    res.render('login.html')
})
// router.get('/index.html')
// router.get('/publish')

// 3. 导出 router
// 4. 在 app.js 中：app.use(router)
module.exports = router

```


