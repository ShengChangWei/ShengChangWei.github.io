/*
 * Compressed by JSA(www.xidea.org)
 */
(function(G2,h2){var I,U2,_=G2.document,c1=G2.location,z2=G2.navigator,b2=G2.jQuery,E=G2.$,z1=Array.prototype.push,O=Array.prototype.slice,G=Array.prototype.indexOf,L=Object.prototype.toString,P2=Object.prototype.hasOwnProperty,n2=String.prototype.trim,p=function(A,B){return new p.fn.init(A,B,I)},$=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,t=/\S/,L1=/\s+/,t2=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,F1=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,W2=/^[\],:{}\s]*$/,V1=/(?:^|:|,)(?:\s*\[)+/g,p2=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,b=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,i=/^-ms-/,s2=/-([\da-z])/gi,P=function(B,A){return(A+"").toUpperCase()},m1=function(){if(_.addEventListener){_.removeEventListener("DOMContentLoaded",m1,false);p.ready()}else if(_.readyState==="complete"){_.detachEvent("onreadystatechange",m1);p.ready()}},R2={};p.fn=p.prototype={constructor:p,init:function(C,F,D){var G,B,A,E;if(!C)return this;if(C.nodeType){this.context=this[0]=C;this.length=1;return this}if(typeof C==="string"){if(C.charAt(0)==="<"&&C.charAt(C.length-1)===">"&&C.length>=3)G=[null,C,null];else G=n.exec(C);if(G&&(G[1]||!F)){if(G[1]){F=F instanceof p?F[0]:F;E=(F&&F.nodeType?F.ownerDocument||F:_);C=p.parseHTML(G[1],E,true);if(F1.test(G[1])&&p.isPlainObject(F))this.attr.call(C,F,true);return p.merge(this,C)}else{B=_.getElementById(G[2]);if(B&&B.parentNode){if(B.id!==G[2])return D.find(C);this.length=1;this[0]=B}this.context=_;this.selector=C;return this}}else if(!F||F.jquery)return(F||D).find(C);else return this.constructor(F).find(C)}else if(p.isFunction(C))return D.ready(C);if(C.selector!==h2){this.selector=C.selector;this.context=C.context}return p.makeArray(C,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return O.call(this)},get:function(A){return A==null?this.toArray():(A<0?this[this.length+A]:this[A])},pushStack:function(D,C,B){var A=p.merge(this.constructor(),D);A.prevObject=this;A.context=this.context;if(C==="find")A.selector=this.selector+(this.selector?" ":"")+B;else if(C)A.selector=this.selector+"."+C+"("+B+")";return A},each:function(B,A){return p.each(this,B,A)},ready:function(A){p.ready.promise().done(A);return this},eq:function(A){A=+A;return A===-1?this.slice(A):this.slice(A,A+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(O.apply(this,arguments),"slice",O.call(arguments).join(","))},map:function(A){return this.pushStack(p.map(this,function(B,C){return A.call(B,C,B)}))},end:function(){return this.prevObject||this.constructor(null)},push:z1,sort:[].sort,splice:[].splice};p.fn.init.prototype=p.fn;p.extend=p.fn.extend=function(){var J,C,F,I,A,B,E=arguments[0]||{},H=1,D=arguments.length,G=false;if(typeof E==="boolean"){G=E;E=arguments[1]||{};H=2}if(typeof E!=="object"&&!p.isFunction(E))E={};if(D===H){E=this;--H}for(;H<D;H++)if((J=arguments[H])!=null)for(C in J){F=E[C];I=J[C];if(E===I)continue;if(G&&I&&(p.isPlainObject(I)||(A=p.isArray(I)))){if(A){A=false;B=F&&p.isArray(F)?F:[]}else B=F&&p.isPlainObject(F)?F:{};E[C]=p.extend(G,B,I)}else if(I!==h2)E[C]=I}return E};p.extend({noConflict:function(A){if(G2.$===p)G2.$=E;if(A&&G2.jQuery===p)G2.jQuery=b2;return p},isReady:false,readyWait:1,holdReady:function(A){if(A)p.readyWait++;else p.ready(true)},ready:function(A){if(A===true?--p.readyWait:p.isReady)return;if(!_.body)return setTimeout(p.ready,1);p.isReady=true;if(A!==true&&--p.readyWait>0)return;U2.resolveWith(_,[p]);if(p.fn.trigger)p(_).trigger("ready").off("ready")},isFunction:function(A){return p.type(A)==="function"},isArray:Array.isArray||function(A){return p.type(A)==="array"},isWindow:function(A){return A!=null&&A==A.window},isNumeric:function(A){return!isNaN(parseFloat(A))&&isFinite(A)},type:function(A){return A==null?String(A):R2[L.call(A)]||"object"},isPlainObject:function(B){if(!B||p.type(B)!=="object"||B.nodeType||p.isWindow(B))return false;try{if(B.constructor&&!P2.call(B,"constructor")&&!P2.call(B.constructor.prototype,"isPrototypeOf"))return false}catch(A){return false}var C;for(C in B);return C===h2||P2.call(B,C)},isEmptyObject:function(B){var A;for(A in B)return false;return true},error:function(A){throw new Error(A)},parseHTML:function(D,C,A){var B;if(!D||typeof D!=="string")return null;if(typeof C==="boolean"){A=C;C=0}C=C||_;if((B=F1.exec(D)))return[C.createElement(B[1])];B=p.buildFragment([D],C,A?null:[]);return p.merge([],(B.cacheable?p.clone(B.fragment):B.fragment).childNodes)},parseJSON:function(A){if(!A||typeof A!=="string")return null;A=p.trim(A);if(G2.JSON&&G2.JSON.parse)return G2.JSON.parse(A);if(W2.test(A.replace(p2,"@").replace(b,"]").replace(V1,"")))return(new Function("return "+A))();p.error("Invalid JSON: "+A)},parseXML:function(B){var D,C;if(!B||typeof B!=="string")return null;try{if(G2.DOMParser){C=new DOMParser();D=C.parseFromString(B,"text/xml")}else{D=new ActiveXObject("Microsoft.XMLDOM");D.async="false";D.loadXML(B)}}catch(A){D=h2}if(!D||!D.documentElement||D.getElementsByTagName("parsererror").length)p.error("Invalid XML: "+B);return D},noop:function(){},globalEval:function(A){if(A&&t.test(A))(G2.execScript||function(A){G2["eval"].call(G2,A)})(A)},camelCase:function(A){return A.replace(i,"ms-").replace(s2,P)},nodeName:function(A,B){return A.nodeName&&A.nodeName.toUpperCase()===B.toUpperCase()},each:function(E,D,A){var B,G=0,C=E.length,F=C===h2||p.isFunction(E);if(A){if(F){for(B in E)if(D.apply(E[B],A)===false)break}else for(;G<C;)if(D.apply(E[G++],A)===false)break}else if(F){for(B in E)if(D.call(E[B],B,E[B])===false)break}else for(;G<C;)if(D.call(E[G],G,E[G++])===false)break;return E},trim:n2&&!n2.call("\ufeff\xa0")?function(A){return A==null?"":n2.call(A)}:function(A){return A==null?"":A.toString().replace(t2,"")},makeArray:function(C,B){var D,A=B||[];if(C!=null){D=p.type(C);if(C.length==null||D==="string"||D==="function"||D==="regexp"||p.isWindow(C))z1.call(A,C);else p.merge(A,C)}return A},inArray:function(A,B,D){var C;if(B){if(G)return G.call(B,A,D);C=B.length;D=D?D<0?Math.max(0,C+D):D:0;for(;D<C;D++)if(D in B&&B[D]===A)return D}return-1},merge:function(D,A){var B=A.length,E=D.length,C=0;if(typeof B==="number"){for(;C<B;C++)D[E++]=A[C]}else while(A[C]!==h2)D[E++]=A[C++];D.length=E;return D},grep:function(E,C,D){var F,A=[],G=0,B=E.length;D=!!D;for(;G<B;G++){F=!!C(E[G],G);if(D!==F)A.push(E[G])}return A},map:function(F,E,B){var D,H,A=[],I=0,C=F.length,G=F instanceof p||C!==h2&&typeof C==="number"&&((C>0&&F[0]&&F[C-1])||C===0||p.isArray(F));if(G){for(;I<C;I++){D=E(F[I],I,B);if(D!=null)A[A.length]=D}}else for(H in F){D=E(F[H],H,B);if(D!=null)A[A.length]=D}return A.concat.apply([],A)},guid:1,proxy:function(E,C){var D,A,B;if(typeof C==="string"){D=E[C];C=E;E=D}if(!p.isFunction(E))return h2;A=O.call(arguments,2);B=function(){return E.apply(C,A.concat(O.call(arguments)))};B.guid=E.guid=E.guid||B.guid||p.guid++;return B},access:function(E,H,I,C,G,A,K){var D,F=I==null,J=0,B=E.length;if(I&&typeof I==="object"){for(J in I)p.access(E,H,J,I[J],1,A,C);G=1}else if(C!==h2){D=K===h2&&p.isFunction(C);if(F)if(D){D=H;H=function(A,C,B){return D.call(p(A),B)}}else{H.call(E,C);H=null}if(H)for(;J<B;J++)H(E[J],I,D?C.call(E[J],J,H(E[J],I)):C,K);G=1}return G?E:F?H.call(E):B?H(E[0],I):A},now:function(){return(new Date()).getTime()}});p.ready.promise=function(C){if(!U2){U2=p.Deferred();if(_.readyState==="complete")setTimeout(p.ready,1);else if(_.addEventListener){_.addEventListener("DOMContentLoaded",m1,false);G2.addEventListener("load",p.ready,false)}else{_.attachEvent("onreadystatechange",m1);G2.attachEvent("onload",p.ready);var D=false;try{D=G2.frameElement==null&&_.documentElement}catch(A){}if(D&&D.doScroll)(function B(){if(!p.isReady){try{D.doScroll("left")}catch(A){return setTimeout(B,50)}p.ready()}})()}}return U2.promise(C)};p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(B,A){R2["[object "+A+"]"]=A.toLowerCase()});I=p(_);var f2={};function v1(B){var A=f2[B]={};p.each(B.split(L1),function(C,B){A[B]=true});return A}p.Callbacks=function(K){K=typeof K==="string"?(f2[K]||v1(K)):p.extend({},K);var J,B,C,A,E,D,G=[],H=!K.once&&[],I=function(L){J=K.memory&&L;B=true;D=A||0;A=0;E=G.length;C=true;for(;G&&D<E;D++)if(G[D].apply(L[0],L[1])===false&&K.stopOnFalse){J=false;break}C=false;if(G)if(H){if(H.length)I(H.shift())}else if(J)G=[];else F.disable()},F={add:function(){if(G){var B=G.length;(function D(A){p.each(A,function(B,A){var C=p.type(A);if(C==="function"&&(!K.unique||!F.has(A)))G.push(A);else if(A&&A.length&&C!=="string")D(A)})})(arguments);if(C)E=G.length;else if(J){A=B;I(J)}}return this},remove:function(){if(G)p.each(arguments,function(F,A){var B;while((B=p.inArray(A,G,B))>-1){G.splice(B,1);if(C){if(B<=E)E--;if(B<=D)D--}}});return this},has:function(A){return p.inArray(A,G)>-1},empty:function(){G=[];return this},disable:function(){G=H=J=h2;return this},disabled:function(){return!G},lock:function(){H=h2;if(!J)F.disable();return this},locked:function(){return!H},fireWith:function(D,A){A=A||[];A=[D,A.slice?A.slice():A];if(G&&(!B||H))if(C)H.push(A);else I(A);return this},fire:function(){F.fireWith(this,arguments);return this},fired:function(){return!!B}};return F};p.extend({Deferred:function(C){var E=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],A="pending",B={state:function(){return A},always:function(){D.done(arguments).fail(arguments);return this},then:function(){var A=arguments;return p.Deferred(function(B){p.each(E,function(G,C){var E=C[0],F=A[G];D[C[1]](p.isFunction(F)?function(){var A=F.apply(this,arguments);if(A&&p.isFunction(A.promise))A.promise().done(B.resolve).fail(B.reject).progress(B.notify);else B[E+"With"](this===D?B:this,[A])}:B[E])});A=null}).promise()},promise:function(A){return typeof A==="object"?p.extend(A,B):B}},D={};B.pipe=B.then;p.each(E,function(H,C){var F=C[2],G=C[3];B[C[1]]=F.add;if(G)F.add(function(){A=G},E[H^1][2].disable,E[2][2].lock);D[C[0]]=F.fire;D[C[0]+"With"]=F.fireWith});B.promise(D);if(C)C.call(D,D);return D},when:function(I){var J=0,C=O.call(arguments),G=C.length,E=G!==1||(I&&p.isFunction(I.promise))?G:0,H=E===1?I:p.Deferred(),F=function(C,B,A){return function(F){B[C]=this;A[C]=arguments.length>1?O.call(arguments):F;if(A===D)H.notifyWith(B,A);else if(!(--E))H.resolveWith(B,A)}},D,B,A;if(G>1){D=new Array(G);B=new Array(G);A=new Array(G);for(;J<G;J++)if(C[J]&&p.isFunction(C[J].promise))C[J].promise().done(F(J,A,C)).fail(H.reject).progress(F(J,B,D));else--E}if(!E)H.resolveWith(A,C);return H.promise()}});p.support=(function(){var C,L,F,E,M,I,K,J,H,A,D,G=_.createElement("div");G.setAttribute("className","t");G.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";L=G.getElementsByTagName("*");F=G.getElementsByTagName("a")[0];F.style.cssText="top:1px;float:left;opacity:.5";if(!L||!L.length||!F)return{};E=_.createElement("select");M=E.appendChild(_.createElement("option"));I=G.getElementsByTagName("input")[0];C={leadingWhitespace:(G.firstChild.nodeType===3),tbody:!G.getElementsByTagName("tbody").length,htmlSerialize:!!G.getElementsByTagName("link").length,style:/top/.test(F.getAttribute("style")),hrefNormalized:(F.getAttribute("href")==="/a"),opacity:/^0.5/.test(F.style.opacity),cssFloat:!!F.style.cssFloat,checkOn:(I.value==="on"),optSelected:M.selected,getSetAttribute:G.className!=="t",enctype:!!_.createElement("form").enctype,html5Clone:_.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(_.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};I.checked=true;C.noCloneChecked=I.cloneNode(true).checked;E.disabled=true;C.optDisabled=!M.disabled;try{delete G.test}catch(B){C.deleteExpando=false}if(!G.addEventListener&&G.attachEvent&&G.fireEvent){G.attachEvent("onclick",D=function(){C.noCloneEvent=false});G.cloneNode(true).fireEvent("onclick");G.detachEvent("onclick",D)}I=_.createElement("input");I.value="t";I.setAttribute("type","radio");C.radioValue=I.value==="t";I.setAttribute("checked","checked");I.setAttribute("name","t");G.appendChild(I);K=_.createDocumentFragment();K.appendChild(G.lastChild);C.checkClone=K.cloneNode(true).cloneNode(true).lastChild.checked;C.appendChecked=I.checked;K.removeChild(I);K.appendChild(G);if(G.attachEvent)for(H in{submit:true,change:true,focusin:true}){J="on"+H;A=(J in G);if(!A){G.setAttribute(J,"return;");A=(typeof G[J]==="function")}C[H+"Bubbles"]=A}p(function(){var D,F,H,E,G="padding:0;margin:0;border:0;display:block;overflow:hidden;",B=_.getElementsByTagName("body")[0];if(!B)return;D=_.createElement("div");D.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";B.insertBefore(D,B.firstChild);F=_.createElement("div");D.appendChild(F);F.innerHTML="<table><tr><td></td><td>t</td></tr></table>";H=F.getElementsByTagName("td");H[0].style.cssText="padding:0;margin:0;border:0;display:none";A=(H[0].offsetHeight===0);H[0].style.display="";H[1].style.display="none";C.reliableHiddenOffsets=A&&(H[0].offsetHeight===0);F.innerHTML="";F.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";C.boxSizing=(F.offsetWidth===4);C.doesNotIncludeMarginInBodyOffset=(B.offsetTop!==1);if(G2.getComputedStyle){C.pixelPosition=(G2.getComputedStyle(F,null)||{}).top!=="1%";C.boxSizingReliable=(G2.getComputedStyle(F,null)||{width:"4px"}).width==="4px";E=_.createElement("div");E.style.cssText=F.style.cssText=G;E.style.marginRight=E.style.width="0";F.style.width="1px";F.appendChild(E);C.reliableMarginRight=!parseFloat((G2.getComputedStyle(E,null)||{}).marginRight)}if(typeof F.style.zoom!=="undefined"){F.innerHTML="";F.style.cssText=G+"width:1px;padding:1px;display:inline;zoom:1";C.inlineBlockNeedsLayout=(F.offsetWidth===3);F.style.display="block";F.style.overflow="visible";F.innerHTML="<div></div>";F.firstChild.style.width="5px";C.shrinkWrapBlocks=(F.offsetWidth!==3);D.style.zoom=1}B.removeChild(D);D=F=H=E=null});K.removeChild(G);L=F=E=M=I=K=G=null;return C})();var a2=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,e=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{"embed":true,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet":true},hasData:function(A){A=A.nodeType?p.cache[A[p.expando]]:A[p.expando];return!!A&&!j2(A)},data:function(D,I,J,C){if(!p.acceptData(D))return;var H,B,F=p.expando,K=typeof I==="string",E=D.nodeType,G=E?p.cache:D,A=E?D[F]:D[F]&&F;if((!A||!G[A]||(!C&&!G[A].data))&&K&&J===h2)return;if(!A)if(E)D[F]=A=p.deletedIds.pop()||++p.uuid;else A=F;if(!G[A]){G[A]={};if(!E)G[A].toJSON=p.noop}if(typeof I==="object"||typeof I==="function")if(C)G[A]=p.extend(G[A],I);else G[A].data=p.extend(G[A].data,I);H=G[A];if(!C){if(!H.data)H.data={};H=H.data}if(J!==h2)H[p.camelCase(I)]=J;if(K){B=H[I];if(B==null)B=H[p.camelCase(I)]}else B=H;return B},removeData:function(C,G,B){if(!p.acceptData(C))return;var F,I,H,D=C.nodeType,E=D?p.cache:C,A=D?C[p.expando]:p.expando;if(!E[A])return;if(G){F=B?E[A]:E[A].data;if(F){if(!p.isArray(G))if(G in F)G=[G];else{G=p.camelCase(G);if(G in F)G=[G];else G=G.split(" ")}for(I=0,H=G.length;I<H;I++)delete F[G[I]];if(!(B?j2:p.isEmptyObject)(F))return}}if(!B){delete E[A].data;if(!j2(E[A]))return}if(D)p.cleanData([C],true);else if(p.support.deleteExpando||E!=E.window)delete E[A];else E[A]=null},_data:function(A,B,C){return p.data(A,B,C,true)},acceptData:function(A){var B=A.nodeName&&p.noData[A.nodeName.toLowerCase()];return!B||B!==true&&A.getAttribute("classid")===B}});p.fn.extend({data:function(I,D){var G,H,F,B,E,A=this[0],J=0,C=null;if(I===h2){if(this.length){C=p.data(A);if(A.nodeType===1&&!p._data(A,"parsedAttrs")){F=A.attributes;for(E=F.length;J<E;J++){B=F[J].name;if(B.indexOf("data-")===0){B=p.camelCase(B.substring(5));a(A,B,C[B])}}p._data(A,"parsedAttrs",true)}}return C}if(typeof I==="object")return this.each(function(){p.data(this,I)});G=I.split(".",2);G[1]=G[1]?"."+G[1]:"";H=G[1]+"!";return p.access(this,function(B){if(B===h2){C=this.triggerHandler("getData"+H,[G[0]]);if(C===h2&&A){C=p.data(A,I);C=a(A,I,C)}return C===h2&&G[1]?this.data(G[0]):C}G[1]=B;this.each(function(){var A=p(this);A.triggerHandler("setData"+H,G);p.data(this,I,B);A.triggerHandler("changeData"+H,G)})},null,D,arguments.length>1,null,false)},removeData:function(A){return this.each(function(){p.removeData(this,A)})}});function a(A,E,D){if(D===h2&&A.nodeType===1){var C="data-"+E.replace(e,"-$1").toLowerCase();D=A.getAttribute(C);if(typeof D==="string"){try{D=D==="true"?true:D==="false"?false:D==="null"?null:+D+""===D?+D:a2.test(D)?p.parseJSON(D):D}catch(B){}p.data(A,E,D)}else D=h2}return D}function j2(B){var A;for(A in B){if(A==="data"&&p.isEmptyObject(B[A]))continue;if(A!=="toJSON")return false}return true}p.extend({queue:function(A,D,C){var B;if(A){D=(D||"fx")+"queue";B=p._data(A,D);if(C)if(!B||p.isArray(C))B=p._data(A,D,p.makeArray(C));else B.push(C);return B||[]}},dequeue:function(A,F){F=F||"fx";var B=p.queue(A,F),C=B.length,G=B.shift(),D=p._queueHooks(A,F),E=function(){p.dequeue(A,F)};if(G==="inprogress"){G=B.shift();C--}if(G){if(F==="fx")B.unshift("inprogress");delete D.stop;G.call(A,E,D)}if(!C&&D)D.empty.fire()},_queueHooks:function(A,B){var C=B+"queueHooks";return p._data(A,C)||p._data(A,C,{empty:p.Callbacks("once memory").add(function(){p.removeData(A,B+"queue",true);p.removeData(A,C,true)})})}});p.fn.extend({queue:function(C,A){var B=2;if(typeof C!=="string"){A=C;C="fx";B--}if(arguments.length<B)return p.queue(this[0],C);return A===h2?this:this.each(function(){var B=p.queue(this,C,A);p._queueHooks(this,C);if(C==="fx"&&B[0]!=="inprogress")p.dequeue(this,C)})},dequeue:function(A){return this.each(function(){p.dequeue(this,A)})},delay:function(A,B){A=p.fx?p.fx.speeds[A]||A:A;B=B||"fx";return this.queue(B,function(C,B){var D=setTimeout(C,A);B.stop=function(){clearTimeout(D)}})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(F,E){var D,C=1,A=p.Deferred(),G=this,H=this.length,B=function(){if(!(--C))A.resolveWith(G,[G])};if(typeof F!=="string"){E=F;F=h2}F=F||"fx";while(H--){D=p._data(G[H],F+"queueHooks");if(D&&D.empty){C++;D.empty.add(B)}}B();return A.promise(E)}});var c2,S2,l2,o1=/[\t\r\n]/g,N=/\r/g,X2=/^(?:button|input)$/i,u=/^(?:button|input|object|select|textarea)$/i,y1=/^a(?:rea|)$/i,H=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,A3=p.support.getSetAttribute;p.fn.extend({attr:function(A,B){return p.access(this,p.attr,A,B,arguments.length>1)},removeAttr:function(A){return this.each(function(){p.removeAttr(this,A)})},prop:function(A,B){return p.access(this,p.prop,A,B,arguments.length>1)},removeProp:function(A){A=p.propFix[A]||A;return this.each(function(){try{this[A]=h2;delete this[A]}catch(B){}})},addClass:function(D){var G,H,F,A,E,B,C;if(p.isFunction(D))return this.each(function(A){p(this).addClass(D.call(this,A,this.className))});if(D&&typeof D==="string"){G=D.split(L1);for(H=0,F=this.length;H<F;H++){A=this[H];if(A.nodeType===1)if(!A.className&&G.length===1)A.className=D;else{E=" "+A.className+" ";for(B=0,C=G.length;B<C;B++)if(!~E.indexOf(" "+G[B]+" "))E+=G[B]+" ";A.className=p.trim(E)}}}return this},removeClass:function(E){var C,G,A,B,D,H,F;if(p.isFunction(E))return this.each(function(A){p(this).removeClass(E.call(this,A,this.className))});if((E&&typeof E==="string")||E===h2){C=(E||"").split(L1);for(H=0,F=this.length;H<F;H++){A=this[H];if(A.nodeType===1&&A.className){G=(" "+A.className+" ").replace(o1," ");for(B=0,D=C.length;B<D;B++)while(G.indexOf(" "+C[B]+" ")>-1)G=G.replace(" "+C[B]+" "," ");A.className=E?p.trim(G):""}}}return this},toggleClass:function(B,A){var D=typeof B,C=typeof A==="boolean";if(p.isFunction(B))return this.each(function(C){p(this).toggleClass(B.call(this,C,this.className,A),A)});return this.each(function(){if(D==="string"){var H,I=0,G=p(this),E=A,F=B.split(L1);while((H=F[I++])){E=C?E:!G.hasClass(H);G[E?"addClass":"removeClass"](H)}}else if(D==="undefined"||D==="boolean"){if(this.className)p._data(this,"__className__",this.className);this.className=this.className||B===false?"":p._data(this,"__className__")||""}})},hasClass:function(A){var C=" "+A+" ",D=0,B=this.length;for(;D<B;D++)if(this[D].nodeType===1&&(" "+this[D].className+" ").replace(o1," ").indexOf(C)>-1)return true;return false},val:function(E){var C,B,D,A=this[0];if(!arguments.length){if(A){C=p.valHooks[A.type]||p.valHooks[A.nodeName.toLowerCase()];if(C&&"get"in C&&(B=C.get(A,"value"))!==h2)return B;B=A.value;return typeof B==="string"?B.replace(N,""):B==null?"":B}return}D=p.isFunction(E);return this.each(function(F){var A,B=p(this);if(this.nodeType!==1)return;if(D)A=E.call(this,F,B.val());else A=E;if(A==null)A="";else if(typeof A==="number")A+="";else if(p.isArray(A))A=p.map(A,function(A){return A==null?"":A+""});C=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()];if(!C||!("set"in C)||C.set(this,A,"value")===h2)this.value=A})}});p.extend({valHooks:{option:{get:function(B){var A=B.attributes.value;return!A||A.specified?B.value:B.text}},select:{get:function(A){var F,I,D,G,B=A.selectedIndex,C=[],H=A.options,E=A.type==="select-one";if(B<0)return null;I=E?B:0;D=E?B+1:H.length;for(;I<D;I++){G=H[I];if(G.selected&&(p.support.optDisabled?!G.disabled:G.getAttribute("disabled")===null)&&(!G.parentNode.disabled||!p.nodeName(G.parentNode,"optgroup"))){F=p(G).val();if(E)return F;C.push(F)}}if(E&&!C.length&&H.length)return p(H[B]).val();return C},set:function(A,C){var B=p.makeArray(C);p(A).find("option").each(function(){this.selected=p.inArray(p(this).val(),B)>=0});if(!B.length)A.selectedIndex=-1;return B}}},attrFn:{},attr:function(B,E,F,I){var A,D,C,G=B.nodeType;if(!B||G===3||G===8||G===2)return;if(I&&p.isFunction(p.fn[E]))return p(B)[E](F);if(typeof B.getAttribute==="undefined")return p.prop(B,E,F);C=G!==1||!p.isXMLDoc(B);if(C){E=E.toLowerCase();D=p.attrHooks[E]||(H.test(E)?S2:c2)}if(F!==h2){if(F===null){p.removeAttr(B,E);return}else if(D&&"set"in D&&C&&(A=D.set(B,F,E))!==h2)return A;else{B.setAttribute(E,""+F);return F}}else if(D&&"get"in D&&C&&(A=D.get(B,E))!==null)return A;else{A=B.getAttribute(E);return A===null?h2:A}},removeAttr:function(A,D){var F,B,C,E,G=0;if(D&&A.nodeType===1){B=D.split(L1);for(;G<B.length;G++){C=B[G];if(C){F=p.propFix[C]||C;E=H.test(C);if(!E)p.attr(A,C,"");A.removeAttribute(A3?C:F);if(E&&F in A)A[F]=false}}}},attrHooks:{type:{set:function(B,C){if(X2.test(B.nodeName)&&B.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&C==="radio"&&p.nodeName(B,"input")){var A=B.value;B.setAttribute("type",C);if(A)B.value=A;return C}}},value:{get:function(A,B){if(c2&&p.nodeName(A,"button"))return c2.get(A,B);return B in A?A.value:null},set:function(A,C,B){if(c2&&p.nodeName(A,"button"))return c2.set(A,C,B);A.value=C}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(B,E,F){var A,D,C,G=B.nodeType;if(!B||G===3||G===8||G===2)return;C=G!==1||!p.isXMLDoc(B);if(C){E=p.propFix[E]||E;D=p.propHooks[E]}if(F!==h2){if(D&&"set"in D&&(A=D.set(B,F,E))!==h2)return A;else return(B[E]=F)}else if(D&&"get"in D&&(A=D.get(B,E))!==null)return A;else return B[E]},propHooks:{tabIndex:{get:function(A){var B=A.getAttributeNode("tabindex");return B&&B.specified?parseInt(B.value,10):u.test(A.nodeName)||y1.test(A.nodeName)&&A.href?0:h2}}}});S2={get:function(A,C){var B,D=p.prop(A,C);return D===true||typeof D!=="boolean"&&(B=A.getAttributeNode(C))&&B.nodeValue!==false?C.toLowerCase():h2},set:function(A,C,B){var D;if(C===false)p.removeAttr(A,B);else{D=p.propFix[B]||B;if(D in A)A[D]=true;A.setAttribute(B,B.toLowerCase())}return B}};if(!A3){l2={name:true,id:true,coords:true};c2=p.valHooks.button={get:function(B,C){var A;A=B.getAttributeNode(C);return A&&(l2[C]?A.value!=="":A.specified)?A.value:h2},set:function(B,D,C){var A=B.getAttributeNode(C);if(!A){A=_.createAttribute(C);B.setAttributeNode(A)}return(A.value=D+"")}};p.each(["width","height"],function(B,A){p.attrHooks[A]=p.extend(p.attrHooks[A],{set:function(B,C){if(C===""){B.setAttribute(A,"auto");return C}}})});p.attrHooks.contenteditable={get:c2.get,set:function(A,C,B){if(C==="")C="false";c2.set(A,C,B)}}}if(!p.support.hrefNormalized)p.each(["href","src","width","height"],function(B,A){p.attrHooks[A]=p.extend(p.attrHooks[A],{get:function(C){var B=C.getAttribute(A,2);return B===null?h2:B}})});if(!p.support.style)p.attrHooks.style={get:function(A){return A.style.cssText.toLowerCase()||h2},set:function(A,B){return(A.style.cssText=""+B)}};if(!p.support.optSelected)p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(A){var B=A.parentNode;if(B){B.selectedIndex;if(B.parentNode)B.parentNode.selectedIndex}return null}});if(!p.support.enctype)p.propFix.enctype="encoding";if(!p.support.checkOn)p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(A){return A.getAttribute("value")===null?"on":A.value}}});p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(A,B){if(p.isArray(B))return(A.checked=p.inArray(p(A).val(),B)>=0)}})});var N1=/^(?:textarea|input|select)$/i,T1=/^([^\.]*|)(?:\.(.+)|)$/,s1=/(?:^|\s)hover(\.\S+|)\b/,q=/^key/,Y=/^(?:mouse|contextmenu)|click/,r1=/^(?:focusinfocus|focusoutblur)$/,H2=function(A){return p.event.special.hover?A:A.replace(s1,"mouseenter$1 mouseleave$1")};p.event={add:function(J,O,P,C,A){var F,K,B,L,M,G,H,E,D,I,N;if(J.nodeType===3||J.nodeType===8||!O||!P||!(F=p._data(J)))return;if(P.handler){D=P;P=D.handler;A=D.selector}if(!P.guid)P.guid=p.guid++;B=F.events;if(!B)F.events=B={};K=F.handle;if(!K){F.handle=K=function(A){return typeof p!=="undefined"&&(!A||p.event.triggered!==A.type)?p.event.dispatch.apply(K.elem,arguments):h2};K.elem=J}O=p.trim(H2(O)).split(" ");for(L=0;L<O.length;L++){M=T1.exec(O[L])||[];G=M[1];H=(M[2]||"").split(".").sort();N=p.event.special[G]||{};G=(A?N.delegateType:N.bindType)||G;N=p.event.special[G]||{};E=p.extend({type:G,origType:M[1],data:C,handler:P,guid:P.guid,selector:A,namespace:H.join(".")},D);I=B[G];if(!I){I=B[G]=[];I.delegateCount=0;if(!N.setup||N.setup.call(J,C,H,K)===false)if(J.addEventListener)J.addEventListener(G,K,false);else if(J.attachEvent)J.attachEvent("on"+G,K)}if(N.add){N.add.call(J,E);if(!E.handler.guid)E.handler.guid=P.guid}if(A)I.splice(I.delegateCount++,0,E);else I.push(E);p.event.global[G]=true}J=null},global:{},remove:function(J,O,Q,A,M){var K,L,G,P,I,C,H,B,N,F,E,D=p.hasData(J)&&p._data(J);if(!D||!(B=D.events))return;O=p.trim(H2(O||"")).split(" ");for(K=0;K<O.length;K++){L=T1.exec(O[K])||[];G=P=L[1];I=L[2];if(!G){for(G in B)p.event.remove(J,G+O[K],Q,A,true);continue}N=p.event.special[G]||{};G=(A?N.delegateType:N.bindType)||G;F=B[G]||[];C=F.length;I=I?new RegExp("(^|\\.)"+I.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(H=0;H<F.length;H++){E=F[H];if((M||P===E.origType)&&(!Q||Q.guid===E.guid)&&(!I||I.test(E.namespace))&&(!A||A===E.selector||A==="**"&&E.selector)){F.splice(H--,1);if(E.selector)F.delegateCount--;if(N.remove)N.remove.call(J,E)}}if(F.length===0&&C!==F.length){if(!N.teardown||N.teardown.call(J,I,D.handle)===false)p.removeEvent(J,G,D.handle);delete B[G]}}if(p.isEmptyObject(B)){delete D.handle;p.removeData(J,"events",true)}},customEvent:{"getData":true,"setData":true,"changeData":true},trigger:function(M,E,J,K){if(J&&(J.nodeType===3||J.nodeType===8))return;var C,D,I,O,A,N,P,B,L,F,G=M.type||M,H=[];if(r1.test(G+p.event.triggered))return;if(G.indexOf("!")>=0){G=G.slice(0,-1);D=true}if(G.indexOf(".")>=0){H=G.split(".");G=H.shift();H.sort()}if((!J||p.event.customEvent[G])&&!p.event.global[G])return;M=typeof M==="object"?M[p.expando]?M:new p.Event(G,M):new p.Event(G);M.type=G;M.isTrigger=true;M.exclusive=D;M.namespace=H.join(".");M.namespace_re=M.namespace?new RegExp("(^|\\.)"+H.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;N=G.indexOf(":")<0?"on"+G:"";if(!J){C=p.cache;for(I in C)if(C[I].events&&C[I].events[G])p.event.trigger(M,E,C[I].handle.elem,true);return}M.result=h2;if(!M.target)M.target=J;E=E!=null?p.makeArray(E):[];E.unshift(M);P=p.event.special[G]||{};if(P.trigger&&P.trigger.apply(J,E)===false)return;L=[[J,P.bindType||G]];if(!K&&!P.noBubble&&!p.isWindow(J)){F=P.delegateType||G;O=r1.test(F+G)?J:J.parentNode;for(A=J;O;O=O.parentNode){L.push([O,F]);A=O}if(A===(J.ownerDocument||_))L.push([A.defaultView||A.parentWindow||G2,F])}for(I=0;I<L.length&&!M.isPropagationStopped();I++){O=L[I][0];M.type=L[I][1];B=(p._data(O,"events")||{})[M.type]&&p._data(O,"handle");if(B)B.apply(O,E);B=N&&O[N];if(B&&p.acceptData(O)&&B.apply(O,E)===false)M.preventDefault()}M.type=G;if(!K&&!M.isDefaultPrevented())if((!P._default||P._default.apply(J.ownerDocument,E)===false)&&!(G==="click"&&p.nodeName(J,"a"))&&p.acceptData(J))if(N&&J[G]&&((G!=="focus"&&G!=="blur")||M.target.offsetWidth!==0)&&!p.isWindow(J)){A=J[N];if(A)J[N]=null;p.event.triggered=G;J[G]();p.event.triggered=h2;if(A)J[N]=A}return M.result},dispatch:function(M){M=p.event.fix(M||G2.event);var I,G,N,A,E,C,L,F,P,J,K=((p._data(this,"events")||{})[M.type]||[]),Q=K.delegateCount,D=[].slice.call(arguments),H=!M.exclusive&&!M.namespace,O=p.event.special[M.type]||{},B=[];D[0]=M;M.delegateTarget=this;if(O.preDispatch&&O.preDispatch.call(this,M)===false)return;if(Q&&!(M.button&&M.type==="click"))for(N=M.target;N!=this;N=N.parentNode||this)if(N.disabled!==true||M.type!=="click"){E={};L=[];for(I=0;I<Q;I++){F=K[I];P=F.selector;if(E[P]===h2)E[P]=p(P,this).index(N)>=0;if(E[P])L.push(F)}if(L.length)B.push({elem:N,matches:L})}if(K.length>Q)B.push({elem:this,matches:K.slice(Q)});for(I=0;I<B.length&&!M.isPropagationStopped();I++){C=B[I];M.currentTarget=C.elem;for(G=0;G<C.matches.length&&!M.isImmediatePropagationStopped();G++){F=C.matches[G];if(H||(!M.namespace&&!F.namespace)||M.namespace_re&&M.namespace_re.test(F.namespace)){M.data=F.data;M.handleObj=F;A=((p.event.special[F.origType]||{}).handle||F.handler).apply(C.elem,D);if(A!==h2){M.result=A;if(A===false){M.preventDefault();M.stopPropagation()}}}}}if(O.postDispatch)O.postDispatch.call(this,M);return M.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(A,B){if(A.which==null)A.which=B.charCode!=null?B.charCode:B.keyCode;return A}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(D,F){var G,E,A,C=F.button,B=F.fromElement;if(D.pageX==null&&F.clientX!=null){G=D.target.ownerDocument||_;E=G.documentElement;A=G.body;D.pageX=F.clientX+(E&&E.scrollLeft||A&&A.scrollLeft||0)-(E&&E.clientLeft||A&&A.clientLeft||0);D.pageY=F.clientY+(E&&E.scrollTop||A&&A.scrollTop||0)-(E&&E.clientTop||A&&A.clientTop||0)}if(!D.relatedTarget&&B)D.relatedTarget=B===D.target?F.toElement:B;if(!D.which&&C!==h2)D.which=(C&1?1:(C&2?3:(C&4?2:0)));return D}},fix:function(C){if(C[p.expando])return C;var F,D,B=C,A=p.event.fixHooks[C.type]||{},E=A.props?this.props.concat(A.props):this.props;C=p.Event(B);for(F=E.length;F;){D=E[--F];C[D]=B[D]}if(!C.target)C.target=B.srcElement||_;if(C.target.nodeType===3)C.target=C.target.parentNode;C.metaKey=!!C.metaKey;return A.filter?A.filter(C,B):C},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(B,C,A){if(p.isWindow(this))this.onbeforeunload=A},teardown:function(B,A){if(this.onbeforeunload===A)this.onbeforeunload=null}}},simulate:function(E,A,D,B){var C=p.extend(new p.Event(),D,{type:E,isSimulated:true,originalEvent:{}});if(B)p.event.trigger(C,null,A);else p.event.dispatch.call(A,C);if(C.isDefaultPrevented())D.preventDefault()}};p.event.handle=p.event.dispatch;p.removeEvent=_.removeEventListener?function(A,C,B){if(A.removeEventListener)A.removeEventListener(C,B,false)}:function(A,D,B){var C="on"+D;if(A.detachEvent){if(typeof A[C]==="undefined")A[C]=null;A.detachEvent(C,B)}};p.Event=function(A,B){if(!(this instanceof p.Event))return new p.Event(A,B);if(A&&A.type){this.originalEvent=A;this.type=A.type;this.isDefaultPrevented=(A.defaultPrevented||A.returnValue===false||A.getPreventDefault&&A.getPreventDefault())?k1:D}else this.type=A;if(B)p.extend(this,B);this.timeStamp=A&&A.timeStamp||p.now();this[p.expando]=true};function D(){return false}function k1(){return true}p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k1;var A=this.originalEvent;if(!A)return;if(A.preventDefault)A.preventDefault();else A.returnValue=false},stopPropagation:function(){this.isPropagationStopped=k1;var A=this.originalEvent;if(!A)return;if(A.stopPropagation)A.stopPropagation();A.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k1;this.stopPropagation()},isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D};p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(B,A){p.event.special[B]={delegateType:A,bindType:A,handle:function(D){var C,E=this,G=D.relatedTarget,F=D.handleObj,B=F.selector;if(!G||(G!==E&&!p.contains(E,G))){D.type=F.origType;C=F.handler.apply(this,arguments);D.type=A}return C}}});if(!p.support.submitBubbles)p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return false;p.event.add(this,"click._submit keypress._submit",function(B){var A=B.target,C=p.nodeName(A,"input")||p.nodeName(A,"button")?A.form:h2;if(C&&!p._data(C,"_submit_attached")){p.event.add(C,"submit._submit",function(A){A._submit_bubble=true});p._data(C,"_submit_attached",true)}})},postDispatch:function(A){if(A._submit_bubble){delete A._submit_bubble;if(this.parentNode&&!A.isTrigger)p.event.simulate("submit",this.parentNode,A,true)}},teardown:function(){if(p.nodeName(this,"form"))return false;p.event.remove(this,"._submit")}};if(!p.support.changeBubbles)p.event.special.change={setup:function(){if(N1.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){p.event.add(this,"propertychange._change",function(A){if(A.originalEvent.propertyName==="checked")this._just_changed=true});p.event.add(this,"click._change",function(A){if(this._just_changed&&!A.isTrigger)this._just_changed=false;p.event.simulate("change",this,A,true)})}return false}p.event.add(this,"beforeactivate._change",function(B){var A=B.target;if(N1.test(A.nodeName)&&!p._data(A,"_change_attached")){p.event.add(A,"change._change",function(A){if(this.parentNode&&!A.isSimulated&&!A.isTrigger)p.event.simulate("change",this.parentNode,A,true)});p._data(A,"_change_attached",true)}})},handle:function(B){var A=B.target;if(this!==A||B.isSimulated||B.isTrigger||(A.type!=="radio"&&A.type!=="checkbox"))return B.handleObj.handler.apply(this,arguments)},teardown:function(){p.event.remove(this,"._change");return!N1.test(this.nodeName)}};if(!p.support.focusinBubbles)p.each({focus:"focusin",blur:"focusout"},function(B,A){var C=0,D=function(B){p.event.simulate(A,B.target,p.event.fix(B),true)};p.event.special[A]={setup:function(){if(C++===0)_.addEventListener(B,D,true)},teardown:function(){if(--C===0)_.removeEventListener(B,D,true)}}});p.fn.extend({on:function(G,B,E,H,C){var A,F;if(typeof G==="object"){if(typeof B!=="string"){E=E||B;B=h2}for(F in G)this.on(F,B,E,G[F],C);return this}if(E==null&&H==null){H=B;E=B=h2}else if(H==null)if(typeof B==="string"){H=E;E=h2}else{H=E;E=B;B=h2}if(H===false)H=D;else if(!H)return this;if(C===1){A=H;H=function(B){p().off(B);return A.apply(this,arguments)};H.guid=A.guid||(A.guid=p.guid++)}return this.each(function(){p.event.add(this,G,H,E,B)})},one:function(C,A,B,D){return this.on(C,A,B,D,1)},off:function(E,A,F){var B,C;if(E&&E.preventDefault&&E.handleObj){B=E.handleObj;p(E.delegateTarget).off(B.namespace?B.origType+"."+B.namespace:B.origType,B.selector,B.handler);return this}if(typeof E==="object"){for(C in E)this.off(C,A,E[C]);return this}if(A===false||typeof A==="function"){F=A;A=h2}if(F===false)F=D;return this.each(function(){p.event.remove(this,E,F,A)})},bind:function(B,A,C){return this.on(B,null,A,C)},unbind:function(A,B){return this.off(A,null,B)},live:function(B,A,C){p(this.context).on(B,this.selector,A,C);return this},die:function(A,B){p(this.context).off(A,this.selector||"**",B);return this},delegate:function(A,C,B,D){return this.on(C,A,B,D)},undelegate:function(A,B,C){return arguments.length==1?this.off(A,"**"):this.off(B,A||"**",C)},trigger:function(B,A){return this.each(function(){p.event.trigger(B,A,this)})},triggerHandler:function(B,A){if(this[0])return p.event.trigger(B,A,this[0],true)},toggle:function(D){var B=arguments,A=D.guid||p.guid++,E=0,C=function(A){var C=(p._data(this,"lastToggle"+D.guid)||0)%E;p._data(this,"lastToggle"+D.guid,C+1);A.preventDefault();return B[C].apply(this,arguments)||false};C.guid=A;while(E<B.length)B[E++].guid=A;return this.click(C)},hover:function(B,A){return this.mouseenter(B).mouseleave(A||B)}});p.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(B,A){p.fn[A]=function(B,C){if(C==null){C=B;B=null}return arguments.length>0?this.on(A,null,B,C):this.trigger(A)};if(q.test(A))p.event.fixHooks[A]=p.event.keyHooks;if(Y.test(A))p.event.fixHooks[A]=p.event.mouseHooks});(function(U,q){var R,B,G1,M,l,n,C,r,O,f,e=true,G="undefined",E1=("sizcache"+Math.random()).replace(".",""),m=U.document,W=m.documentElement,Q=0,J1=[].slice,k=[].push,w=function(B,A){B[E1]=A||true;return B},X=function(){var A={},B=[];return w(function(D,C){if(B.push(D)>M.cacheLength)delete A[B.shift()];return(A[D]=C)},A)},E=X(),D=X(),o=X(),S="[\\x20\\t\\r\\n\\f]",b="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",a=b.replace("w","w#"),t="([*^$|!~]?=)",K1="\\["+S+"*("+b+")"+S+"*(?:"+t+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+a+")|)|)"+S+"*\\]",v=":("+b+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+K1+")|[^:]|\\\\.)*|.*))\\)|)",H=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",y=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),z=new RegExp("^"+S+"*,"+S+"*"),Z=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),J=new RegExp(v),V=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,A1=/^:not/,C1=/[\x20\t\r\n\f]*[+~]/,H1=/:not\($/,F=/h\d/i,i=/input|select|textarea|button/i,_=/\\(?!\\)/g,F1={"ID":new RegExp("^#("+b+")"),"CLASS":new RegExp("^\\.("+b+")"),"NAME":new RegExp("^\\[name=['\"]?("+b+")['\"]?\\]"),"TAG":new RegExp("^("+b.replace("w","w*")+")"),"ATTR":new RegExp("^"+K1),"PSEUDO":new RegExp("^"+v),"CHILD":new RegExp("^:(only|nth|last|first)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),"POS":new RegExp(H,"ig"),"needsContext":new RegExp("^"+S+"*[>+~]|"+H,"i")},I1=function(C){var B=m.createElement("div");try{return C(B)}catch(A){return false}finally{B=null}},A=I1(function(A){A.appendChild(m.createComment(""));return!A.getElementsByTagName("*").length}),T=I1(function(A){A.innerHTML="<a href='#'></a>";return A.firstChild&&typeof A.firstChild.getAttribute!==G&&A.firstChild.getAttribute("href")==="#"}),j=I1(function(A){A.innerHTML="<select></select>";var B=typeof A.lastChild.getAttribute("multiple");return B!=="boolean"&&B!=="string"}),g=I1(function(A){A.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!A.getElementsByClassName||!A.getElementsByClassName("e").length)return false;A.lastChild.className="e";return A.getElementsByClassName("e").length===2}),d=I1(function(A){A.id=E1+0;A.innerHTML="<a name='"+E1+"'></a><div name='"+E1+"'></div>";W.insertBefore(A,W.firstChild);var B=m.getElementsByName&&m.getElementsByName(E1).length===2+m.getElementsByName(E1+0).length;G1=!m.getElementById(E1);W.removeChild(A);return B});try{J1.call(W.childNodes,0)[0].nodeType}catch(x){J1=function(C){var A,B=[];for(;(A=this[C]);C++)B.push(A);return B}}function $(B,F,D,E){D=D||[];F=F||m;var I,A,G,H,J=F.nodeType;if(J!==1&&J!==9)return[];if(!B||typeof B!=="string")return D;G=n(F);if(!G&&!E)if((I=V.exec(B)))if((H=I[1])){if(J===9){A=F.getElementById(H);if(A&&A.parentNode){if(A.id===H){D.push(A);return D}}else return D}else if(F.ownerDocument&&(A=F.ownerDocument.getElementById(H))&&C(F,A)&&A.id===H){D.push(A);return D}}else if(I[2]){k.apply(D,J1.call(F.getElementsByTagName(B),0));return D}else if((H=I[3])&&g&&F.getElementsByClassName){k.apply(D,J1.call(F.getElementsByClassName(H),0));return D}return N(B,F,D,E,G)}$.matches=function(A,B){return $(A,null,null,B)};$.matchesSelector=function(A,B){return $(B,null,null,[A]).length>0};function D1(A){return function(B){var C=B.nodeName.toLowerCase();return C==="input"&&B.type===A}}function h(A){return function(B){var C=B.nodeName.toLowerCase();return(C==="input"||C==="button")&&B.type===A}}l=$.getText=function(B){var C,A="",E=0,D=B.nodeType;if(D){if(D===1||D===9||D===11){if(typeof B.textContent==="string")return B.textContent;else for(B=B.firstChild;B;B=B.nextSibling)A+=l(B)}else if(D===3||D===4)return B.nodeValue}else for(;(C=B[E]);E++)A+=l(C);return A};n=$.isXML=function n(A){var B=A&&(A.ownerDocument||A).documentElement;return B?B.nodeName!=="HTML":false};C=$.contains=W.contains?function(C,B){var D=C.nodeType===9?C.documentElement:C,A=B&&B.parentNode;return C===A||!!(A&&A.nodeType===1&&D.contains&&D.contains(A))}:W.compareDocumentPosition?function(B,A){return A&&!!(B.compareDocumentPosition(A)&16)}:function(B,A){while((A=A.parentNode))if(A===B)return true;return false};$.attr=function(A,B){var D,C=n(A);if(!C)B=B.toLowerCase();if(M.attrHandle[B])return M.attrHandle[B](A);if(j||C)return A.getAttribute(B);D=A.getAttributeNode(B);return D?typeof A[B]==="boolean"?A[B]?B:null:D.specified?D.value:null:null};M=$.selectors={cacheLength:50,createPseudo:w,match:F1,order:new RegExp("ID|TAG"+(d?"|NAME":"")+(g?"|CLASS":"")),attrHandle:T?{}:{"href":function(A){return A.getAttribute("href",2)},"type":function(A){return A.getAttribute("type")}},find:{"ID":G1?function(A,B,C){if(typeof B.getElementById!==G&&!C){var D=B.getElementById(A);return D&&D.parentNode?[D]:[]}}:function(A,B,C){if(typeof B.getElementById!==G&&!C){var D=B.getElementById(A);return D?D.id===A||typeof D.getAttributeNode!==G&&D.getAttributeNode("id").value===A?[D]:q:[]}},"TAG":A?function(A,B){if(typeof B.getElementsByTagName!==G)return B.getElementsByTagName(A)}:function(C,D){var B=D.getElementsByTagName(C);if(C==="*"){var A,E=[],F=0;for(;(A=B[F]);F++)if(A.nodeType===1)E.push(A);return E}return B},"NAME":function(A,B){if(typeof B.getElementsByName!==G)return B.getElementsByName(name)},"CLASS":function(C,A,B){if(typeof A.getElementsByClassName!==G&&!B)return A.getElementsByClassName(C)}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(A){A[1]=A[1].replace(_,"");A[3]=(A[4]||A[5]||"").replace(_,"");if(A[2]==="~=")A[3]=" "+A[3]+" ";return A.slice(0,4)},"CHILD":function(A){A[1]=A[1].toLowerCase();if(A[1]==="nth"){if(!A[2])$.error(A[0]);A[3]=+(A[3]?A[4]+(A[5]||1):2*(A[2]==="even"||A[2]==="odd"));A[4]=+((A[6]+A[7])||A[2]==="odd")}else if(A[2])$.error(A[0]);return A},"PSEUDO":function(D,B,C){var E,A;if(F1["CHILD"].test(D[0]))return null;if(D[3])D[2]=D[3];else if((E=D[4])){if(J.test(E)&&(A=c(E,B,C,true))&&(A=E.indexOf(")",E.length-A)-E.length)){E=E.slice(0,A);D[0]=D[0].slice(0,A)}D[2]=E}return D.slice(0,3)}},filter:{"ID":G1?function(A){A=A.replace(_,"");return function(B){return B.getAttribute("id")===A}}:function(A){A=A.replace(_,"");return function(B){var C=typeof B.getAttributeNode!==G&&B.getAttributeNode("id");return C&&C.value===A}},"TAG":function(A){if(A==="*")return function(){return true};A=A.replace(_,"").toLowerCase();return function(B){return B.nodeName&&B.nodeName.toLowerCase()===A}},"CLASS":function(B){var A=E[E1][B];if(!A)A=E(B,new RegExp("(^|"+S+")"+B+"("+S+"|$)"));return function(B){return A.test(B.className||(typeof B.getAttribute!==G&&B.getAttribute("class"))||"")}},"ATTR":function(B,C,A){if(!C)return function(A){return $.attr(A,B)!=null};return function(D){var E=$.attr(D,B),F=E+"";if(E==null)return C==="!=";switch(C){case"=":return F===A;case"!=":return F!==A;case"^=":return A&&F.indexOf(A)===0;case"*=":return A&&F.indexOf(A)>-1;case"$=":return A&&F.substr(F.length-A.length)===A;case"~=":return(" "+F+" ").indexOf(A)>-1;case"|=":return F===A||F.substr(0,A.length+1)===A+"-"}}},"CHILD":function(C,A,D,B){if(C==="nth"){var E=Q++;return function(A){var H,G,F=0,C=A;if(D===1&&B===0)return true;H=A.parentNode;if(H&&(H[E1]!==E||!A.sizset)){for(C=H.firstChild;C;C=C.nextSibling)if(C.nodeType===1){C.sizset=++F;if(C===A)break}H[E1]=E}G=A.sizset-B;if(D===0)return G===0;else return(G%D===0&&G/D>=0)}}return function(A){var B=A;switch(C){case"only":case"first":while((B=B.previousSibling))if(B.nodeType===1)return false;if(C==="first")return true;B=A;case"last":while((B=B.nextSibling))if(B.nodeType===1)return false;return true}}},"PSEUDO":function(C,A,D,E){var B,F=M.pseudos[C]||M.pseudos[C.toLowerCase()];if(!F)$.error("unsupported pseudo: "+C);if(!F[E1]){if(F.length>1){B=[C,C,"",A];return function(A){return F(A,0,B)}}return F}return F(A,D,E)}},pseudos:{"not":w(function(A,C,D){var B=r(A.replace(y,"$1"),C,D);return function(A){return!B(A)}}),"enabled":function(A){return A.disabled===false},"disabled":function(A){return A.disabled===true},"checked":function(A){var B=A.nodeName.toLowerCase();return(B==="input"&&!!A.checked)||(B==="option"&&!!A.selected)},"selected":function(A){if(A.parentNode)A.parentNode.selectedIndex;return A.selected===true},"parent":function(A){return!M.pseudos["empty"](A)},"empty":function(A){var B;A=A.firstChild;while(A){if(A.nodeName>"@"||(B=A.nodeType)===3||B===4)return false;A=A.nextSibling}return true},"contains":w(function(A){return function(B){return(B.textContent||B.innerText||l(B)).indexOf(A)>-1}}),"has":w(function(A){return function(B){return $(A,B).length>0}}),"header":function(A){return F.test(A.nodeName)},"text":function(A){var C,B;return A.nodeName.toLowerCase()==="input"&&(C=A.type)==="text"&&((B=A.getAttribute("type"))==null||B.toLowerCase()===C)},"radio":D1("radio"),"checkbox":D1("checkbox"),"file":D1("file"),"password":D1("password"),"image":D1("image"),"submit":h("submit"),"reset":h("reset"),"button":function(A){var B=A.nodeName.toLowerCase();return B==="input"&&A.type==="button"||B==="button"},"input":function(A){return i.test(A.nodeName)},"focus":function(A){var B=A.ownerDocument;return A===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(A.type||A.href)},"active":function(A){return A===A.ownerDocument.activeElement}},setFilters:{"first":function(C,B,A){return A?C.slice(1):[C[0]]},"last":function(D,C,B){var A=D.pop();return B?D:[A]},"even":function(E,B,A){var C=[],F=A?1:0,D=E.length;for(;F<D;F=F+2)C.push(E[F]);return C},"odd":function(E,B,A){var C=[],F=A?0:1,D=E.length;for(;F<D;F=F+2)C.push(E[F]);return C},"lt":function(C,B,A){return A?C.slice(+B):C.slice(0,+B)},"gt":function(C,B,A){return A?C.slice(0,+B+1):C.slice(+B+1)},"eq":function(D,C,B){var A=D.splice(+C,1);return B?D:A}}};function u(C,B,A){if(C===B)return A;var D=C.nextSibling;while(D){if(D===B)return-1;D=D.nextSibling}return 1}O=W.compareDocumentPosition?function(B,A){if(B===A){f=true;return 0}return(!B.compareDocumentPosition||!A.compareDocumentPosition?B.compareDocumentPosition:B.compareDocumentPosition(A)&4)?-1:1}:function(H,E){if(H===E){f=true;return 0}else if(H.sourceIndex&&E.sourceIndex)return H.sourceIndex-E.sourceIndex;var B,G,F=[],C=[],D=H.parentNode,A=E.parentNode,I=D;if(D===A)return u(H,E);else if(!D)return-1;else if(!A)return 1;while(I){F.unshift(I);I=I.parentNode}I=A;while(I){C.unshift(I);I=I.parentNode}B=F.length;G=C.length;for(var J=0;J<B&&J<G;J++)if(F[J]!==C[J])return u(F[J],C[J]);return J===B?u(H,C[J],-1):u(F[J],E,1)};[0,0].sort(O);e=!f;$.uniqueSort=function(B){var A,C=1;f=e;B.sort(O);if(f)for(;(A=B[C]);C++)if(A===B[C-1])B.splice(C--,1);return B};$.error=function(A){throw new Error("Syntax error, unrecognized expression: "+A)};function c(A,K,G,S){var E,N,L,H,J,R,O,I,F,Q,C=!G&&K!==m,P=(C?"<s>":"")+A.replace(y,"$1<s>"),B=D[E1][P];if(B)return S?0:J1.call(B,0);J=A;R=[];I=0;F=M.preFilter;Q=M.filter;while(J){if(!E||(N=z.exec(J))){if(N){J=J.slice(N[0].length);L.selector=O}R.push(L=[]);O="";if(C)J=" "+J}E=false;if((N=Z.exec(J))){O+=N[0];J=J.slice(N[0].length);E=L.push({part:N.pop().replace(y," "),string:N[0],captures:N})}for(H in Q)if((N=F1[H].exec(J))&&(!F[H]||(N=F[H](N,K,G)))){O+=N[0];J=J.slice(N[0].length);E=L.push({part:H,string:N.shift(),captures:N})}if(!E)break}if(O)L.selector=O;return S?J.length:J?$.error(A):J1.call(D(P,R),0)}function s(A,F,D,E){var C=F.dir,G=Q++;if(!A)A=function(A){return A===D};return F.first?function(B){while((B=B[C]))if(B.nodeType===1)return A(B)&&B}:E?function(B){while((B=B[C]))if(B.nodeType===1)if(A(B))return B}:function(D){var E,F=G+"."+R,H=F+"."+B;while((D=D[C]))if(D.nodeType===1)if((E=D[E1])===H)return D.sizset;else if(typeof E==="string"&&E.indexOf(F)===0){if(D.sizset)return D}else{D[E1]=H;if(A(D)){D.sizset=true;return D}D.sizset=false}}}function I(B,A){return B?function(C){var D=A(C);return D&&B(D===true?C:D)}:A}function K(D,C,E){var B,A,F=0;for(;(B=D[F]);F++)if(M.relative[B.part])A=s(A,M.relative[B.part],C,E);else A=I(A,M.filter[B.part].apply(null,B.captures.concat(C,E)));return A}function L(A){return function(B){var C,D=0;for(;(C=A[D]);D++)if(C(B))return true;return false}}r=$.compile=function(A,C,D){var F,G,E,B=o[E1][A];if(B&&B.context===C)return B;F=c(A,C,D);for(G=0,E=F.length;G<E;G++)F[G]=K(F[G],C,D);B=o(A,L(F));B.context=C;B.runs=B.dirruns=0;return B};function Y(A,D,B,C){var F=0,E=D.length;for(;F<E;F++)$(A,D[F],B,C)}function B1(C,H,B,F,E,A){var D,G=M.setFilters[H.toLowerCase()];if(!G)$.error(H);if(C||!(D=E))Y(C||"*",F,(D=[]),E);return D.length>0?G(D,B,A):[]}function P(W,P,N,C){var T,U,F,I,O,A,J,V,Q,B,L,R,K,H=0,E=W.length,D=F1["POS"],M=new RegExp("^"+D.source+"(?!"+S+")","i"),G=function(){var B=1,A=arguments.length-2;for(;B<A;B++)if(arguments[B]===q)Q[B]=q};for(;H<E;H++){T=W[H];U="";V=C;for(F=0,I=T.length;F<I;F++){O=T[F];A=O.string;if(O.part==="PSEUDO"){D.exec("");J=0;while((Q=D.exec(A))){B=true;L=D.lastIndex=Q.index+Q[0].length;if(L>J){U+=A.slice(J,Q.index);J=L;R=[P];if(Z.test(U)){if(V)R=V;V=C}if((K=H1.test(U))){U=U.slice(0,-5).replace(Z,"$&*");J++}if(Q.length>1)Q[0].replace(M,G);V=B1(U,Q[1],Q[2],R,V,K)}U=""}}if(!B)U+=A;B=false}if(U){if(Z.test(U))Y(U,V||[P],N,C);else $(U,P,N,C?C.concat(V):V)}else k.apply(N,V)}return E===1?N:$.uniqueSort(N)}function N(A,Q,N,E,G){A=A.replace(y,"$1");var U,L,C,K,J,S,O,I,F,H,T=c(A,Q,G),D=Q.nodeType;if(F1["POS"].test(A))return P(T,Q,N,E);if(E)U=J1.call(E,0);else if(T.length===1){if((S=J1.call(T[0],0)).length>2&&(O=S[0]).part==="ID"&&D===9&&!G&&M.relative[S[1].part]){Q=M.find["ID"](O.captures[0].replace(_,""),Q,G)[0];if(!Q)return N;A=A.slice(S.shift().string.length)}F=((T=C1.exec(S[0].string))&&!T.index&&Q.parentNode)||Q;I="";for(J=S.length-1;J>=0;J--){O=S[J];H=O.part;I=O.string+I;if(M.relative[H])break;if(M.order.test(H)){U=M.find[H](O.captures[0].replace(_,""),F,G);if(U==null)continue;else{A=A.slice(0,A.length-I.length)+I.replace(F1[H],"");if(!A)k.apply(N,J1.call(U,0));break}}}}if(A){L=r(A,Q,G);R=L.dirruns++;if(U==null)U=M.find["TAG"]("*",(C1.test(A)&&Q.parentNode)||Q);for(J=0;(K=U[J]);J++){B=L.runs++;if(L(K))N.push(K)}}return N}if(m.querySelectorAll)(function(){var E,D=N,G=/'|\\/g,F=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,B=[],C=[":active"],A=W.matchesSelector||W.mozMatchesSelector||W.webkitMatchesSelector||W.oMatchesSelector||W.msMatchesSelector;I1(function(A){A.innerHTML="<select><option selected=''></option></select>";if(!A.querySelectorAll("[selected]").length)B.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");if(!A.querySelectorAll(":checked").length)B.push(":checked")});I1(function(A){A.innerHTML="<p test=''></p>";if(A.querySelectorAll("[test^='']").length)B.push("[*^$]="+S+"*(?:\"\"|'')");A.innerHTML="<input type='hidden'/>";if(!A.querySelectorAll(":enabled").length)B.push(":enabled",":disabled")});B=B.length&&new RegExp(B.join("|"));N=function(A,M,K,E,H){if(!E&&!H&&(!B||!B.test(A)))if(M.nodeType===9){try{k.apply(K,J1.call(M.querySelectorAll(A),0));return K}catch(O){}}else if(M.nodeType===1&&M.nodeName.toLowerCase()!=="object"){var N,J,I,C=M.getAttribute("id"),F=C||E1,L=C1.test(A)&&M.parentNode||M;if(C)F=F.replace(G,"\\$&");else M.setAttribute("id",F);N=c(A,M,H);F="[id='"+F+"']";for(J=0,I=N.length;J<I;J++)N[J]=F+N[J].selector;try{k.apply(K,J1.call(L.querySelectorAll(N.join(",")),0));return K}catch(O){}finally{if(!C)M.removeAttribute("id")}}return D(A,M,K,E,H)};if(A){I1(function(D){E=A.call(D,"div");try{A.call(D,"[test!='']:sizzle");C.push(F1["PSEUDO"].source,F1["POS"].source,"!=")}catch(B){}});C=new RegExp(C.join("|"));$.matchesSelector=function(G,I){I=I.replace(F,"='$1']");if(!n(G)&&!C.test(I)&&(!B||!B.test(I))){try{var D=A.call(G,I);if(D||E||G.document&&G.document.nodeType!==11)return D}catch(H){}}return $(I,null,null,[G]).length>0}}})();M.setFilters["nth"]=M.setFilters["eq"];M.filters=M.pseudos;$.attr=p.attr;p.find=$;p.expr=$.selectors;p.expr[":"]=p.expr.pseudos;p.unique=$.uniqueSort;p.text=$.getText;p.isXMLDoc=$.isXML;p.contains=$.contains})(G2);var d=/Until$/,$1=/^(?:parents|prev(?:Until|All))/,K2=/^.[^:#\[\.,]*$/,Z=p.expr.match.needsContext,E2={children:true,contents:true,next:true,prev:true};p.fn.extend({find:function(B){var H,G,E,D,C,A,F=this;if(typeof B!=="string")return p(B).filter(function(){for(H=0,G=F.length;H<G;H++)if(p.contains(F[H],this))return true});A=this.pushStack("","find",B);for(H=0,G=this.length;H<G;H++){E=A.length;p.find(B,this[H],A);if(H>0)for(D=E;D<A.length;D++)for(C=0;C<E;C++)if(A[C]===A[D]){A.splice(D--,1);break}}return A},has:function(A){var D,C=p(A,this),B=C.length;return this.filter(function(){for(D=0;D<B;D++)if(p.contains(this,C[D]))return true})},not:function(A){return this.pushStack(D1(this,A,false),"not",A)},filter:function(A){return this.pushStack(D1(this,A,true),"filter",A)},is:function(A){return!!A&&(typeof A==="string"?Z.test(A)?p(A,this.context).index(this[0])>=0:p.filter(A,this).length>0:this.filter(A).length>0)},closest:function(B,C){var D,G=0,E=this.length,A=[],F=Z.test(B)||typeof B!=="string"?p(B,C||this.context):0;for(;G<E;G++){D=this[G];while(D&&D.ownerDocument&&D!==C&&D.nodeType!==11){if(F?F.index(D)>-1:p.find.matchesSelector(D,B)){A.push(D);break}D=D.parentNode}}A=A.length>1?p.unique(A):A;return this.pushStack(A,"closest",B)},index:function(A){if(!A)return(this[0]&&this[0].parentNode)?this.prevAll().length:-1;if(typeof A==="string")return p.inArray(this[0],p(A));return p.inArray(A.jquery?A[0]:A,this)},add:function(A,C){var B=typeof A==="string"?p(A,C):p.makeArray(A&&A.nodeType?[A]:A),D=p.merge(this.get(),B);return this.pushStack(l1(B[0])||l1(D[0])?D:p.unique(D))},addBack:function(A){return this.add(A==null?this.prevObject:this.prevObject.filter(A))}});p.fn.andSelf=p.fn.addBack;function l1(A){return!A||!A.parentNode||A.parentNode.nodeType===11}function $2(B,A){do B=B[A];while(B&&B.nodeType!==1);return B}p.each({parent:function(A){var B=A.parentNode;return B&&B.nodeType!==11?B:null},parents:function(A){return p.dir(A,"parentNode")},parentsUntil:function(A,C,B){return p.dir(A,"parentNode",B)},next:function(A){return $2(A,"nextSibling")},prev:function(A){return $2(A,"previousSibling")},nextAll:function(A){return p.dir(A,"nextSibling")},prevAll:function(A){return p.dir(A,"previousSibling")},nextUntil:function(A,C,B){return p.dir(A,"nextSibling",B)},prevUntil:function(A,C,B){return p.dir(A,"previousSibling",B)},siblings:function(A){return p.sibling((A.parentNode||{}).firstChild,A)},children:function(A){return p.sibling(A.firstChild)},contents:function(A){return p.nodeName(A,"iframe")?A.contentDocument||A.contentWindow.document:p.merge([],A.childNodes)}},function(A,B){p.fn[A]=function(E,D){var C=p.map(this,B,E);if(!d.test(A))D=E;if(D&&typeof D==="string")C=p.filter(D,C);C=this.length>1&&!E2[A]?p.unique(C):C;if(this.length>1&&$1.test(A))C=C.reverse();return this.pushStack(C,A,O.call(arguments).join(","))}});p.extend({filter:function(B,C,A){if(A)B=":not("+B+")";return C.length===1?p.find.matchesSelector(C[0],B)?[C[0]]:[]:p.find.matches(B,C)},dir:function(A,C,E){var B=[],D=A[C];while(D&&D.nodeType!==9&&(E===h2||D.nodeType!==1||!p(D).is(E))){if(D.nodeType===1)B.push(D);D=D[C]}return B},sibling:function(C,A){var B=[];for(;C;C=C.nextSibling)if(C.nodeType===1&&C!==A)B.push(C);return B}});function D1(C,B,D){B=B||0;if(p.isFunction(B))return p.grep(C,function(A,E){var C=!!B.call(A,E,A);return C===D});else if(B.nodeType)return p.grep(C,function(A,C){return(A===B)===D});else if(typeof B==="string"){var A=p.grep(C,function(A){return A.nodeType===1});if(K2.test(B))return p.filter(B,A,!D);else B=p.filter(B,A)}return p.grep(C,function(A,C){return(p.inArray(A,B)>=0)===D})}function J2(A){var C=F.split("|"),B=A.createDocumentFragment();if(B.createElement)while(C.length)B.createElement(C.pop());return B}var F="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",i1=/ jQuery\d+="(?:null|\d+)"/g,K=/^\s+/,x=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Q2=/<([\w:]+)/,Y2=/<tbody/i,M2=/<|&#?\w+;/,X1=/<(?:script|style|link)/i,M1=/<(?:script|object|embed|option|style)/i,K1=new RegExp("<(?:"+F+")[\\s/>]","i"),A2=/^(?:checkbox|radio)$/,E1=/checked\s*(?:[^=]|=\s*.checked.)/i,I1=/\/(java|ecma)script/i,T=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,U1={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},w2=J2(_),U=w2.appendChild(_.createElement("div"));U1.optgroup=U1.option;U1.tbody=U1.tfoot=U1.colgroup=U1.caption=U1.thead;U1.th=U1.td;if(!p.support.htmlSerialize)U1._default=[1,"X<div>","</div>"];p.fn.extend({text:function(A){return p.access(this,function(A){return A===h2?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||_).createTextNode(A))},null,A,arguments.length)},wrapAll:function(B){if(p.isFunction(B))return this.each(function(A){p(this).wrapAll(B.call(this,A))});if(this[0]){var A=p(B,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode)A.insertBefore(this[0]);A.map(function(){var A=this;while(A.firstChild&&A.firstChild.nodeType===1)A=A.firstChild;return A}).append(this)}return this},wrapInner:function(A){if(p.isFunction(A))return this.each(function(B){p(this).wrapInner(A.call(this,B))});return this.each(function(){var C=p(this),B=C.contents();if(B.length)B.wrapAll(A);else C.append(A)})},wrap:function(B){var A=p.isFunction(B);return this.each(function(C){p(this).wrapAll(A?B.call(this,C):B)})},unwrap:function(){return this.parent().each(function(){if(!p.nodeName(this,"body"))p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(A){if(this.nodeType===1||this.nodeType===11)this.appendChild(A)})},prepend:function(){return this.domManip(arguments,true,function(A){if(this.nodeType===1||this.nodeType===11)this.insertBefore(A,this.firstChild)})},before:function(){if(!l1(this[0]))return this.domManip(arguments,false,function(A){this.parentNode.insertBefore(A,this)});if(arguments.length){var A=p.clean(arguments);return this.pushStack(p.merge(A,this),"before",this.selector)}},after:function(){if(!l1(this[0]))return this.domManip(arguments,false,function(A){this.parentNode.insertBefore(A,this.nextSibling)});if(arguments.length){var A=p.clean(arguments);return this.pushStack(p.merge(this,A),"after",this.selector)}},remove:function(B,C){var A,D=0;for(;(A=this[D])!=null;D++)if(!B||p.filter(B,[A]).length){if(!C&&A.nodeType===1){p.cleanData(A.getElementsByTagName("*"));p.cleanData([A])}if(A.parentNode)A.parentNode.removeChild(A)}return this},empty:function(){var A,B=0;for(;(A=this[B])!=null;B++){if(A.nodeType===1)p.cleanData(A.getElementsByTagName("*"));while(A.firstChild)A.removeChild(A.firstChild)}return this},clone:function(A,B){A=A==null?false:A;B=B==null?A:B;return this.map(function(){return p.clone(this,A,B)})},html:function(A){return p.access(this,function(C){var A=this[0]||{},E=0,D=this.length;if(C===h2)return A.nodeType===1?A.innerHTML.replace(i1,""):h2;if(typeof C==="string"&&!X1.test(C)&&(p.support.htmlSerialize||!K1.test(C))&&(p.support.leadingWhitespace||!K.test(C))&&!U1[(Q2.exec(C)||["",""])[1].toLowerCase()]){C=C.replace(x,"<$1></$2>");try{for(;E<D;E++){A=this[E]||{};if(A.nodeType===1){p.cleanData(A.getElementsByTagName("*"));A.innerHTML=C}}A=0}catch(B){}}if(A)this.empty().append(C)},null,A,arguments.length)},replaceWith:function(A){if(!l1(this[0])){if(p.isFunction(A))return this.each(function(D){var C=p(this),B=C.html();C.replaceWith(A.call(this,D,B))});if(typeof A!=="string")A=p(A).detach();return this.each(function(){var B=this.nextSibling,C=this.parentNode;p(this).remove();if(B)p(B).before(A);else p(C).append(A)})}return this.length?this.pushStack(p(p.isFunction(A)?A():A),"replaceWith",A):this},detach:function(A){return this.remove(A,true)},domManip:function(D,H,F){D=[].concat.apply([],D);var C,J,I,A,K=0,E=D[0],B=[],G=this.length;if(!p.support.checkClone&&G>1&&typeof E==="string"&&E1.test(E))return this.each(function(){p(this).domManip(D,H,F)});if(p.isFunction(E))return this.each(function(B){var A=p(this);D[0]=E.call(this,B,H?A.html():h2);A.domManip(D,H,F)});if(this[0]){C=p.buildFragment(D,this,B);I=C.fragment;J=I.firstChild;if(I.childNodes.length===1)I=J;if(J){H=H&&p.nodeName(J,"tr");for(A=C.cacheable||G-1;K<G;K++)F.call(H&&p.nodeName(this[K],"table")?u1(this[K],"tbody"):this[K],K===A?I:p.clone(I,true,true))}I=J=null;if(B.length)p.each(B,function(B,A){if(A.src){if(p.ajax)p.ajax({url:A.src,type:"GET",dataType:"script",async:false,global:false,"throws":true});else p.error("no ajax")}else p.globalEval((A.text||A.textContent||A.innerHTML||"").replace(T,""));if(A.parentNode)A.parentNode.removeChild(A)})}return this}});function u1(A,B){return A.getElementsByTagName(B)[0]||A.appendChild(A.ownerDocument.createElement(B))}function S1(E,A){if(A.nodeType!==1||!p.hasData(E))return;var G,H,D,F=p._data(E),B=p._data(A,F),C=F.events;if(C){delete B.handle;B.events={};for(G in C)for(H=0,D=C[G].length;H<D;H++)p.event.add(A,G,C[G][H])}if(B.data)B.data=p.extend({},B.data)}function r2(C,A){var B;if(A.nodeType!==1)return;if(A.clearAttributes)A.clearAttributes();if(A.mergeAttributes)A.mergeAttributes(C);B=A.nodeName.toLowerCase();if(B==="object"){if(A.parentNode)A.outerHTML=C.outerHTML;if(p.support.html5Clone&&(C.innerHTML&&!p.trim(A.innerHTML)))A.innerHTML=C.innerHTML}else if(B==="input"&&A2.test(C.type)){A.defaultChecked=A.checked=C.checked;if(A.value!==C.value)A.value=C.value}else if(B==="option")A.selected=C.defaultSelected;else if(B==="input"||B==="textarea")A.defaultValue=C.defaultValue;else if(B==="script"&&A.text!==C.text)A.text=C.text;A.removeAttribute(p.expando)}p.buildFragment=function(B,D,A){var F,G,C,E=B[0];D=D||_;D=!D.nodeType&&D[0]||D;D=D.ownerDocument||D;if(B.length===1&&typeof E==="string"&&E.length<512&&D===_&&E.charAt(0)==="<"&&!M1.test(E)&&(p.support.checkClone||!E1.test(E))&&(p.support.html5Clone||!K1.test(E))){G=true;F=p.fragments[E];C=F!==h2}if(!F){F=D.createDocumentFragment();p.clean(B,D,F,A);if(G)p.fragments[E]=C&&F}return{fragment:F,cacheable:G}};p.fragments={};p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,B){p.fn[A]=function(D){var G,I=0,C=[],H=p(D),F=H.length,E=this.length===1&&this[0].parentNode;if((E==null||E&&E.nodeType===11&&E.childNodes.length===1)&&F===1){H[B](this[0]);return this}else{for(;I<F;I++){G=(I>0?this.clone(true):this).get();p(H[I])[B](G);C=C.concat(G)}return this.pushStack(C,A,H.selector)}}});function i2(A){if(typeof A.getElementsByTagName!=="undefined")return A.getElementsByTagName("*");else if(typeof A.querySelectorAll!=="undefined")return A.querySelectorAll("*");else return[]}function y(A){if(A2.test(A.type))A.defaultChecked=A.checked}p.extend({clone:function(A,C,F){var E,D,G,B;if(p.support.html5Clone||p.isXMLDoc(A)||!K1.test("<"+A.nodeName+">"))B=A.cloneNode(true);else{U.innerHTML=A.outerHTML;U.removeChild(B=U.firstChild)}if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(A.nodeType===1||A.nodeType===11)&&!p.isXMLDoc(A)){r2(A,B);E=i2(A);D=i2(B);for(G=0;E[G];++G)if(D[G])r2(E[G],D[G])}if(C){S1(A,B);if(F){E=i2(A);D=i2(B);for(G=0;E[G];++G)S1(E[G],D[G])}}E=D=null;return B},clean:function(Q,P,S,N){var I,G,L,D,C,H,E,J,O,F,R,M,B=P===_&&w2,A=[];if(!P||typeof P.createDocumentFragment==="undefined")P=_;for(I=0;(L=Q[I])!=null;I++){if(typeof L==="number")L+="";if(!L)continue;if(typeof L==="string")if(!M2.test(L))L=P.createTextNode(L);else{B=B||J2(P);E=P.createElement("div");B.appendChild(E);L=L.replace(x,"<$1></$2>");D=(Q2.exec(L)||["",""])[1].toLowerCase();C=U1[D]||U1._default;H=C[0];E.innerHTML=C[1]+L+C[2];while(H--)E=E.lastChild;if(!p.support.tbody){J=Y2.test(L);O=D==="table"&&!J?E.firstChild&&E.firstChild.childNodes:C[1]==="<table>"&&!J?E.childNodes:[];for(G=O.length-1;G>=0;--G)if(p.nodeName(O[G],"tbody")&&!O[G].childNodes.length)O[G].parentNode.removeChild(O[G])}if(!p.support.leadingWhitespace&&K.test(L))E.insertBefore(P.createTextNode(K.exec(L)[0]),E.firstChild);L=E.childNodes;E.parentNode.removeChild(E)}if(L.nodeType)A.push(L);else p.merge(A,L)}if(E)L=E=B=null;if(!p.support.appendChecked)for(I=0;(L=A[I])!=null;I++)if(p.nodeName(L,"input"))y(L);else if(typeof L.getElementsByTagName!=="undefined")p.grep(L.getElementsByTagName("input"),y);if(S){R=function(A){if(!A.type||I1.test(A.type))return N?N.push(A.parentNode?A.parentNode.removeChild(A):A):S.appendChild(A)};for(I=0;(L=A[I])!=null;I++)if(!(p.nodeName(L,"script")&&R(L))){S.appendChild(L);if(typeof L.getElementsByTagName!=="undefined"){M=p.grep(p.merge([],L.getElementsByTagName("script")),R);A.splice.apply(A,[I+1,0].concat(M));I+=M.length}}}return A},cleanData:function(I,E){var G,C,B,J,K=0,D=p.expando,F=p.cache,A=p.support.deleteExpando,H=p.event.special;for(;(B=I[K])!=null;K++)if(E||p.acceptData(B)){C=B[D];G=C&&F[C];if(G){if(G.events)for(J in G.events)if(H[J])p.event.remove(B,J);else p.removeEvent(B,J,G.handle);if(F[C]){delete F[C];if(A)delete B[D];else if(B.removeAttribute)B.removeAttribute(D);else B[D]=null;p.deletedIds.push(C)}}}}});(function(){var A,B;p.uaMatch=function(A){A=A.toLowerCase();var B=/(chrome)[ \/]([\w.]+)/.exec(A)||/(webkit)[ \/]([\w.]+)/.exec(A)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(A)||/(msie) ([\w.]+)/.exec(A)||A.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(A)||[];return{browser:B[1]||"",version:B[2]||"0"}};A=p.uaMatch(z2.userAgent);B={};if(A.browser){B[A.browser]=true;B.version=A.version}if(B.chrome)B.webkit=true;else if(B.webkit)B.safari=true;p.browser=B;p.sub=function(){function A(B,C){return new A.fn.init(B,C)}p.extend(true,A,this);A.superclass=this;A.fn=A.prototype=this();A.fn.constructor=A;A.sub=this.sub;A.fn.init=function C(D,E){if(E&&E instanceof p&&!(E instanceof A))E=A(E);return p.fn.init.call(this,D,E,B)};A.fn.init.prototype=A.fn;var B=A(_);return A}})();var o2,F2,j,q1=/alpha\([^)]*\)/i,L2=/opacity=([^)]*)/,r=/^(top|right|bottom|left)$/,C=/^(none|table(?!-c[ea]).+)/,t1=/^margin/,a1=new RegExp("^("+$+")(.*)$","i"),k=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),s=new RegExp("^([-+])=("+$+")","i"),Z2={},f={position:"absolute",visibility:"hidden",display:"block"},d1={letterSpacing:0,fontWeight:400},h=["Top","Right","Bottom","Left"],g2=["Webkit","O","Moz","ms"],z=p.fn.toggle;function x1(A,B){if(B in A)return B;var E=B.charAt(0).toUpperCase()+B.slice(1),C=B,D=g2.length;while(D--){B=g2[D]+E;if(B in A)return B}return C}function Q1(A,B){A=B||A;return p.css(A,"display")==="none"||!p.contains(A.ownerDocument,A)}function m(G,F){var A,E,C=[],B=0,D=G.length;for(;B<D;B++){A=G[B];if(!A.style)continue;C[B]=p._data(A,"olddisplay");if(F){if(!C[B]&&A.style.display==="none")A.style.display="";if(A.style.display===""&&Q1(A))C[B]=p._data(A,"olddisplay",u2(A.nodeName))}else{E=o2(A,"display");if(!C[B]&&E!=="none")p._data(A,"olddisplay",E)}}for(B=0;B<D;B++){A=G[B];if(!A.style)continue;if(!F||A.style.display==="none"||A.style.display==="")A.style.display=F?C[B]||"":"none"}return G}p.fn.extend({css:function(A,B){return p.access(this,function(A,B,C){return C!==h2?p.style(A,B,C):p.css(A,B)},A,B,arguments.length>1)},show:function(){return m(this,true)},hide:function(){return m(this)},toggle:function(A,C){var B=typeof A==="boolean";if(p.isFunction(A)&&p.isFunction(C))return z.apply(this,arguments);return this.each(function(){if(B?A:Q1(this))p(this).show();else p(this).hide()})}});p.extend({cssHooks:{opacity:{get:function(B,C){if(C){var A=o2(B,"opacity");return A===""?"1":A}}}},cssNumber:{"fillOpacity":true,"fontWeight":true,"lineHeight":true,"opacity":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(B,G,H,F){if(!B||B.nodeType===3||B.nodeType===8||!B.style)return;var A,J,E,I=p.camelCase(G),D=B.style;G=p.cssProps[I]||(p.cssProps[I]=x1(D,I));E=p.cssHooks[G]||p.cssHooks[I];if(H!==h2){J=typeof H;if(J==="string"&&(A=s.exec(H))){H=(A[1]+1)*A[2]+parseFloat(p.css(B,G));J="number"}if(H==null||J==="number"&&isNaN(H))return;if(J==="number"&&!p.cssNumber[I])H+="px";if(!E||!("set"in E)||(H=E.set(B,H,F))!==h2){try{D[G]=H}catch(C){}}}else{if(E&&"get"in E&&(A=E.get(B,false,F))!==h2)return A;return D[G]}},css:function(B,G,D,F){var A,C,E,H=p.camelCase(G);G=p.cssProps[H]||(p.cssProps[H]=x1(B.style,H));E=p.cssHooks[G]||p.cssHooks[H];if(E&&"get"in E)A=E.get(B,true,F);if(A===h2)A=o2(B,G);if(A==="normal"&&G in d1)A=d1[G];if(D||F!==h2){C=parseFloat(A);return D||p.isNumeric(C)?C||0:A}return A},swap:function(B,F,E){var A,D,C={};for(D in F){C[D]=B.style[D];B.style[D]=F[D]}A=E.call(B);for(D in F)B.style[D]=C[D];return A}});if(G2.getComputedStyle)o2=function(B,G){var A,F,D,H,E=G2.getComputedStyle(B,null),C=B.style;if(E){A=E[G];if(A===""&&!p.contains(B.ownerDocument,B))A=p.style(B,G);if(k.test(A)&&t1.test(G)){F=C.width;D=C.minWidth;H=C.maxWidth;C.minWidth=C.maxWidth=C.width=A;A=E.width;C.width=F;C.minWidth=D;C.maxWidth=H}}return A};else if(_.documentElement.currentStyle)o2=function(B,E){var F,D,A=B.currentStyle&&B.currentStyle[E],C=B.style;if(A==null&&C&&C[E])A=C[E];if(k.test(A)&&!r.test(E)){F=C.left;D=B.runtimeStyle&&B.runtimeStyle.left;if(D)B.runtimeStyle.left=B.currentStyle.left;C.left=E==="fontSize"?"1em":A;A=C.pixelLeft+"px";C.left=F;if(D)B.runtimeStyle.left=D}return A===""?"auto":A};function B(A,D,B){var C=a1.exec(D);return C?Math.max(0,C[1]-(B||0))+(C[2]||"px"):D}function V2(B,E,D,C){var F=D===(C?"border":"content")?4:E==="width"?1:0,A=0;for(;F<4;F+=2){if(D==="margin")A+=p.css(B,D+h[F],true);if(C){if(D==="content")A-=parseFloat(o2(B,"padding"+h[F]))||0;if(D!=="margin")A-=parseFloat(o2(B,"border"+h[F]+"Width"))||0}else{A+=parseFloat(o2(B,"padding"+h[F]))||0;if(D!=="padding")A+=parseFloat(o2(B,"border"+h[F]+"Width"))||0}}return A}function h1(B,F,E){var A=F==="width"?B.offsetWidth:B.offsetHeight,D=true,C=p.support.boxSizing&&p.css(B,"boxSizing")==="border-box";if(A<=0||A==null){A=o2(B,F);if(A<0||A==null)A=B.style[F];if(k.test(A))return A;D=C&&(p.support.boxSizingReliable||A===B.style[F]);A=parseFloat(A)||0}return(A+V2(B,F,E||(C?"border":"content"),D))+"px"}function u2(B){if(Z2[B])return Z2[B];var A=p("<"+B+">").appendTo(_.body),C=A.css("display");A.remove();if(C==="none"||C===""){F2=_.body.appendChild(F2||p.extend(_.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!j||!F2.createElement){j=(F2.contentWindow||F2.contentDocument).document;j.write("<!doctype html><html><body>");j.close()}A=j.body.appendChild(j.createElement(B));C=o2(A,"display");_.body.removeChild(F2)}Z2[B]=C;return C}p.each(["height","width"],function(D,A){p.cssHooks[A]={get:function(B,E,D){if(E)if(B.offsetWidth===0&&C.test(o2(B,"display")))return p.swap(B,f,function(){return h1(B,A,D)});else return h1(B,A,D)},set:function(C,E,D){return B(C,E,D?V2(C,A,D,p.support.boxSizing&&p.css(C,"boxSizing")==="border-box"):0)}}});if(!p.support.opacity)p.cssHooks.opacity={get:function(A,B){return L2.test((B&&A.currentStyle?A.currentStyle.filter:A.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":B?"1":""},set:function(A,E){var C=A.style,B=A.currentStyle,D=p.isNumeric(E)?"alpha(opacity="+E*100+")":"",F=B&&B.filter||C.filter||"";C.zoom=1;if(E>=1&&p.trim(F.replace(q1,""))===""&&C.removeAttribute){C.removeAttribute("filter");if(B&&!B.filter)return}C.filter=q1.test(F)?F.replace(q1,D):F+" "+D}};p(function(){if(!p.support.reliableMarginRight)p.cssHooks.marginRight={get:function(A,B){return p.swap(A,{"display":"inline-block"},function(){if(B)return o2(A,"marginRight")})}};if(!p.support.pixelPosition&&p.fn.position)p.each(["top","left"],function(B,A){p.cssHooks[A]={get:function(C,D){if(D){var B=o2(C,A);return k.test(B)?p(C).position()[A]+"px":B}}}})});if(p.expr&&p.expr.filters){p.expr.filters.hidden=function(A){return(A.offsetWidth===0&&A.offsetHeight===0)||(!p.support.reliableHiddenOffsets&&((A.style&&A.style.display)||o2(A,"display"))==="none")};p.expr.filters.visible=function(A){return!p.expr.filters.hidden(A)}}p.each({margin:"",padding:"",border:"Width"},function(A,C){p.cssHooks[A+C]={expand:function(B){var F,D=typeof B==="string"?B.split(" "):[B],E={};for(F=0;F<4;F++)E[A+h[F]+C]=D[F]||D[F-2]||D[0];return E}};if(!t1.test(A))p.cssHooks[A+C].set=B});var O1=/%20/g,R1=/\[\]$/,_2=/\r?\n/g,R=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,m2=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||m2.test(this.nodeName)||R.test(this.type))}).map(function(C,B){var A=p(this).val();return A==null?null:p.isArray(A)?p.map(A,function(A,C){return{name:B.name,value:A.replace(_2,"\r\n")}}):{name:B.name,value:A.replace(_2,"\r\n")}}).get()}});p.param=function(C,D){var B,A=[],E=function(C,B){B=p.isFunction(B)?B():(B==null?"":B);A[A.length]=encodeURIComponent(C)+"="+encodeURIComponent(B)};if(D===h2)D=p.ajaxSettings&&p.ajaxSettings.traditional;if(p.isArray(C)||(C.jquery&&!p.isPlainObject(C)))p.each(C,function(){E(this.name,this.value)});else for(B in C)N2(B,C[B],D,E);return A.join("&").replace(O1,"+")};function N2(B,D,C,E){var A;if(p.isArray(D))p.each(D,function(D,A){if(C||R1.test(B))E(B,A);else N2(B+"["+(typeof A==="object"?D:"")+"]",A,C,E)});else if(!C&&p.type(D)==="object"){for(A in D)N2(B+"["+A+"]",D[A],C,E)}else E(B,D)}var V,d2,e2=/#.*$/,g1=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,D2=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,G1=/^(?:GET|HEAD)$/,f1=/^\/\//,O2=/\?/,n1=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,I2=/([?&])_=[^&]*/,Y1=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,w1=p.fn.load,A1={},C1={},W=["*/"]+["*"];try{V=c1.href}catch(H1){V=_.createElement("a");V.href="";V=V.href}d2=Y1.exec(V.toLowerCase())||[];function k2(A){return function(C,H){if(typeof C!=="string"){H=C;C="*"}var B,G,F,E=C.toLowerCase().split(L1),I=0,D=E.length;if(p.isFunction(H))for(;I<D;I++){B=E[I];F=/^\+/.test(B);if(F)B=B.substr(1)||"*";G=A[B]=A[B]||[];G[F?"unshift":"push"](H)}}}function B2(E,K,D,C,B,A){B=B||K.dataTypes[0];A=A||{};A[B]=true;var I,H=E[B],J=0,F=H?H.length:0,G=(E===A1);for(;J<F&&(G||!I);J++){I=H[J](K,D,C);if(typeof I==="string")if(!G||A[I])I=h2;else{K.dataTypes.unshift(I);I=B2(E,K,D,C,I,A)}}if((G||!I)&&!A["*"])I=B2(E,K,D,C,"*",A);return I}function S(A,B){var D,C,E=p.ajaxSettings.flatOptions||{};for(D in B)if(B[D]!==h2)(E[D]?A:(C||(C={})))[D]=B[D];if(C)p.extend(true,A,C)}p.fn.load=function(H,F,D){if(typeof H!=="string"&&w1)return w1.apply(this,arguments);if(!this.length)return this;var B,G,A,E=this,C=H.indexOf(" ");if(C>=0){B=H.slice(C,H.length);H=H.slice(0,C)}if(p.isFunction(F)){D=F;F=h2}else if(F&&typeof F==="object")G="POST";p.ajax({url:H,type:G,dataType:"html",data:F,complete:function(B,C){if(D)E.each(D,A||[B.responseText,C,B])}}).done(function(C){A=arguments;E.html(B?p("<div>").append(C.replace(n1,"")).find(B):C)});return this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(B,A){p.fn[A]=function(B){return this.on(A,B)}});p.each(["get","post"],function(B,A){p[A]=function(E,C,B,D){if(p.isFunction(C)){D=D||B;B=C;C=h2}return p.ajax({type:A,url:E,data:C,success:B,dataType:D})}});p.extend({getScript:function(B,A){return p.get(B,h2,A,"script")},getJSON:function(C,B,A){return p.get(C,B,A,"json")},ajaxSetup:function(B,A){if(A)S(B,p.ajaxSettings);else{A=B;B=p.ajaxSettings}S(B,A);return B},ajaxSettings:{url:V,isLocal:D2.test(d2[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":W},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":G2.String,"text html":true,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:k2(A1),ajaxTransport:k2(C1),ajax:function(U,N){if(typeof U==="object"){N=U;U=h2}N=N||{};var G,a,F,M,T,E,X,V,Y=p.ajaxSetup({},N),K=Y.context||Y,D=K!==Y&&(K.nodeType||K instanceof p)?p(K):p.event,H=p.Deferred(),L=p.Callbacks("once memory"),I=Y.statusCode||{},R={},Z={},C=0,O="canceled",P={readyState:0,setRequestHeader:function(B,D){if(!C){var A=B.toLowerCase();B=Z[A]=Z[A]||B;R[B]=D}return this},getAllResponseHeaders:function(){return C===2?a:null},getResponseHeader:function(B){var A;if(C===2){if(!F){F={};while((A=g1.exec(a)))F[A[1].toLowerCase()]=A[2]}A=F[B.toLowerCase()]}return A===h2?null:A},overrideMimeType:function(A){if(!C)Y.mimeType=A;return this},abort:function(A){A=A||O;if(M)M.abort(A);S(0,A);return this}};function S(F,N,S,B){var Q,R,E,A,U,O=N;if(C===2)return;C=2;if(T)clearTimeout(T);M=h2;a=B||"";P.readyState=F>0?4:0;if(S)A=J(Y,P,S);if(F>=200&&F<300||F===304){if(Y.ifModified){U=P.getResponseHeader("Last-Modified");if(U)p.lastModified[G]=U;U=P.getResponseHeader("Etag");if(U)p.etag[G]=U}if(F===304){O="notmodified";Q=true}else{Q=T2(Y,A);O=Q.state;R=Q.data;E=Q.error;Q=!E}}else{E=O;if(!O||F){O="error";if(F<0)F=0}}P.status=F;P.statusText=""+(N||O);if(Q)H.resolveWith(K,[R,O,P]);else H.rejectWith(K,[P,O,E]);P.statusCode(I);I=h2;if(X)D.trigger("ajax"+(Q?"Success":"Error"),[P,Y,Q?R:E]);L.fireWith(K,[P,O]);if(X){D.trigger("ajaxComplete",[P,Y]);if(!(--p.active))p.event.trigger("ajaxStop")}}H.promise(P);P.success=P.done;P.error=P.fail;P.complete=L.add;P.statusCode=function(A){if(A){var B;if(C<2){for(B in A)I[B]=[I[B],A[B]]}else{B=A[P.status];P.always(B)}}return this};Y.url=((U||Y.url)+"").replace(e2,"").replace(f1,d2[1]+"//");Y.dataTypes=p.trim(Y.dataType||"*").toLowerCase().split(L1);if(Y.crossDomain==null){E=Y1.exec(Y.url.toLowerCase());Y.crossDomain=!!(E&&(E[1]!=d2[1]||E[2]!=d2[2]||(E[3]||(E[1]==="http:"?80:443))!=(d2[3]||(d2[1]==="http:"?80:443))))}if(Y.data&&Y.processData&&typeof Y.data!=="string")Y.data=p.param(Y.data,Y.traditional);B2(A1,Y,N,P);if(C===2)return P;X=Y.global;Y.type=Y.type.toUpperCase();Y.hasContent=!G1.test(Y.type);if(X&&p.active++===0)p.event.trigger("ajaxStart");if(!Y.hasContent){if(Y.data){Y.url+=(O2.test(Y.url)?"&":"?")+Y.data;delete Y.data}G=Y.url;if(Y.cache===false){var B=p.now(),A=Y.url.replace(I2,"$1_="+B);Y.url=A+((A===Y.url)?(O2.test(Y.url)?"&":"?")+"_="+B:"")}}if(Y.data&&Y.hasContent&&Y.contentType!==false||N.contentType)P.setRequestHeader("Content-Type",Y.contentType);if(Y.ifModified){G=G||Y.url;if(p.lastModified[G])P.setRequestHeader("If-Modified-Since",p.lastModified[G]);if(p.etag[G])P.setRequestHeader("If-None-Match",p.etag[G])}P.setRequestHeader("Accept",Y.dataTypes[0]&&Y.accepts[Y.dataTypes[0]]?Y.accepts[Y.dataTypes[0]]+(Y.dataTypes[0]!=="*"?", "+W+"; q=0.01":""):Y.accepts["*"]);for(V in Y.headers)P.setRequestHeader(V,Y.headers[V]);if(Y.beforeSend&&(Y.beforeSend.call(K,P,Y)===false||C===2))return P.abort();O="abort";for(V in{success:1,error:1,complete:1})P[V](Y[V]);M=B2(C1,Y,N,P);if(!M)S(-1,"No Transport");else{P.readyState=1;if(X)D.trigger("ajaxSend",[P,Y]);if(Y.async&&Y.timeout>0)T=setTimeout(function(){P.abort("timeout")},Y.timeout);try{C=1;M.send(R,S)}catch(Q){if(C<2)S(-1,Q);else throw Q}}return P},active:0,lastModified:{},etag:{}});function J(C,B,J){var I,H,A,F,D=C.contents,G=C.dataTypes,E=C.responseFields;for(H in E)if(H in J)B[E[H]]=J[H];while(G[0]==="*"){G.shift();if(I===h2)I=C.mimeType||B.getResponseHeader("content-type")}if(I)for(H in D)if(D[H]&&D[H].test(I)){G.unshift(H);break}if(G[0]in J)A=G[0];else{for(H in J){if(!G[0]||C.converters[H+" "+G[0]]){A=H;break}if(!F)F=H}A=A||F}if(A){if(A!==G[0])G.unshift(A);return J[A]}}function T2(C,A){var H,E,D,G,F=C.dataTypes.slice(),K=F[0],I={},J=0;if(C.dataFilter)A=C.dataFilter(A,C.dataType);if(F[1])for(H in C.converters)I[H.toLowerCase()]=C.converters[H];for(;(D=F[++J]);)if(D!=="*"){if(K!=="*"&&K!==D){H=I[K+" "+D]||I["* "+D];if(!H)for(E in I){G=E.split(" ");if(G[1]===D){H=I[K+" "+G[0]]||I["* "+G[0]];if(H){if(H===true)H=I[E];else if(I[E]!==true){D=G[0];F.splice(J--,0,D)}break}}}if(H!==true)if(H&&C["throws"])A=H(A);else{try{A=H(A)}catch(B){return{state:"parsererror",error:H?B:"No conversion from "+K+" to "+D}}}}K=D}return{state:"success",data:A}}var p1=[],X=/\?/,x2=/(=)\?(?=&|$)|\?\?/,o=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=p1.pop()||(p.expando+"_"+(o++));this[A]=true;return A}});p.ajaxPrefilter("json jsonp",function(D,E,B){var K,J,F,H=D.data,I=D.url,A=D.jsonp!==false,G=A&&x2.test(I),C=A&&!G&&typeof H==="string"&&!(D.contentType||"").indexOf("application/x-www-form-urlencoded")&&x2.test(H);if(D.dataTypes[0]==="jsonp"||G||C){K=D.jsonpCallback=p.isFunction(D.jsonpCallback)?D.jsonpCallback():D.jsonpCallback;J=G2[K];if(G)D.url=I.replace(x2,"$1"+K);else if(C)D.data=H.replace(x2,"$1"+K);else if(A)D.url+=(X.test(I)?"&":"?")+D.jsonp+"="+K;D.converters["script json"]=function(){if(!F)p.error(K+" was not called");return F[0]};D.dataTypes[0]="json";G2[K]=function(){F=arguments};B.always(function(){G2[K]=J;if(D[K]){D.jsonpCallback=E.jsonpCallback;p1.push(K)}if(F&&p.isFunction(J))J(F[0]);F=J=h2});return"script"}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(A){p.globalEval(A);return A}}});p.ajaxPrefilter("script",function(A){if(A.cache===h2)A.cache=false;if(A.crossDomain){A.type="GET";A.global=false}});p.ajaxTransport("script",function(A){if(A.crossDomain){var C,B=_.head||_.getElementsByTagName("head")[0]||_.documentElement;return{send:function(E,D){C=_.createElement("script");C.async="async";if(A.scriptCharset)C.charset=A.scriptCharset;C.src=A.url;C.onload=C.onreadystatechange=function(E,A){if(A||!C.readyState||/loaded|complete/.test(C.readyState)){C.onload=C.onreadystatechange=null;if(B&&C.parentNode)B.removeChild(C);C=h2;if(!A)D(200,"success")}};B.insertBefore(C,B.firstChild)},abort:function(){if(C)C.onload(0,1)}}}});var q2,b1=G2.ActiveXObject?function(){for(var A in q2)q2[A](0,1)}:false,Z1=0;function j1(){try{return new G2.XMLHttpRequest()}catch(A){}}function v2(){try{return new G2.ActiveXObject("Microsoft.XMLHTTP")}catch(A){}}p.ajaxSettings.xhr=G2.ActiveXObject?function(){return!this.isLocal&&j1()||v2()}:j1;(function(A){p.extend(p.support,{ajax:!!A,cors:!!A&&("withCredentials"in A)})})(p.ajaxSettings.xhr());if(p.support.ajax)p.ajaxTransport(function(A){if(!A.crossDomain||p.support.cors){var B;return{send:function(C,E){var D,H,F=A.xhr();if(A.username)F.open(A.type,A.url,A.async,A.username,A.password);else F.open(A.type,A.url,A.async);if(A.xhrFields)for(H in A.xhrFields)F[H]=A.xhrFields[H];if(A.mimeType&&F.overrideMimeType)F.overrideMimeType(A.mimeType);if(!A.crossDomain&&!C["X-Requested-With"])C["X-Requested-With"]="XMLHttpRequest";try{for(H in C)F.setRequestHeader(H,C[H])}catch(G){}F.send((A.hasContent&&A.data)||null);B=function(L,K){var G,J,M,N,I;try{if(B&&(K||F.readyState===4)){B=h2;if(D){F.onreadystatechange=p.noop;if(b1)delete q2[D]}if(K){if(F.readyState!==4)F.abort()}else{G=F.status;M=F.getAllResponseHeaders();N={};I=F.responseXML;if(I&&I.documentElement)N.xml=I;try{N.text=F.responseText}catch(L){}try{J=F.statusText}catch(C){J=""}if(!G&&A.isLocal&&!A.crossDomain)G=N.text?200:404;else if(G===1223)G=204}}}catch(H){if(!K)E(-1,H)}if(N)E(G,J,N,M)};if(!A.async)B();else if(F.readyState===4)setTimeout(B,0);else{D=++Z1;if(b1){if(!q2){q2={};p(G2).unload(b1)}q2[D]=B}F.onreadystatechange=B}},abort:function(){if(B)B(0,1)}}}});var l,A,C2=/^(?:toggle|show|hide)$/,W1=new RegExp("^(?:([-+])=|)("+$+")([a-z%]*)$","i"),J1=/queueHooks$/,M=[B1],g={"*":[function(G,F){var I,B,J,C=this.createTween(G,F),H=W1.exec(F),E=C.cur(),D=+E||0,A=1;if(H){I=+H[2];B=H[3]||(p.cssNumber[G]?"":"px");if(B!=="px"&&D){D=p.css(C.elem,G,true)||I||1;do{J=A=A||".5";D=D/A;p.style(C.elem,G,D+B);A=C.cur()/E}while(A!==1&&A!==J)}C.unit=B;C.start=D;C.end=H[1]?D+(H[1]+1)*I:I}return C}]};function _1(){setTimeout(function(){l=h2},0);return(l=p.now())}function v(A,B){p.each(B,function(E,D){var F=(g[E]||[]).concat(g["*"]),B=0,C=F.length;for(;B<C;B++)if(F[B].call(A,E,D))return})}function c(A,I,K){var C,D=0,G=0,F=M.length,H=p.Deferred().always(function(){delete B.elem}),B=function(){var B=l||_1(),F=Math.max(0,E.startTime+E.duration-B),D=1-(F/E.duration||0),C=0,G=E.tweens.length;for(;C<G;C++)E.tweens[C].run(D);H.notifyWith(A,[E,D,F]);if(D<1&&G)return F;else{H.resolveWith(A,[E]);return false}},E=H.promise({elem:A,props:p.extend({},I),opts:p.extend(true,{specialEasing:{}},K),originalProperties:I,originalOptions:K,startTime:l||_1(),duration:K.duration,tweens:[],createTween:function(D,F,C){var B=p.Tween(A,E.opts,D,F,E.opts.specialEasing[D]||E.opts.easing);E.tweens.push(B);return B},stop:function(C){var B=0,D=C?E.tweens.length:0;for(;B<D;B++)E.tweens[B].run(1);if(C)H.resolveWith(A,[E,C]);else H.rejectWith(A,[E,C]);return this}}),J=E.props;Q(J,E.opts.specialEasing);for(;D<F;D++){C=M[D].call(E,A,J,E.opts);if(C)return C}v(E,J);if(p.isFunction(E.opts.start))E.opts.start.call(A,E);p.fx.timer(p.extend(B,{anim:E,queue:E.opts.queue,elem:A}));return E.progress(E.opts.progress).done(E.opts.done,E.opts.complete).fail(E.opts.fail).always(E.opts.always)}function Q(G,C){var A,E,B,F,D;for(A in G){E=p.camelCase(A);B=C[E];F=G[A];if(p.isArray(F)){B=F[1];F=G[A]=F[0]}if(A!==E){G[E]=F;delete G[A]}D=p.cssHooks[E];if(D&&"expand"in D){F=D.expand(F);delete G[E];for(A in F)if(!(A in G)){G[A]=F[A];C[A]=B}}else C[E]=B}}p.Animation=p.extend(c,{tweener:function(E,D){if(p.isFunction(E)){D=E;E=["*"]}else E=E.split(" ");var C,A=0,B=E.length;for(;A<B;A++){C=E[A];g[C]=g[C]||[];g[C].unshift(D)}},prefilter:function(B,A){if(A)M.unshift(B);else M.push(B)}});function B1(J,P,A){var B,F,N,O,M,D,E,H,C=this,K=J.style,G={},I=[],L=J.nodeType&&Q1(J);if(!A.queue){E=p._queueHooks(J,"fx");if(E.unqueued==null){E.unqueued=0;H=E.empty.fire;E.empty.fire=function(){if(!E.unqueued)H()}}E.unqueued++;C.always(function(){C.always(function(){E.unqueued--;if(!p.queue(J,"fx").length)E.empty.fire()})})}if(J.nodeType===1&&("height"in P||"width"in P)){A.overflow=[K.overflow,K.overflowX,K.overflowY];if(p.css(J,"display")==="inline"&&p.css(J,"float")==="none")if(!p.support.inlineBlockNeedsLayout||u2(J.nodeName)==="inline")K.display="inline-block";else K.zoom=1}if(A.overflow){K.overflow="hidden";if(!p.support.shrinkWrapBlocks)C.done(function(){K.overflow=A.overflow[0];K.overflowX=A.overflow[1];K.overflowY=A.overflow[2]})}for(B in P){N=P[B];if(C2.exec(N)){delete P[B];if(N===(L?"hide":"show"))continue;I.push(B)}}O=I.length;if(O){M=p._data(J,"fxshow")||p._data(J,"fxshow",{});if(L)p(J).show();else C.done(function(){p(J).hide()});C.done(function(){var A;p.removeData(J,"fxshow",true);for(A in G)p.style(J,A,G[A])});for(B=0;B<O;B++){F=I[B];D=C.createTween(F,L?M[F]:0);G[F]=M[F]||p.style(J,F);if(!(F in M)){M[F]=D.start;if(L){D.end=D.start;D.start=F==="width"||F==="height"?1:0}}}}}function y2(A,E,C,D,B){return new y2.prototype.init(A,E,C,D,B)}p.Tween=y2;y2.prototype={constructor:y2,init:function(A,F,D,E,C,B){this.elem=A;this.prop=D;this.easing=C||"swing";this.options=F;this.start=this.now=this.cur();this.end=E;this.unit=B||(p.cssNumber[D]?"":"px")},cur:function(){var A=y2.propHooks[this.prop];return A&&A.get?A.get(this):y2.propHooks._default.get(this)},run:function(A){var B,C=y2.propHooks[this.prop];if(this.options.duration)this.pos=B=p.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration);else this.pos=B=A;this.now=(this.end-this.start)*B+this.start;if(this.options.step)this.options.step.call(this.elem,this.now,this);if(C&&C.set)C.set(this);else y2.propHooks._default.set(this);return this}};y2.prototype.init.prototype=y2.prototype;y2.propHooks={_default:{get:function(B){var A;if(B.elem[B.prop]!=null&&(!B.elem.style||B.elem.style[B.prop]==null))return B.elem[B.prop];A=p.css(B.elem,B.prop,false,"");return!A||A==="auto"?0:A},set:function(A){if(p.fx.step[A.prop])p.fx.step[A.prop](A);else if(A.elem.style&&(A.elem.style[p.cssProps[A.prop]]!=null||p.cssHooks[A.prop]))p.style(A.elem,A.prop,A.now+A.unit);else A.elem[A.prop]=A.now}}};y2.propHooks.scrollTop=y2.propHooks.scrollLeft={set:function(A){if(A.elem.nodeType&&A.elem.parentNode)A.elem[A.prop]=A.now}};p.each(["toggle","show","hide"],function(C,B){var A=p.fn[B];p.fn[B]=function(E,D,F){return E==null||typeof E==="boolean"||(!C&&p.isFunction(E)&&p.isFunction(D))?A.apply(this,arguments):this.animate(e1(B,true),E,D,F)}});p.fn.extend({fadeTo:function(C,A,B,D){return this.filter(Q1).css("opacity",0).show().end().animate({opacity:A},C,B,D)},animate:function(F,B,A,E){var D=p.isEmptyObject(F),C=p.speed(B,A,E),G=function(){var A=c(this,p.extend({},F),C);if(D)A.stop(true)};return D||C.queue===false?this.each(G):this.queue(C.queue,G)},stop:function(D,B,A){var C=function(C){var B=C.stop;delete C.stop;B(A)};if(typeof D!=="string"){A=B;B=D;D=h2}if(B&&D!==false)this.queue(D||"fx",[]);return this.each(function(){var G=true,E=D!=null&&D+"queueHooks",B=p.timers,F=p._data(this);if(E){if(F[E]&&F[E].stop)C(F[E])}else for(E in F)if(F[E]&&F[E].stop&&J1.test(E))C(F[E]);for(E=B.length;E--;)if(B[E].elem===this&&(D==null||B[E].queue===D)){B[E].anim.stop(A);G=false;B.splice(E,1)}if(G||!A)p.dequeue(this,D)})}});function e1(D,C){var A,B={height:D},E=0;C=C?1:0;for(;E<4;E+=2-C){A=h[E];B["margin"+A]=B["padding"+A]=D}if(C)B.opacity=B.width=D;return B}p.each({slideDown:e1("show"),slideUp:e1("hide"),slideToggle:e1("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,B){p.fn[A]=function(C,A,D){return this.animate(B,C,A,D)}});p.speed=function(B,A,C){var D=B&&typeof B==="object"?p.extend({},B):{complete:C||!C&&A||p.isFunction(B)&&B,duration:B,easing:C&&A||A&&!p.isFunction(A)&&A};D.duration=p.fx.off?0:typeof D.duration==="number"?D.duration:D.duration in p.fx.speeds?p.fx.speeds[D.duration]:p.fx.speeds._default;if(D.queue==null||D.queue===true)D.queue="fx";D.old=D.complete;D.complete=function(){if(p.isFunction(D.old))D.old.call(this);if(D.queue)p.dequeue(this,D.queue)};return D};p.easing={linear:function(A){return A},swing:function(A){return 0.5-Math.cos(A*Math.PI)/2}};p.timers=[];p.fx=y2.prototype.init;p.fx.tick=function(){var B,A=p.timers,C=0;for(;C<A.length;C++){B=A[C];if(!B()&&A[C]===B)A.splice(C--,1)}if(!A.length)p.fx.stop()};p.fx.timer=function(B){if(B()&&p.timers.push(B)&&!A)A=setInterval(p.fx.tick,p.fx.interval)};p.fx.interval=13;p.fx.stop=function(){clearInterval(A);A=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fx.step={};if(p.expr&&p.expr.filters)p.expr.filters.animated=function(A){return p.grep(p.timers,function(B){return A===B.elem}).length};var w=/^(?:body|html)$/i;p.fn.offset=function(L){if(arguments.length)return L===h2?this:this.each(function(A){p.offset.setOffset(this,L,A)});var J,E,A,B,D,F,H,I,M,K,C=this[0],G=C&&C.ownerDocument;if(!G)return;if((A=G.body)===C)return p.offset.bodyOffset(C);E=G.documentElement;if(!p.contains(E,C))return{top:0,left:0};J=C.getBoundingClientRect();B=P1(G);D=E.clientTop||A.clientTop||0;F=E.clientLeft||A.clientLeft||0;H=B.pageYOffset||E.scrollTop;I=B.pageXOffset||E.scrollLeft;M=J.top+H-D;K=J.left+I-F;return{top:M,left:K}};p.offset={bodyOffset:function(A){var C=A.offsetTop,B=A.offsetLeft;if(p.support.doesNotIncludeMarginInBodyOffset){C+=parseFloat(p.css(A,"marginTop"))||0;B+=parseFloat(p.css(A,"marginLeft"))||0}return{top:C,left:B}},setOffset:function(I,M,H){var A=p.css(I,"position");if(A==="static")I.style.position="relative";var E=p(I),J=E.offset(),F=p.css(I,"top"),G=p.css(I,"left"),D=(A==="absolute"||A==="fixed")&&p.inArray("auto",[F,G])>-1,L={},B={},K,C;if(D){B=E.position();K=B.top;C=B.left}else{K=parseFloat(F)||0;C=parseFloat(G)||0}if(p.isFunction(M))M=M.call(I,H,J);if(M.top!=null)L.top=(M.top-J.top)+K;if(M.left!=null)L.left=(M.left-J.left)+C;if("using"in M)M.using.call(I,L);else E.css(L)}};p.fn.extend({position:function(){if(!this[0])return;var A=this[0],B=this.offsetParent(),D=this.offset(),C=w.test(B[0].nodeName)?{top:0,left:0}:B.offset();D.top-=parseFloat(p.css(A,"marginTop"))||0;D.left-=parseFloat(p.css(A,"marginLeft"))||0;C.top+=parseFloat(p.css(B[0],"borderTopWidth"))||0;C.left+=parseFloat(p.css(B[0],"borderLeftWidth"))||0;return{top:D.top-C.top,left:D.left-C.left}},offsetParent:function(){return this.map(function(){var A=this.offsetParent||_.body;while(A&&(!w.test(A.nodeName)&&p.css(A,"position")==="static"))A=A.offsetParent;return A||_.body})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(B,A){var C=/Y/.test(A);p.fn[B]=function(D){return p.access(this,function(D,E,B){var F=P1(D);if(B===h2)return F?(A in F)?F[A]:F.document.documentElement[E]:D[E];if(F)F.scrollTo(!C?B:p(F).scrollLeft(),C?B:p(F).scrollTop());else D[E]=B},B,D,arguments.length,null)}});function P1(A){return p.isWindow(A)?A:A.nodeType===9?A.defaultView||A.parentWindow:false}p.each({Height:"height",Width:"width"},function(A,B){p.each({padding:"inner"+A,content:B,"":"outer"+A},function(C,D){p.fn[D]=function(F,E){var G=arguments.length&&(C||typeof F!=="boolean"),D=C||(F===true||E===true?"margin":"border");return p.access(this,function(B,F,E){var C;if(p.isWindow(B))return B.document.documentElement["client"+A];if(B.nodeType===9){C=B.documentElement;return Math.max(B.body["scroll"+A],C["scroll"+A],B.body["offset"+A],C["offset"+A],C["client"+A])}return E===h2?p.css(B,F,E,D):p.style(B,F,E,D)},B,G?F:h2,G,null)}})});G2.jQuery=G2.$=p;if(typeof define==="function"&&define.amd&&define.amd.jQuery)define("jquery",[],function(){return p})})(window);$j=jQuery.noConflict();(function(D,C){D.ui=D.ui||{};if(D.ui.version)return;D.extend(D.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});D.fn.extend({propAttr:D.fn.prop||D.fn.attr,_focus:D.fn.focus,focus:function(A,B){return typeof A==="number"?this.each(function(){var C=this;setTimeout(function(){D(C).focus();if(B)B.call(C)},A)}):this._focus.apply(this,arguments)},scrollParent:function(){var A;if((D.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position")))A=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(D.curCSS(this,"position",1))&&(/(auto|scroll)/).test(D.curCSS(this,"overflow",1)+D.curCSS(this,"overflow-y",1)+D.curCSS(this,"overflow-x",1))}).eq(0);else A=this.parents().filter(function(){return(/(auto|scroll)/).test(D.curCSS(this,"overflow",1)+D.curCSS(this,"overflow-y",1)+D.curCSS(this,"overflow-x",1))}).eq(0);return(/fixed/).test(this.css("position"))||!A.length?D(document):A},zIndex:function(E){if(E!==C)return this.css("zIndex",E);if(this.length){var B=D(this[0]),A,F;while(B.length&&B[0]!==document){A=B.css("position");if(A==="absolute"||A==="relative"||A==="fixed"){F=parseInt(B.css("zIndex"),10);if(!isNaN(F)&&F!==0)return F}B=B.parent()}}return 0},disableSelection:function(){return this.bind((D.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(A){A.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});if(!D("<a>").outerWidth(1).jquery)D.each(["Width","Height"],function(H,B){var A=B==="Width"?["Left","Right"]:["Top","Bottom"],F=B.toLowerCase(),E={innerWidth:D.fn.innerWidth,innerHeight:D.fn.innerHeight,outerWidth:D.fn.outerWidth,outerHeight:D.fn.outerHeight};function G(B,F,E,C){D.each(A,function(){F-=parseFloat(D.curCSS(B,"padding"+this,true))||0;if(E)F-=parseFloat(D.curCSS(B,"border"+this+"Width",true))||0;if(C)F-=parseFloat(D.curCSS(B,"margin"+this,true))||0});return F}D.fn["inner"+B]=function(A){if(A===C)return E["inner"+B].call(this);return this.each(function(){D(this).css(F,G(this,A)+"px")})};D.fn["outer"+B]=function(C,A){if(typeof C!=="number")return E["outer"+B].call(this,C);return this.each(function(){D(this).css(F,G(this,C,true,A)+"px")})}});function A(A,G){var F=A.nodeName.toLowerCase();if("area"===F){var E=A.parentNode,H=E.name,C;if(!A.href||!H||E.nodeName.toLowerCase()!=="map")return false;C=D("img[usemap=#"+H+"]")[0];return!!C&&B(C)}return(/input|select|textarea|button|object/.test(F)?!A.disabled:"a"==F?A.href||G:G)&&B(A)}function B(A){return!D(A).parents().andSelf().filter(function(){return D.curCSS(this,"visibility")==="hidden"||D.expr.filters.hidden(this)}).length}D.extend(D.expr[":"],{data:D.expr.createPseudo?D.expr.createPseudo(function(A){return function(B){return!!D.data(B,A)}}):function(A,C,B){return!!D.data(A,B[3])},focusable:function(B){return A(B,!isNaN(D.attr(B,"tabindex")))},tabbable:function(B){var C=D.attr(B,"tabindex"),E=isNaN(C);return(E||C>=0)&&A(B,!E)}});D(function(){var A=document.body,B=A.appendChild(B=document.createElement("div"));B.offsetHeight;D.extend(B.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});D.support.minHeight=B.offsetHeight===100;D.support.selectstart="onselectstart"in B;A.removeChild(B).style.display="none"});if(!D.curCSS)D.curCSS=D.css;D.extend(D.ui,{plugin:{add:function(A,E,B){var C=D.ui[A].prototype;for(var F in B){C.plugins[F]=C.plugins[F]||[];C.plugins[F].push([E,B[F]])}},call:function(D,C,B){var A=D.plugins[C];if(!A||!D.element[0].parentNode)return;for(var E=0;E<A.length;E++)if(D.options[A[E][0]])A[E][1].apply(D.element,B)}},contains:function(B,A){return document.compareDocumentPosition?B.compareDocumentPosition(A)&16:B!==A&&B.contains(A)},hasScroll:function(A,C){if(D(A).css("overflow")==="hidden")return false;var B=(C&&C==="left")?"scrollLeft":"scrollTop",E=false;if(A[B]>0)return true;A[B]=1;E=(A[B]>0);A[B]=0;return E},isOverAxis:function(C,A,B){return(C>A)&&(C<(A+B))},isOver:function(E,G,F,C,A,B){return D.ui.isOverAxis(E,F,A)&&D.ui.isOverAxis(G,C,B)}})})(jQuery);(function(C,B){if(C.cleanData){var A=C.cleanData;C.cleanData=function(E){for(var F=0,B;(B=E[F])!=null;F++){try{C(B).triggerHandler("remove")}catch(D){}}A(E)}}else{var D=C.fn.remove;C.fn.remove=function(A,B){return this.each(function(){if(!B)if(!A||C.filter(A,[this]).length)C("*",this).add([this]).each(function(){try{C(this).triggerHandler("remove")}catch(A){}});return D.call(C(this),A,B)})}}C.widget=function(A,B,F){var G=A.split(".")[0],E;A=A.split(".")[1];E=G+"-"+A;if(!F){F=B;B=C.Widget}C.expr[":"][E]=function(B){return!!C.data(B,A)};C[G]=C[G]||{};C[G][A]=function(B,A){if(arguments.length)this._createWidget(B,A)};var D=new B();D.options=C.extend(true,{},D.options);C[G][A].prototype=C.extend(true,D,{namespace:G,widgetName:A,widgetEventPrefix:C[G][A].prototype.widgetEventPrefix||A,widgetBaseClass:E},F);C.widget.bridge(A,C[G][A])};C.widget.bridge=function(A,D){C.fn[A]=function(H){var G=typeof H==="string",E=Array.prototype.slice.call(arguments,1),F=this;H=!G&&E.length?C.extend.apply(null,[true,H].concat(E)):H;if(G&&H.charAt(0)==="_")return F;if(G)this.each(function(){var G=C.data(this,A),D=G&&C.isFunction(G[H])?G[H].apply(G,E):G;if(D!==G&&D!==B){F=D;return false}});else this.each(function(){var B=C.data(this,A);if(B)B.option(H||{})._init();else C.data(this,A,new D(H,this))});return F}};C.Widget=function(B,A){if(arguments.length)this._createWidget(B,A)};C.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(D,A){C.data(A,this.widgetName,this);this.element=C(A);this.options=C.extend(true,{},this.options,this._getCreateOptions(),D);var B=this;this.element.bind("remove."+this.widgetName,function(){B.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return C.metadata&&C.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(D,A){var E=D;if(arguments.length===0)return C.extend({},this.options);if(typeof D==="string"){if(A===B)return this.options[D];E={};E[D]=A}this._setOptions(E);return this},_setOptions:function(B){var A=this;C.each(B,function(C,B){A._setOption(C,B)});return this},_setOption:function(B,A){this.options[B]=A;if(B==="disabled")this.widget()[A?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",A);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(G,A,E){var D,F,B=this.options[G];E=E||{};A=C.Event(A);A.type=(G===this.widgetEventPrefix?G:this.widgetEventPrefix+G).toLowerCase();A.target=this.element[0];F=A.originalEvent;if(F)for(D in F)if(!(D in A))A[D]=F[D];this.element.trigger(A,E);return!(C.isFunction(B)&&B.call(this.element[0],A,E)===false||A.isDefaultPrevented())}}})(jQuery);(function(C,B){var A=false;C(document).mouseup(function(B){A=false});C.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var A=this;this.element.bind("mousedown."+this.widgetName,function(B){return A._mouseDown(B)}).bind("click."+this.widgetName,function(B){if(true===C.data(B.target,A.widgetName+".preventClickEvent")){C.removeData(B.target,A.widgetName+".preventClickEvent");B.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate)C(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(D){if(A)return;(this._mouseStarted&&this._mouseUp(D));this._mouseDownEvent=D;var E=this,F=(D.which==1),B=(typeof this.options.cancel=="string"&&D.target.nodeName?C(D.target).closest(this.options.cancel).length:false);if(!F||B||!this._mouseCapture(D))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){E.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(D)&&this._mouseDelayMet(D)){this._mouseStarted=(this._mouseStart(D)!==false);if(!this._mouseStarted){D.preventDefault();return true}}if(true===C.data(D.target,this.widgetName+".preventClickEvent"))C.removeData(D.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(A){return E._mouseMove(A)};this._mouseUpDelegate=function(A){return E._mouseUp(A)};C(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);D.preventDefault();A=true;return true},_mouseMove:function(A){if(C.browser.msie&&!(document.documentMode>=9)&&!A.button)return this._mouseUp(A);if(this._mouseStarted){this._mouseDrag(A);return A.preventDefault()}if(this._mouseDistanceMet(A)&&this._mouseDelayMet(A)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,A)!==false);(this._mouseStarted?this._mouseDrag(A):this._mouseUp(A))}return!this._mouseStarted},_mouseUp:function(A){C(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(A.target==this._mouseDownEvent.target)C.data(A.target,this.widgetName+".preventClickEvent",true);this._mouseStop(A)}return false},_mouseDistanceMet:function(A){return(Math.max(Math.abs(this._mouseDownEvent.pageX-A.pageX),Math.abs(this._mouseDownEvent.pageY-A.pageY))>=this.options.distance)},_mouseDelayMet:function(A){return this.mouseDelayMet},_mouseStart:function(A){},_mouseDrag:function(A){},_mouseStop:function(A){},_mouseCapture:function(A){return true}})})(jQuery);(function(B,A){B.widget("ui.draggable",B.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position")))this.element[0].style.position="relative";(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable"+" ui-draggable-dragging"+" ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(A){var C=this.options;if(this.helper||C.disabled||B(A.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(A);if(!this.handle)return false;if(C.iframeFix)B(C.iframeFix===true?"iframe":C.iframeFix).each(function(){B("<div class=\"ui-draggable-iframeFix\" style=\"background: #fff;\"></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(B(this).offset()).appendTo("body")});return true},_mouseStart:function(A){var C=this.options;this.helper=this._createHelper(A);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(B.ui.ddmanager)B.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};B.extend(this.offset,{click:{left:A.pageX-this.offset.left,top:A.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(A);this.originalPageX=A.pageX;this.originalPageY=A.pageY;(C.cursorAt&&this._adjustOffsetFromHelper(C.cursorAt));if(C.containment)this._setContainment();if(this._trigger("start",A)===false){this._clear();return false}this._cacheHelperProportions();if(B.ui.ddmanager&&!C.dropBehaviour)B.ui.ddmanager.prepareOffsets(this,A);this._mouseDrag(A,true);if(B.ui.ddmanager)B.ui.ddmanager.dragStart(this,A);return true},_mouseDrag:function(D,C){this.position=this._generatePosition(D);this.positionAbs=this._convertPositionTo("absolute");if(!C){var A=this._uiHash();if(this._trigger("drag",D,A)===false){this._mouseUp({});return false}this.position=A.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";if(B.ui.ddmanager)B.ui.ddmanager.drag(this,D);return false},_mouseStop:function(D){var C=false;if(B.ui.ddmanager&&!this.options.dropBehaviour)C=B.ui.ddmanager.drop(this,D);if(this.dropped){C=this.dropped;this.dropped=false}var A=this.element[0],F=false;while(A&&(A=A.parentNode))if(A==document)F=true;if(!F&&this.options.helper==="original")return false;if((this.options.revert=="invalid"&&!C)||(this.options.revert=="valid"&&C)||this.options.revert===true||(B.isFunction(this.options.revert)&&this.options.revert.call(this.element,C))){var E=this;B(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(E._trigger("stop",D)!==false)E._clear()})}else if(this._trigger("stop",D)!==false)this._clear();return false},_mouseUp:function(A){if(this.options.iframeFix===true)B("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(B.ui.ddmanager)B.ui.ddmanager.dragStop(this,A);return B.ui.mouse.prototype._mouseUp.call(this,A)},cancel:function(){if(this.helper.is(".ui-draggable-dragging"))this._mouseUp({});else this._clear();return this},_getHandle:function(C){var A=!this.options.handle||!B(this.options.handle,this.element).length?true:false;B(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==C.target)A=true});return A},_createHelper:function(C){var D=this.options,A=B.isFunction(D.helper)?B(D.helper.apply(this.element[0],[C])):(D.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!A.parents("body").length)A.appendTo((D.appendTo=="parent"?this.element[0].parentNode:D.appendTo));if(A[0]!=this.element[0]&&!(/(fixed|absolute)/).test(A.css("position")))A.css("position","absolute");return A},_adjustOffsetFromHelper:function(A){if(typeof A=="string")A=A.split(" ");if(B.isArray(A))A={left:+A[0],top:+A[1]||0};if("left"in A)this.offset.click.left=A.left+this.margins.left;if("right"in A)this.offset.click.left=this.helperProportions.width-A.right+this.margins.left;if("top"in A)this.offset.click.top=A.top+this.margins.top;if("bottom"in A)this.offset.click.top=this.helperProportions.height-A.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var A=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0])){A.left+=this.scrollParent.scrollLeft();A.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&B.browser.msie))A={top:0,left:0};return{top:A.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:A.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var A=this.element.position();return{top:A.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:A.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var E=this.options;if(E.containment=="parent")E.containment=this.helper[0].parentNode;if(E.containment=="document"||E.containment=="window")this.containment=[E.containment=="document"?0:B(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,E.containment=="document"?0:B(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(E.containment=="document"?0:B(window).scrollLeft())+B(E.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(E.containment=="document"?0:B(window).scrollTop())+(B(E.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!(/^(document|window|parent)$/).test(E.containment)&&E.containment.constructor!=Array){var D=B(E.containment),F=D[0];if(!F)return;var C=D.offset(),A=(B(F).css("overflow")!="hidden");this.containment=[(parseInt(B(F).css("borderLeftWidth"),10)||0)+(parseInt(B(F).css("paddingLeft"),10)||0),(parseInt(B(F).css("borderTopWidth"),10)||0)+(parseInt(B(F).css("paddingTop"),10)||0),(A?Math.max(F.scrollWidth,F.offsetWidth):F.offsetWidth)-(parseInt(B(F).css("borderLeftWidth"),10)||0)-(parseInt(B(F).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(A?Math.max(F.scrollHeight,F.offsetHeight):F.offsetHeight)-(parseInt(B(F).css("borderTopWidth"),10)||0)-(parseInt(B(F).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=D}else if(E.containment.constructor==Array)this.containment=E.containment},_convertPositionTo:function(A,G){if(!G)G=this.position;var E=A=="absolute"?1:-1,F=this.options,C=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,D=(/(html|body)/i).test(C[0].tagName);return{top:(G.top+this.offset.relative.top*E+this.offset.parent.top*E-(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(D?0:C.scrollTop()))*E)),left:(G.left+this.offset.relative.left*E+this.offset.parent.left*E-(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():D?0:C.scrollLeft())*E))}},_generatePosition:function(E){var F=this.options,C=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,D=(/(html|body)/i).test(C[0].tagName),H=E.pageX,K=E.pageY;if(this.originalPosition){var I;if(this.containment){if(this.relative_container){var A=this.relative_container.offset();I=[this.containment[0]+A.left,this.containment[1]+A.top,this.containment[2]+A.left,this.containment[3]+A.top]}else I=this.containment;if(E.pageX-this.offset.click.left<I[0])H=I[0]+this.offset.click.left;if(E.pageY-this.offset.click.top<I[1])K=I[1]+this.offset.click.top;if(E.pageX-this.offset.click.left>I[2])H=I[2]+this.offset.click.left;if(E.pageY-this.offset.click.top>I[3])K=I[3]+this.offset.click.top}if(F.grid){var J=F.grid[1]?this.originalPageY+Math.round((K-this.originalPageY)/F.grid[1])*F.grid[1]:this.originalPageY;K=I?(!(J-this.offset.click.top<I[1]||J-this.offset.click.top>I[3])?J:(!(J-this.offset.click.top<I[1])?J-F.grid[1]:J+F.grid[1])):J;var G=F.grid[0]?this.originalPageX+Math.round((H-this.originalPageX)/F.grid[0])*F.grid[0]:this.originalPageX;H=I?(!(G-this.offset.click.left<I[0]||G-this.offset.click.left>I[2])?G:(!(G-this.offset.click.left<I[0])?G-F.grid[0]:G+F.grid[0])):G}}return{top:(K-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(D?0:C.scrollTop())))),left:(H-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():D?0:C.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval)this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(D,C,A){A=A||this._uiHash();B.ui.plugin.call(this,D,[C,A]);if(D=="drag")this.positionAbs=this._convertPositionTo("absolute");return B.Widget.prototype._trigger.call(this,D,C,A)},plugins:{},_uiHash:function(A){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});B.extend(B.ui.draggable,{version:"1.8.23"});B.ui.plugin.add("draggable","connectToSortable",{start:function(C,A){var E=B(this).data("draggable"),D=E.options,F=B.extend({},A,{item:E.element});E.sortables=[];B(D.connectToSortable).each(function(){var A=B.data(this,"sortable");if(A&&!A.options.disabled){E.sortables.push({instance:A,shouldRevert:A.options.revert});A.refreshPositions();A._trigger("activate",C,F)}})},stop:function(C,A){var D=B(this).data("draggable"),E=B.extend({},A,{item:D.element});B.each(D.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;D.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(C);this.instance.options.helper=this.instance.options._helper;if(D.options.helper=="original")this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",C,E)}})},drag:function(D,A){var F=B(this).data("draggable"),E=this,C=function(E){var A=this.offset.click.top,G=this.offset.click.left,H=this.positionAbs.top,J=this.positionAbs.left,I=E.height,F=E.width,D=E.top,C=E.left;return B.ui.isOver(H+A,J+G,D,C,I,F)};B.each(F.sortables,function(C){this.instance.positionAbs=F.positionAbs;this.instance.helperProportions=F.helperProportions;this.instance.offset.click=F.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=B(E).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return A.helper[0]};D.target=this.instance.currentItem[0];this.instance._mouseCapture(D,true);this.instance._mouseStart(D,true,true);this.instance.offset.click.top=F.offset.click.top;this.instance.offset.click.left=F.offset.click.left;this.instance.offset.parent.left-=F.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=F.offset.parent.top-this.instance.offset.parent.top;F._trigger("toSortable",D);F.dropped=this.instance.element;F.currentItem=F.element;this.instance.fromOutside=F}if(this.instance.currentItem)this.instance._mouseDrag(D)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",D,this.instance._uiHash(this.instance));this.instance._mouseStop(D,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder)this.instance.placeholder.remove();F._trigger("fromSortable",D);F.dropped=false}})}});B.ui.plugin.add("draggable","cursor",{start:function(D,A){var C=B("body"),E=B(this).data("draggable").options;if(C.css("cursor"))E._cursor=C.css("cursor");C.css("cursor",E.cursor)},stop:function(C,A){var D=B(this).data("draggable").options;if(D._cursor)B("body").css("cursor",D._cursor)}});B.ui.plugin.add("draggable","opacity",{start:function(D,A){var C=B(A.helper),E=B(this).data("draggable").options;if(C.css("opacity"))E._opacity=C.css("opacity");C.css("opacity",E.opacity)},stop:function(C,A){var D=B(this).data("draggable").options;if(D._opacity)B(A.helper).css("opacity",D._opacity)}});B.ui.plugin.add("draggable","scroll",{start:function(C,A){var D=B(this).data("draggable");if(D.scrollParent[0]!=document&&D.scrollParent[0].tagName!="HTML")D.overflowOffset=D.scrollParent.offset()},drag:function(D,A){var F=B(this).data("draggable"),E=F.options,C=false;if(F.scrollParent[0]!=document&&F.scrollParent[0].tagName!="HTML"){if(!E.axis||E.axis!="x")if((F.overflowOffset.top+F.scrollParent[0].offsetHeight)-D.pageY<E.scrollSensitivity)F.scrollParent[0].scrollTop=C=F.scrollParent[0].scrollTop+E.scrollSpeed;else if(D.pageY-F.overflowOffset.top<E.scrollSensitivity)F.scrollParent[0].scrollTop=C=F.scrollParent[0].scrollTop-E.scrollSpeed;if(!E.axis||E.axis!="y")if((F.overflowOffset.left+F.scrollParent[0].offsetWidth)-D.pageX<E.scrollSensitivity)F.scrollParent[0].scrollLeft=C=F.scrollParent[0].scrollLeft+E.scrollSpeed;else if(D.pageX-F.overflowOffset.left<E.scrollSensitivity)F.scrollParent[0].scrollLeft=C=F.scrollParent[0].scrollLeft-E.scrollSpeed}else{if(!E.axis||E.axis!="x")if(D.pageY-B(document).scrollTop()<E.scrollSensitivity)C=B(document).scrollTop(B(document).scrollTop()-E.scrollSpeed);else if(B(window).height()-(D.pageY-B(document).scrollTop())<E.scrollSensitivity)C=B(document).scrollTop(B(document).scrollTop()+E.scrollSpeed);if(!E.axis||E.axis!="y")if(D.pageX-B(document).scrollLeft()<E.scrollSensitivity)C=B(document).scrollLeft(B(document).scrollLeft()-E.scrollSpeed);else if(B(window).width()-(D.pageX-B(document).scrollLeft())<E.scrollSensitivity)C=B(document).scrollLeft(B(document).scrollLeft()+E.scrollSpeed)}if(C!==false&&B.ui.ddmanager&&!E.dropBehaviour)B.ui.ddmanager.prepareOffsets(F,D)}});B.ui.plugin.add("draggable","snap",{start:function(C,A){var E=B(this).data("draggable"),D=E.options;E.snapElements=[];B(D.snap.constructor!=String?(D.snap.items||":data(draggable)"):D.snap).each(function(){var A=B(this),C=A.offset();if(this!=E.element[0])E.snapElements.push({item:this,width:A.outerWidth(),height:A.outerHeight(),top:C.top,left:C.left})})},drag:function(R,A){var L=B(this).data("draggable"),H=L.options,C=H.snapTolerance,N=A.offset.left,M=N+L.helperProportions.width,G=A.offset.top,I=G+L.helperProportions.height;for(var O=L.snapElements.length-1;O>=0;O--){var J=L.snapElements[O].left,Q=J+L.snapElements[O].width,P=L.snapElements[O].top,F=P+L.snapElements[O].height;if(!((J-C<N&&N<Q+C&&P-C<G&&G<F+C)||(J-C<N&&N<Q+C&&P-C<I&&I<F+C)||(J-C<M&&M<Q+C&&P-C<G&&G<F+C)||(J-C<M&&M<Q+C&&P-C<I&&I<F+C))){if(L.snapElements[O].snapping)(L.options.snap.release&&L.options.snap.release.call(L.element,R,B.extend(L._uiHash(),{snapItem:L.snapElements[O].item})));L.snapElements[O].snapping=false;continue}if(H.snapMode!="inner"){var E=Math.abs(P-I)<=C,K=Math.abs(F-G)<=C,D=Math.abs(J-M)<=C,S=Math.abs(Q-N)<=C;if(E)A.position.top=L._convertPositionTo("relative",{top:P-L.helperProportions.height,left:0}).top-L.margins.top;if(K)A.position.top=L._convertPositionTo("relative",{top:F,left:0}).top-L.margins.top;if(D)A.position.left=L._convertPositionTo("relative",{top:0,left:J-L.helperProportions.width}).left-L.margins.left;if(S)A.position.left=L._convertPositionTo("relative",{top:0,left:Q}).left-L.margins.left}var T=(E||K||D||S);if(H.snapMode!="outer"){E=Math.abs(P-G)<=C,K=Math.abs(F-I)<=C,D=Math.abs(J-N)<=C,S=Math.abs(Q-M)<=C;if(E)A.position.top=L._convertPositionTo("relative",{top:P,left:0}).top-L.margins.top;if(K)A.position.top=L._convertPositionTo("relative",{top:F-L.helperProportions.height,left:0}).top-L.margins.top;if(D)A.position.left=L._convertPositionTo("relative",{top:0,left:J}).left-L.margins.left;if(S)A.position.left=L._convertPositionTo("relative",{top:0,left:Q-L.helperProportions.width}).left-L.margins.left}if(!L.snapElements[O].snapping&&(E||K||D||S||T))(L.options.snap.snap&&L.options.snap.snap.call(L.element,R,B.extend(L._uiHash(),{snapItem:L.snapElements[O].item})));L.snapElements[O].snapping=(E||K||D||S||T)}}});B.ui.plugin.add("draggable","stack",{start:function(D,C){var E=B(this).data("draggable").options,F=B.makeArray(B(E.stack)).sort(function(C,A){return(parseInt(B(C).css("zIndex"),10)||0)-(parseInt(B(A).css("zIndex"),10)||0)});if(!F.length)return;var A=parseInt(F[0].style.zIndex)||0;B(F).each(function(B){this.style.zIndex=A+B});this[0].style.zIndex=A+F.length}});B.ui.plugin.add("draggable","zIndex",{start:function(D,A){var C=B(A.helper),E=B(this).data("draggable").options;if(C.css("zIndex"))E._zIndex=C.css("zIndex");C.css("zIndex",E.zIndex)},stop:function(C,A){var D=B(this).data("draggable").options;if(D._zIndex)B(A.helper).css("zIndex",D._zIndex)}})})(jQuery);(function(B,A){B.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var C=this.options,A=C.accept;this.isover=0;this.isout=1;this.accept=B.isFunction(A)?A:function(B){return B.is(A)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};B.ui.ddmanager.droppables[C.scope]=B.ui.ddmanager.droppables[C.scope]||[];B.ui.ddmanager.droppables[C.scope].push(this);(C.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var A=B.ui.ddmanager.droppables[this.options.scope];for(var C=0;C<A.length;C++)if(A[C]==this)A.splice(C,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(C,A){if(C=="accept")this.accept=B.isFunction(A)?A:function(B){return B.is(A)};B.Widget.prototype._setOption.apply(this,arguments)},_activate:function(A){var C=B.ui.ddmanager.current;if(this.options.activeClass)this.element.addClass(this.options.activeClass);(C&&this._trigger("activate",A,this.ui(C)))},_deactivate:function(A){var C=B.ui.ddmanager.current;if(this.options.activeClass)this.element.removeClass(this.options.activeClass);(C&&this._trigger("deactivate",A,this.ui(C)))},_over:function(A){var C=B.ui.ddmanager.current;if(!C||(C.currentItem||C.element)[0]==this.element[0])return;if(this.accept.call(this.element[0],(C.currentItem||C.element))){if(this.options.hoverClass)this.element.addClass(this.options.hoverClass);this._trigger("over",A,this.ui(C))}},_out:function(A){var C=B.ui.ddmanager.current;if(!C||(C.currentItem||C.element)[0]==this.element[0])return;if(this.accept.call(this.element[0],(C.currentItem||C.element))){if(this.options.hoverClass)this.element.removeClass(this.options.hoverClass);this._trigger("out",A,this.ui(C))}},_drop:function(C,E){var D=E||B.ui.ddmanager.current;if(!D||(D.currentItem||D.element)[0]==this.element[0])return false;var A=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var C=B.data(this,"droppable");if(C.options.greedy&&!C.options.disabled&&C.options.scope==D.options.scope&&C.accept.call(C.element[0],(D.currentItem||D.element))&&B.ui.intersect(D,B.extend(C,{offset:C.element.offset()}),C.options.tolerance)){A=true;return false}});if(A)return false;if(this.accept.call(this.element[0],(D.currentItem||D.element))){if(this.options.activeClass)this.element.removeClass(this.options.activeClass);if(this.options.hoverClass)this.element.removeClass(this.options.hoverClass);this._trigger("drop",C,this.ui(D));return this.element}return false},ui:function(A){return{draggable:(A.currentItem||A.element),helper:A.helper,position:A.position,offset:A.positionAbs}}});B.extend(B.ui.droppable,{version:"1.8.23"});B.ui.intersect=function(O,A,D){if(!A.offset)return false;var J=(O.positionAbs||O.position.absolute).left,I=J+O.helperProportions.width,E=(O.positionAbs||O.position.absolute).top,F=E+O.helperProportions.height,G=A.offset.left,L=G+A.proportions.width,K=A.offset.top,C=K+A.proportions.height;switch(D){case"fit":return(G<=J&&I<=L&&K<=E&&F<=C);break;case"intersect":return(G<J+(O.helperProportions.width/2)&&I-(O.helperProportions.width/2)<L&&K<E+(O.helperProportions.height/2)&&F-(O.helperProportions.height/2)<C);break;case"pointer":var N=((O.positionAbs||O.position.absolute).left+(O.clickOffset||O.offset.click).left),M=((O.positionAbs||O.position.absolute).top+(O.clickOffset||O.offset.click).top),H=B.ui.isOver(M,N,K,G,A.proportions.height,A.proportions.width);return H;break;case"touch":return((E>=K&&E<=C)||(F>=K&&F<=C)||(E<K&&F>C))&&((J>=G&&J<=L)||(I>=G&&I<=L)||(J<G&&I>L));break;default:return false;break}};B.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(A,C){var E=B.ui.ddmanager.droppables[A.options.scope]||[],G=C?C.type:null,D=(A.currentItem||A.element).find(":data(droppable)").andSelf();A:for(var H=0;H<E.length;H++){if(E[H].options.disabled||(A&&!E[H].accept.call(E[H].element[0],(A.currentItem||A.element))))continue;for(var F=0;F<D.length;F++)if(D[F]==E[H].element[0]){E[H].proportions.height=0;continue A}E[H].visible=E[H].element.css("display")!="none";if(!E[H].visible)continue;if(G=="mousedown")E[H]._activate.call(E[H],C);E[H].offset=E[H].element.offset();E[H].proportions={width:E[H].element[0].offsetWidth,height:E[H].element[0].offsetHeight}}},drop:function(D,C){var A=false;B.each(B.ui.ddmanager.droppables[D.options.scope]||[],function(){if(!this.options)return;if(!this.options.disabled&&this.visible&&B.ui.intersect(D,this,this.options.tolerance))A=this._drop.call(this,C)||A;if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(D.currentItem||D.element))){this.isout=1;this.isover=0;this._deactivate.call(this,C)}});return A},dragStart:function(C,A){C.element.parents(":not(body,html)").bind("scroll.droppable",function(){if(!C.options.refreshPositions)B.ui.ddmanager.prepareOffsets(C,A)})},drag:function(C,A){if(C.options.refreshPositions)B.ui.ddmanager.prepareOffsets(C,A);B.each(B.ui.ddmanager.droppables[C.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var F=B.ui.intersect(C,this,this.options.tolerance),E=!F&&this.isover==1?"isout":(F&&this.isover==0?"isover":null);if(!E)return;var D;if(this.options.greedy){var G=this.element.parents(":data(droppable):eq(0)");if(G.length){D=B.data(G[0],"droppable");D.greedyChild=(E=="isover"?1:0)}}if(D&&E=="isover"){D["isover"]=0;D["isout"]=1;D._out.call(D,A)}this[E]=1;this[E=="isout"?"isover":"isout"]=0;this[E=="isover"?"_over":"_out"].call(this,A);if(D&&E=="isout"){D["isout"]=0;D["isover"]=1;D._over.call(D,A)}})},dragStop:function(C,A){C.element.parents(":not(body,html)").unbind("scroll.droppable");if(!C.options.refreshPositions)B.ui.ddmanager.prepareOffsets(C,A)}}})(jQuery);(function(C,B){C.widget("ui.resizable",C.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var G=this,E=this.options;this.element.addClass("ui-resizable");C.extend(this,{_aspectRatio:!!(E.aspectRatio),aspectRatio:E.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:E.helper||E.ghost||E.animate?E.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(C("<div class=\"ui-wrapper\" style=\"overflow: hidden;\"></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=E.handles||(!C(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var D=this.handles.split(",");this.handles={};for(var H=0;H<D.length;H++){var B=C.trim(D[H]),F="ui-resizable-"+B,A=C("<div class=\"ui-resizable-handle "+F+"\"></div>");A.css({zIndex:E.zIndex});if("se"==B)A.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[B]=".ui-resizable-"+B;this.element.append(A)}}this._renderAxis=function(D){D=D||this.element;for(var F in this.handles){if(this.handles[F].constructor==String)this.handles[F]=C(this.handles[F],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var A=C(this.handles[F],this.element),E=0;E=/sw|ne|nw|se|n|s/.test(F)?A.outerHeight():A.outerWidth();var B=["padding",/ne|nw|n/.test(F)?"Top":/se|sw|s/.test(F)?"Bottom":/^e$/.test(F)?"Right":"Left"].join("");D.css(B,E);this._proportionallyResize()}if(!C(this.handles[F]).length)continue}};this._renderAxis(this.element);this._handles=C(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!G.resizing){if(this.className)var A=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);G.axis=A&&A[1]?A[1]:"se"}});if(E.autoHide){this._handles.hide();C(this.element).addClass("ui-resizable-autohide").hover(function(){if(E.disabled)return;C(this).removeClass("ui-resizable-autohide");G._handles.show()},function(){if(E.disabled)return;if(!G.resizing){C(this).addClass("ui-resizable-autohide");G._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var B=function(A){C(A).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){B(this.element);var A=this.element;A.after(this.originalElement.css({position:A.css("position"),width:A.outerWidth(),height:A.outerHeight(),top:A.css("top"),left:A.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);B(this.originalElement);return this},_mouseCapture:function(B){var A=false;for(var D in this.handles)if(C(this.handles[D])[0]==B.target)A=true;return!this.options.disabled&&A},_mouseStart:function(G){var H=this.options,D=this.element.position(),F=this.element;this.resizing=true;this.documentScroll={top:C(document).scrollTop(),left:C(document).scrollLeft()};if(F.is(".ui-draggable")||(/absolute/).test(F.css("position")))F.css({position:"absolute",top:D.top,left:D.left});this._renderProxy();var B=A(this.helper.css("left")),I=A(this.helper.css("top"));if(H.containment){B+=C(H.containment).scrollLeft()||0;I+=C(H.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:B,top:I};this.size=this._helper?{width:F.outerWidth(),height:F.outerHeight()}:{width:F.width(),height:F.height()};this.originalSize=this._helper?{width:F.outerWidth(),height:F.outerHeight()}:{width:F.width(),height:F.height()};this.originalPosition={left:B,top:I};this.sizeDiff={width:F.outerWidth()-F.width(),height:F.outerHeight()-F.height()};this.originalMousePosition={left:G.pageX,top:G.pageY};this.aspectRatio=(typeof H.aspectRatio=="number")?H.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var E=C(".ui-resizable-"+this.axis).css("cursor");C("body").css("cursor",E=="auto"?this.axis+"-resize":E);F.addClass("ui-resizable-resizing");this._propagate("start",G);return true},_mouseDrag:function(L){var K=this.helper,I=this.options,N={},J=this,B=this.originalMousePosition,G=this.axis,D=(L.pageX-B.left)||0,E=(L.pageY-B.top)||0,A=this._change[G];if(!A)return false;var H=A.apply(this,[L,D,E]),F=C.browser.msie&&C.browser.version<7,M=this.sizeDiff;this._updateVirtualBoundaries(L.shiftKey);if(this._aspectRatio||L.shiftKey)H=this._updateRatio(H,L);H=this._respectSize(H,L);this._propagate("resize",L);K.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length)this._proportionallyResize();this._updateCache(H);this._trigger("resize",L,this.ui());return false},_mouseStop:function(E){this.resizing=false;var G=this.options,I=this;if(this._helper){var J=this._proportionallyResizeElements,F=J.length&&(/textarea/i).test(J[0].nodeName),B=F&&C.ui.hasScroll(J[0],"left")?0:I.sizeDiff.height,A=F?0:I.sizeDiff.width,D={width:(I.helper.width()-A),height:(I.helper.height()-B)},H=(parseInt(I.element.css("left"),10)+(I.position.left-I.originalPosition.left))||null,K=(parseInt(I.element.css("top"),10)+(I.position.top-I.originalPosition.top))||null;if(!G.animate)this.element.css(C.extend(D,{top:K,left:H}));I.helper.height(I.size.height);I.helper.width(I.size.width);if(this._helper&&!G.animate)this._proportionallyResize()}C("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",E);if(this._helper)this.helper.remove();return false},_updateVirtualBoundaries:function(G){var F=this.options,A,E,C,H,B;B={minWidth:D(F.minWidth)?F.minWidth:0,maxWidth:D(F.maxWidth)?F.maxWidth:Infinity,minHeight:D(F.minHeight)?F.minHeight:0,maxHeight:D(F.maxHeight)?F.maxHeight:Infinity};if(this._aspectRatio||G){A=B.minHeight*this.aspectRatio;C=B.minWidth/this.aspectRatio;E=B.maxHeight*this.aspectRatio;H=B.maxWidth/this.aspectRatio;if(A>B.minWidth)B.minWidth=A;if(C>B.minHeight)B.minHeight=C;if(E<B.maxWidth)B.maxWidth=E;if(H<B.maxHeight)B.maxHeight=H}this._vBoundaries=B},_updateCache:function(A){var B=this.options;this.offset=this.helper.offset();if(D(A.left))this.position.left=A.left;if(D(A.top))this.position.top=A.top;if(D(A.height))this.size.height=A.height;if(D(A.width))this.size.width=A.width},_updateRatio:function(E,B){var F=this.options,A=this.position,G=this.size,C=this.axis;if(D(E.height))E.width=(E.height*this.aspectRatio);else if(D(E.width))E.height=(E.width/this.aspectRatio);if(C=="sw"){E.left=A.left+(G.width-E.width);E.top=null}if(C=="nw"){E.top=A.top+(G.height-E.height);E.left=A.left+(G.width-E.width)}return E},_respectSize:function(E,M){var K=this.helper,H=this._vBoundaries,F=this._aspectRatio||M.shiftKey,C=this.axis,G=D(E.width)&&H.maxWidth&&(H.maxWidth<E.width),O=D(E.height)&&H.maxHeight&&(H.maxHeight<E.height),A=D(E.width)&&H.minWidth&&(H.minWidth>E.width),J=D(E.height)&&H.minHeight&&(H.minHeight>E.height);if(A)E.width=H.minWidth;if(J)E.height=H.minHeight;if(G)E.width=H.maxWidth;if(O)E.height=H.maxHeight;var B=this.originalPosition.left+this.originalSize.width,L=this.position.top+this.size.height,I=/sw|nw|w/.test(C),P=/nw|ne|n/.test(C);if(A&&I)E.left=B-H.minWidth;if(G&&I)E.left=B-H.maxWidth;if(J&&P)E.top=L-H.minHeight;if(O&&P)E.top=L-H.maxHeight;var N=!E.width&&!E.height;if(N&&!E.left&&E.top)E.top=null;else if(N&&!E.top&&E.left)E.left=null;return E},_proportionallyResize:function(){var F=this.options;if(!this._proportionallyResizeElements.length)return;var A=this.helper||this.element;for(var G=0;G<this._proportionallyResizeElements.length;G++){var D=this._proportionallyResizeElements[G];if(!this.borderDif){var B=[D.css("borderTopWidth"),D.css("borderRightWidth"),D.css("borderBottomWidth"),D.css("borderLeftWidth")],E=[D.css("paddingTop"),D.css("paddingRight"),D.css("paddingBottom"),D.css("paddingLeft")];this.borderDif=C.map(B,function(A,D){var C=parseInt(A,10)||0,B=parseInt(E[D],10)||0;return C+B})}if(C.browser.msie&&!(!(C(A).is(":hidden")||C(A).parents(":hidden").length)))continue;D.css({height:(A.height()-this.borderDif[0]-this.borderDif[2])||0,width:(A.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var A=this.element,F=this.options;this.elementOffset=A.offset();if(this._helper){this.helper=this.helper||C("<div style=\"overflow:hidden;\"></div>");var E=C.browser.msie&&C.browser.version<7,B=(E?1:0),D=(E?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+D,height:this.element.outerHeight()+D,position:"absolute",left:this.elementOffset.left-B+"px",top:this.elementOffset.top-B+"px",zIndex:++F.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(C,A,B){return{width:this.originalSize.width+A}},w:function(D,B,C){var E=this.options,F=this.originalSize,A=this.originalPosition;return{left:A.left+B,width:F.width-B}},n:function(D,B,C){var E=this.options,F=this.originalSize,A=this.originalPosition;return{top:A.top+C,height:F.height-C}},s:function(C,A,B){return{height:this.originalSize.height+B}},se:function(D,A,B){return C.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[D,A,B]))},sw:function(D,A,B){return C.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[D,A,B]))},ne:function(D,A,B){return C.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[D,A,B]))},nw:function(D,A,B){return C.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[D,A,B]))}},_propagate:function(B,A){C.ui.plugin.call(this,B,[A,this.ui()]);(B!="resize"&&this._trigger(B,A,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});C.extend(C.ui.resizable,{version:"1.8.23"});C.ui.plugin.add("resizable","alsoResize",{start:function(B,A){var F=C(this).data("resizable"),D=F.options,E=function(A){C(A).each(function(){var A=C(this);A.data("resizable-alsoresize",{width:parseInt(A.width(),10),height:parseInt(A.height(),10),left:parseInt(A.css("left"),10),top:parseInt(A.css("top"),10)})})};if(typeof(D.alsoResize)=="object"&&!D.alsoResize.parentNode){if(D.alsoResize.length){D.alsoResize=D.alsoResize[0];E(D.alsoResize)}else C.each(D.alsoResize,function(A){E(A)})}else E(D.alsoResize)},resize:function(F,B){var I=C(this).data("resizable"),H=I.options,D=I.originalSize,E=I.originalPosition,G={height:(I.size.height-D.height)||0,width:(I.size.width-D.width)||0,top:(I.position.top-E.top)||0,left:(I.position.left-E.left)||0},A=function(A,D){C(A).each(function(){var E=C(this),F=C(this).data("resizable-alsoresize"),A={},H=D&&D.length?D:E.parents(B.originalElement[0]).length?["width","height"]:["width","height","top","left"];C.each(H,function(D,B){var C=(F[B]||0)+(G[B]||0);if(C&&C>=0)A[B]=C||null});E.css(A)})};if(typeof(H.alsoResize)=="object"&&!H.alsoResize.nodeType)C.each(H.alsoResize,function(B,C){A(B,C)});else A(H.alsoResize)},stop:function(B,A){C(this).removeData("resizable-alsoresize")}});C.ui.plugin.add("resizable","animate",{stop:function(F,A){var J=C(this).data("resizable"),H=J.options,K=J._proportionallyResizeElements,G=K.length&&(/textarea/i).test(K[0].nodeName),D=G&&C.ui.hasScroll(K[0],"left")?0:J.sizeDiff.height,B=G?0:J.sizeDiff.width,E={width:(J.size.width-B),height:(J.size.height-D)},I=(parseInt(J.element.css("left"),10)+(J.position.left-J.originalPosition.left))||null,L=(parseInt(J.element.css("top"),10)+(J.position.top-J.originalPosition.top))||null;J.element.animate(C.extend(E,L&&I?{top:L,left:I}:{}),{duration:H.animateDuration,easing:H.animateEasing,step:function(){var A={width:parseInt(J.element.css("width"),10),height:parseInt(J.element.css("height"),10),top:parseInt(J.element.css("top"),10),left:parseInt(J.element.css("left"),10)};if(K&&K.length)C(K[0]).css({width:A.width,height:A.height});J._updateCache(A);J._propagate("resize",F)}})}});C.ui.plugin.add("resizable","containment",{start:function(M,B){var G=C(this).data("resizable"),F=G.options,L=G.element,I=F.containment,P=(I instanceof C)?I.get(0):(/parent/.test(I))?L.parent().get(0):I;if(!P)return;G.containerElement=C(P);if(/document/.test(I)||I==document){G.containerOffset={left:0,top:0};G.containerPosition={left:0,top:0};G.parentData={element:C(document),left:0,top:0,width:C(document).width(),height:C(document).height()||document.body.parentNode.scrollHeight}}else{var D=C(P),N=[];C(["Top","Right","Left","Bottom"]).each(function(C,B){N[C]=A(D.css("padding"+B))});G.containerOffset=D.offset();G.containerPosition=D.position();G.containerSize={height:(D.innerHeight()-N[3]),width:(D.innerWidth()-N[1])};var J=G.containerOffset,O=G.containerSize.height,H=G.containerSize.width,E=(C.ui.hasScroll(P,"left")?P.scrollWidth:H),K=(C.ui.hasScroll(P)?P.scrollHeight:O);G.parentData={element:P,left:J.left,top:J.top,width:E,height:K}}},resize:function(L,A){var G=C(this).data("resizable"),F=G.options,P=G.containerSize,J=G.containerOffset,I=G.size,K=G.position,D=G._aspectRatio||L.shiftKey,B={top:0,left:0},M=G.containerElement;if(M[0]!=document&&(/static/).test(M.css("position")))B=J;if(K.left<(G._helper?J.left:0)){G.size.width=G.size.width+(G._helper?(G.position.left-J.left):(G.position.left-B.left));if(D)G.size.height=G.size.width/G.aspectRatio;G.position.left=F.helper?J.left:0}if(K.top<(G._helper?J.top:0)){G.size.height=G.size.height+(G._helper?(G.position.top-J.top):G.position.top);if(D)G.size.width=G.size.height*G.aspectRatio;G.position.top=G._helper?J.top:0}G.offset.left=G.parentData.left+G.position.left;G.offset.top=G.parentData.top+G.position.top;var N=Math.abs((G._helper?G.offset.left-B.left:(G.offset.left-B.left))+G.sizeDiff.width),H=Math.abs((G._helper?G.offset.top-B.top:(G.offset.top-J.top))+G.sizeDiff.height),E=G.containerElement.get(0)==G.element.parent().get(0),O=/relative|absolute/.test(G.containerElement.css("position"));if(E&&O)N-=G.parentData.left;if(N+G.size.width>=G.parentData.width){G.size.width=G.parentData.width-N;if(D)G.size.height=G.size.width/G.aspectRatio}if(H+G.size.height>=G.parentData.height){G.size.height=G.parentData.height-H;if(D)G.size.width=G.size.height*G.aspectRatio}},stop:function(L,A){var F=C(this).data("resizable"),E=F.options,K=F.position,J=F.containerOffset,D=F.containerPosition,M=F.containerElement,B=C(F.helper),G=B.offset(),I=B.outerWidth()-F.sizeDiff.width,H=B.outerHeight()-F.sizeDiff.height;if(F._helper&&!E.animate&&(/relative/).test(M.css("position")))C(this).css({left:G.left-D.left-J.left,width:I,height:H});if(F._helper&&!E.animate&&(/static/).test(M.css("position")))C(this).css({left:G.left-D.left-J.left,width:I,height:H})}});C.ui.plugin.add("resizable","ghost",{start:function(B,A){var E=C(this).data("resizable"),D=E.options,F=E.size;E.ghost=E.originalElement.clone();E.ghost.css({opacity:0.25,display:"block",position:"relative",height:F.height,width:F.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof D.ghost=="string"?D.ghost:"");E.ghost.appendTo(E.helper)},resize:function(B,A){var E=C(this).data("resizable"),D=E.options;if(E.ghost)E.ghost.css({position:"relative",height:E.size.height,width:E.size.width})},stop:function(B,A){var E=C(this).data("resizable"),D=E.options;if(E.ghost&&E.helper)E.helper.get(0).removeChild(E.ghost.get(0))}});C.ui.plugin.add("resizable","grid",{resize:function(F,A){var I=C(this).data("resizable"),H=I.options,L=I.size,B=I.originalSize,D=I.originalPosition,G=I.axis,E=H._aspectRatio||F.shiftKey;H.grid=typeof H.grid=="number"?[H.grid,H.grid]:H.grid;var J=Math.round((L.width-B.width)/(H.grid[0]||1))*(H.grid[0]||1),K=Math.round((L.height-B.height)/(H.grid[1]||1))*(H.grid[1]||1);if(/^(se|s|e)$/.test(G)){I.size.width=B.width+J;I.size.height=B.height+K}else if(/^(ne)$/.test(G)){I.size.width=B.width+J;I.size.height=B.height+K;I.position.top=D.top-K}else if(/^(sw)$/.test(G)){I.size.width=B.width+J;I.size.height=B.height+K;I.position.left=D.left-J}else{I.size.width=B.width+J;I.size.height=B.height+K;I.position.top=D.top-K;I.position.left=D.left-J}}});var A=function(A){return parseInt(A,10)||0},D=function(A){return!isNaN(parseInt(A,10))}})(jQuery);(function(B,A){B.widget("ui.selectable",B.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var C=this;this.element.addClass("ui-selectable");this.dragged=false;var A;this.refresh=function(){A=B(C.options.filter,C.element[0]);A.addClass("ui-selectee");A.each(function(){var A=B(this),C=A.offset();B.data(this,"selectable-item",{element:this,$element:A,left:C.left,top:C.top,right:C.left+A.outerWidth(),bottom:C.top+A.outerHeight(),startselected:false,selected:A.hasClass("ui-selected"),selecting:A.hasClass("ui-selecting"),unselecting:A.hasClass("ui-unselecting")})})};this.refresh();this.selectees=A.addClass("ui-selectee");this._mouseInit();this.helper=B("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(A){var C=this;this.opos=[A.pageX,A.pageY];if(this.options.disabled)return;var D=this.options;this.selectees=B(D.filter,this.element[0]);this._trigger("start",A);B(D.appendTo).append(this.helper);this.helper.css({"left":A.clientX,"top":A.clientY,"width":0,"height":0});if(D.autoRefresh)this.refresh();this.selectees.filter(".ui-selected").each(function(){var D=B.data(this,"selectable-item");D.startselected=true;if(!A.metaKey&&!A.ctrlKey){D.$element.removeClass("ui-selected");D.selected=false;D.$element.addClass("ui-unselecting");D.unselecting=true;C._trigger("unselecting",A,{unselecting:D.element})}});B(A.target).parents().andSelf().each(function(){var D=B.data(this,"selectable-item");if(D){var E=(!A.metaKey&&!A.ctrlKey)||!D.$element.hasClass("ui-selected");D.$element.removeClass(E?"ui-unselecting":"ui-selected").addClass(E?"ui-selecting":"ui-unselecting");D.unselecting=!E;D.selecting=E;D.selected=E;if(E)C._trigger("selecting",A,{selecting:D.element});else C._trigger("unselecting",A,{unselecting:D.element});return false}})},_mouseDrag:function(A){var F=this;this.dragged=true;if(this.options.disabled)return;var I=this.options,H=this.opos[0],C=this.opos[1],G=A.pageX,E=A.pageY;if(H>G){var D=G;G=H;H=D}if(C>E){D=E;E=C;C=D}this.helper.css({left:H,top:C,width:G-H,height:E-C});this.selectees.each(function(){var J=B.data(this,"selectable-item");if(!J||J.element==F.element[0])return;var D=false;if(I.tolerance=="touch")D=(!(J.left>G||J.right<H||J.top>E||J.bottom<C));else if(I.tolerance=="fit")D=(J.left>H&&J.right<G&&J.top>C&&J.bottom<E);if(D){if(J.selected){J.$element.removeClass("ui-selected");J.selected=false}if(J.unselecting){J.$element.removeClass("ui-unselecting");J.unselecting=false}if(!J.selecting){J.$element.addClass("ui-selecting");J.selecting=true;F._trigger("selecting",A,{selecting:J.element})}}else{if(J.selecting)if((A.metaKey||A.ctrlKey)&&J.startselected){J.$element.removeClass("ui-selecting");J.selecting=false;J.$element.addClass("ui-selected");J.selected=true}else{J.$element.removeClass("ui-selecting");J.selecting=false;if(J.startselected){J.$element.addClass("ui-unselecting");J.unselecting=true}F._trigger("unselecting",A,{unselecting:J.element})}if(J.selected)if(!A.metaKey&&!A.ctrlKey&&!J.startselected){J.$element.removeClass("ui-selected");J.selected=false;J.$element.addClass("ui-unselecting");J.unselecting=true;F._trigger("unselecting",A,{unselecting:J.element})}}});return false},_mouseStop:function(A){var C=this;this.dragged=false;var D=this.options;B(".ui-unselecting",this.element[0]).each(function(){var D=B.data(this,"selectable-item");D.$element.removeClass("ui-unselecting");D.unselecting=false;D.startselected=false;C._trigger("unselected",A,{unselected:D.element})});B(".ui-selecting",this.element[0]).each(function(){var D=B.data(this,"selectable-item");D.$element.removeClass("ui-selecting").addClass("ui-selected");D.selecting=false;D.selected=true;D.startselected=true;C._trigger("selected",A,{selected:D.element})});this._trigger("stop",A);this.helper.remove();return false}});B.extend(B.ui.selectable,{version:"1.8.23"})})(jQuery);(function(B,A){B.widget("ui.sortable",B.ui.mouse,{widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var A=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?A.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},destroy:function(){B.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var A=this.items.length-1;A>=0;A--)this.items[A].item.removeData(this.widgetName+"-item");return this},_setOption:function(C,A){if(C==="disabled"){this.options[C]=A;this.widget()[A?"addClass":"removeClass"]("ui-sortable-disabled")}else B.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(D,H){var A=this;if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(D);var F=null,E=this,C=B(D.target).parents().each(function(){if(B.data(this,A.widgetName+"-item")==E){F=B(this);return false}});if(B.data(D.target,A.widgetName+"-item")==E)F=B(D.target);if(!F)return false;if(this.options.handle&&!H){var G=false;B(this.options.handle,F).find("*").andSelf().each(function(){if(this==D.target)G=true});if(!G)return false}this.currentItem=F;this._removeCurrentsFromItems();return true},_mouseStart:function(A,G,C){var D=this.options,E=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(A);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};B.extend(this.offset,{click:{left:A.pageX-this.offset.left,top:A.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(A);this.originalPageX=A.pageX;this.originalPageY=A.pageY;(D.cursorAt&&this._adjustOffsetFromHelper(D.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0])this.currentItem.hide();this._createPlaceholder();if(D.containment)this._setContainment();if(D.cursor){if(B("body").css("cursor"))this._storedCursor=B("body").css("cursor");B("body").css("cursor",D.cursor)}if(D.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",D.opacity)}if(D.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",D.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",A,this._uiHash());if(!this._preserveHelperProportions)this._cacheHelperProportions();if(!C)for(var F=this.containers.length-1;F>=0;F--)this.containers[F]._trigger("activate",A,E._uiHash(this));if(B.ui.ddmanager)B.ui.ddmanager.current=this;if(B.ui.ddmanager&&!D.dropBehaviour)B.ui.ddmanager.prepareOffsets(this,A);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(A);return true},_mouseDrag:function(D){this.position=this._generatePosition(D);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var F=this.options,C=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-D.pageY<F.scrollSensitivity)this.scrollParent[0].scrollTop=C=this.scrollParent[0].scrollTop+F.scrollSpeed;else if(D.pageY-this.overflowOffset.top<F.scrollSensitivity)this.scrollParent[0].scrollTop=C=this.scrollParent[0].scrollTop-F.scrollSpeed;if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-D.pageX<F.scrollSensitivity)this.scrollParent[0].scrollLeft=C=this.scrollParent[0].scrollLeft+F.scrollSpeed;else if(D.pageX-this.overflowOffset.left<F.scrollSensitivity)this.scrollParent[0].scrollLeft=C=this.scrollParent[0].scrollLeft-F.scrollSpeed}else{if(D.pageY-B(document).scrollTop()<F.scrollSensitivity)C=B(document).scrollTop(B(document).scrollTop()-F.scrollSpeed);else if(B(window).height()-(D.pageY-B(document).scrollTop())<F.scrollSensitivity)C=B(document).scrollTop(B(document).scrollTop()+F.scrollSpeed);if(D.pageX-B(document).scrollLeft()<F.scrollSensitivity)C=B(document).scrollLeft(B(document).scrollLeft()-F.scrollSpeed);else if(B(window).width()-(D.pageX-B(document).scrollLeft())<F.scrollSensitivity)C=B(document).scrollLeft(B(document).scrollLeft()+F.scrollSpeed)}if(C!==false&&B.ui.ddmanager&&!F.dropBehaviour)B.ui.ddmanager.prepareOffsets(this,D)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var H=this.items.length-1;H>=0;H--){var E=this.items[H],G=E.item[0],A=this._intersectsWithPointer(E);if(!A)continue;if(G!=this.currentItem[0]&&this.placeholder[A==1?"next":"prev"]()[0]!=G&&!B.ui.contains(this.placeholder[0],G)&&(this.options.type=="semi-dynamic"?!B.ui.contains(this.element[0],G):true)){this.direction=A==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(E))this._rearrange(D,E);else break;this._trigger("change",D,this._uiHash());break}}this._contactContainers(D);if(B.ui.ddmanager)B.ui.ddmanager.drag(this,D);this._trigger("sort",D,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(C,A){if(!C)return;if(B.ui.ddmanager&&!this.options.dropBehaviour)B.ui.ddmanager.drop(this,C);if(this.options.revert){var E=this,D=E.placeholder.offset();E.reverting=true;B(this.helper).animate({left:D.left-this.offset.parent.left-E.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:D.top-this.offset.parent.top-E.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){E._clear(C)})}else this._clear(C,A);return false},cancel:function(){var A=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original")this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");else this.currentItem.show();for(var C=this.containers.length-1;C>=0;C--){this.containers[C]._trigger("deactivate",null,A._uiHash(this));if(this.containers[C].containerCache.over){this.containers[C]._trigger("out",null,A._uiHash(this));this.containers[C].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode)this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode)this.helper.remove();B.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev)B(this.domPosition.prev).after(this.currentItem);else B(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(D){var C=this._getItemsAsjQuery(D&&D.connected),A=[];D=D||{};B(C).each(function(){var C=(B(D.item||this).attr(D.attribute||"id")||"").match(D.expression||(/(.+)[-=_](.+)/));if(C)A.push((D.key||C[1]+"[]")+"="+(D.key&&D.expression?C[1]:C[2]))});if(!A.length&&D.key)A.push(D.key+"=");return A.join("&")},toArray:function(D){var C=this._getItemsAsjQuery(D&&D.connected),A=[];D=D||{};C.each(function(){A.push(B(D.item||this).attr(D.attribute||"id")||"")});return A},_intersectsWith:function(L){var H=this.positionAbs.left,G=H+this.helperProportions.width,C=this.positionAbs.top,D=C+this.helperProportions.height,E=L.left,J=E+L.width,I=L.top,B=I+L.height,A=this.offset.click.top,F=this.offset.click.left,K=(C+A)>I&&(C+A)<B&&(H+F)>E&&(H+F)<J;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>L[this.floating?"width":"height"]))return K;else return(E<H+(this.helperProportions.width/2)&&G-(this.helperProportions.width/2)<J&&I<C+(this.helperProportions.height/2)&&D-(this.helperProportions.height/2)<B)},_intersectsWithPointer:function(E){var F=(this.options.axis==="x")||B.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,E.top,E.height),D=(this.options.axis==="y")||B.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,E.left,E.width),C=F&&D,G=this._getDragVerticalDirection(),A=this._getDragHorizontalDirection();if(!C)return false;return this.floating?(((A&&A=="right")||G=="down")?2:1):(G&&(G=="down"?2:1))},_intersectsWithSides:function(D){var C=B.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,D.top+(D.height/2),D.height),E=B.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,D.left+(D.width/2),D.width),F=this._getDragVerticalDirection(),A=this._getDragHorizontalDirection();if(this.floating&&A)return((A=="right"&&E)||(A=="left"&&!E));else return F&&((F=="down"&&C)||(F=="up"&&!C))},_getDragVerticalDirection:function(){var A=this.positionAbs.top-this.lastPositionAbs.top;return A!=0&&(A>0?"down":"up")},_getDragHorizontalDirection:function(){var A=this.positionAbs.left-this.lastPositionAbs.left;return A!=0&&(A>0?"right":"left")},refresh:function(A){this._refreshItems(A);this.refreshPositions();return this},_connectWith:function(){var A=this.options;return A.connectWith.constructor==String?[A.connectWith]:A.connectWith},_getItemsAsjQuery:function(D){var G=this,C=[],F=[],A=this._connectWith();if(A&&D)for(var J=A.length-1;J>=0;J--){var E=B(A[J]);for(var I=E.length-1;I>=0;I--){var H=B.data(E[I],this.widgetName);if(H&&H!=this&&!H.options.disabled)F.push([B.isFunction(H.options.items)?H.options.items.call(H.element):B(H.options.items,H.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),H])}}F.push([B.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):B(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(J=F.length-1;J>=0;J--)F[J][0].each(function(){C.push(this)});return B(C)},_removeCurrentsFromItems:function(){var A=this.currentItem.find(":data("+this.widgetName+"-item)");for(var C=0;C<this.items.length;C++)for(var B=0;B<A.length;B++)if(A[B]==this.items[C].item[0])this.items.splice(C,1)},_refreshItems:function(J){this.items=[];this.containers=[this];var I=this.items,D=this,M=[[B.isFunction(this.options.items)?this.options.items.call(this.element[0],J,{item:this.currentItem}):B(this.options.items,this.element),this]],A=this._connectWith();if(A&&this.ready)for(var G=A.length-1;G>=0;G--){var L=B(A[G]);for(var E=L.length-1;E>=0;E--){var F=B.data(L[E],this.widgetName);if(F&&F!=this&&!F.options.disabled){M.push([B.isFunction(F.options.items)?F.options.items.call(F.element[0],J,{item:this.currentItem}):B(F.options.items,F.element),F]);this.containers.push(F)}}}for(G=M.length-1;G>=0;G--){var H=M[G][1],N=M[G][0];for(var E=0,C=N.length;E<C;E++){var K=B(N[E]);K.data(this.widgetName+"-item",H);I.push({item:K,instance:H,width:0,height:0,left:0,top:0})}}},refreshPositions:function(E){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var F=this.items.length-1;F>=0;F--){var D=this.items[F];if(D.instance!=this.currentContainer&&this.currentContainer&&D.item[0]!=this.currentItem[0])continue;var A=this.options.toleranceElement?B(this.options.toleranceElement,D.item):D.item;if(!E){D.width=A.outerWidth();D.height=A.outerHeight()}var C=A.offset();D.left=C.left;D.top=C.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(F=this.containers.length-1;F>=0;F--){C=this.containers[F].element.offset();this.containers[F].containerCache.left=C.left;this.containers[F].containerCache.top=C.top;this.containers[F].containerCache.width=this.containers[F].element.outerWidth();this.containers[F].containerCache.height=this.containers[F].element.outerHeight()}return this},_createPlaceholder:function(A){var E=A||this,C=E.options;if(!C.placeholder||C.placeholder.constructor==String){var D=C.placeholder;C.placeholder={element:function(){var A=B(document.createElement(E.currentItem[0].nodeName)).addClass(D||E.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!D)A.style.visibility="hidden";return A},update:function(A,B){if(D&&!C.forcePlaceholderSize)return;if(!B.height())B.height(E.currentItem.innerHeight()-parseInt(E.currentItem.css("paddingTop")||0,10)-parseInt(E.currentItem.css("paddingBottom")||0,10));if(!B.width())B.width(E.currentItem.innerWidth()-parseInt(E.currentItem.css("paddingLeft")||0,10)-parseInt(E.currentItem.css("paddingRight")||0,10))}}}E.placeholder=B(C.placeholder.element.call(E.element,E.currentItem));E.currentItem.after(E.placeholder);C.placeholder.update(E,E.placeholder)},_contactContainers:function(D){var G=null,A=null;for(var J=this.containers.length-1;J>=0;J--){if(B.ui.contains(this.currentItem[0],this.containers[J].element[0]))continue;if(this._intersectsWith(this.containers[J].containerCache)){if(G&&B.ui.contains(this.containers[J].element[0],G.element[0]))continue;G=this.containers[J];A=J}else if(this.containers[J].containerCache.over){this.containers[J]._trigger("out",D,this._uiHash(this));this.containers[J].containerCache.over=0}}if(!G)return;if(this.containers.length===1){this.containers[A]._trigger("over",D,this._uiHash(this));this.containers[A].containerCache.over=1}else if(this.currentContainer!=this.containers[A]){var I=10000,C=null,E=this.positionAbs[this.containers[A].floating?"left":"top"];for(var H=this.items.length-1;H>=0;H--){if(!B.ui.contains(this.containers[A].element[0],this.items[H].item[0]))continue;var F=this.containers[A].floating?this.items[H].item.offset().left:this.items[H].item.offset().top;if(Math.abs(F-E)<I){I=Math.abs(F-E);C=this.items[H];this.direction=(F-E>0)?"down":"up"}}if(!C&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[A];C?this._rearrange(D,C,null,true):this._rearrange(D,null,this.containers[A].element,true);this._trigger("change",D,this._uiHash());this.containers[A]._trigger("change",D,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[A]._trigger("over",D,this._uiHash(this));this.containers[A].containerCache.over=1}},_createHelper:function(C){var D=this.options,A=B.isFunction(D.helper)?B(D.helper.apply(this.element[0],[C,this.currentItem])):(D.helper=="clone"?this.currentItem.clone():this.currentItem);if(!A.parents("body").length)B(D.appendTo!="parent"?D.appendTo:this.currentItem[0].parentNode)[0].appendChild(A[0]);if(A[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(A[0].style.width==""||D.forceHelperSize)A.width(this.currentItem.width());if(A[0].style.height==""||D.forceHelperSize)A.height(this.currentItem.height());return A},_adjustOffsetFromHelper:function(A){if(typeof A=="string")A=A.split(" ");if(B.isArray(A))A={left:+A[0],top:+A[1]||0};if("left"in A)this.offset.click.left=A.left+this.margins.left;if("right"in A)this.offset.click.left=this.helperProportions.width-A.right+this.margins.left;if("top"in A)this.offset.click.top=A.top+this.margins.top;if("bottom"in A)this.offset.click.top=this.helperProportions.height-A.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var A=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0])){A.left+=this.scrollParent.scrollLeft();A.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&B.browser.msie))A={top:0,left:0};return{top:A.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:A.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var A=this.currentItem.position();return{top:A.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:A.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var D=this.options;if(D.containment=="parent")D.containment=this.helper[0].parentNode;if(D.containment=="document"||D.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,B(D.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(B(D.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!(/^(document|window|parent)$/).test(D.containment)){var E=B(D.containment)[0],C=B(D.containment).offset(),A=(B(E).css("overflow")!="hidden");this.containment=[C.left+(parseInt(B(E).css("borderLeftWidth"),10)||0)+(parseInt(B(E).css("paddingLeft"),10)||0)-this.margins.left,C.top+(parseInt(B(E).css("borderTopWidth"),10)||0)+(parseInt(B(E).css("paddingTop"),10)||0)-this.margins.top,C.left+(A?Math.max(E.scrollWidth,E.offsetWidth):E.offsetWidth)-(parseInt(B(E).css("borderLeftWidth"),10)||0)-(parseInt(B(E).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,C.top+(A?Math.max(E.scrollHeight,E.offsetHeight):E.offsetHeight)-(parseInt(B(E).css("borderTopWidth"),10)||0)-(parseInt(B(E).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(A,G){if(!G)G=this.position;var E=A=="absolute"?1:-1,F=this.options,C=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,D=(/(html|body)/i).test(C[0].tagName);return{top:(G.top+this.offset.relative.top*E+this.offset.parent.top*E-(B.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(D?0:C.scrollTop()))*E)),left:(G.left+this.offset.relative.left*E+this.offset.parent.left*E-(B.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():D?0:C.scrollLeft())*E))}},_generatePosition:function(D){var E=this.options,A=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,C=(/(html|body)/i).test(A[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var G=D.pageX,I=D.pageY;if(this.originalPosition){if(this.containment){if(D.pageX-this.offset.click.left<this.containment[0])G=this.containment[0]+this.offset.click.left;if(D.pageY-this.offset.click.top<this.containment[1])I=this.containment[1]+this.offset.click.top;if(D.pageX-this.offset.click.left>this.containment[2])G=this.containment[2]+this.offset.click.left;if(D.pageY-this.offset.click.top>this.containment[3])I=this.containment[3]+this.offset.click.top}if(E.grid){var H=this.originalPageY+Math.round((I-this.originalPageY)/E.grid[1])*E.grid[1];I=this.containment?(!(H-this.offset.click.top<this.containment[1]||H-this.offset.click.top>this.containment[3])?H:(!(H-this.offset.click.top<this.containment[1])?H-E.grid[1]:H+E.grid[1])):H;var F=this.originalPageX+Math.round((G-this.originalPageX)/E.grid[0])*E.grid[0];G=this.containment?(!(F-this.offset.click.left<this.containment[0]||F-this.offset.click.left>this.containment[2])?F:(!(F-this.offset.click.left<this.containment[0])?F-E.grid[0]:F+E.grid[0])):F}}return{top:(I-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(B.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(C?0:A.scrollTop())))),left:(G-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(B.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():C?0:A.scrollLeft())))}},_rearrange:function(A,F,C,E){C?C[0].appendChild(this.placeholder[0]):F.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?F.item[0]:F.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var D=this,B=this.counter;window.setTimeout(function(){if(B==D.counter)D.refreshPositions(!E)},0)},_clear:function(D,A){this.reverting=false;var C=[],E=this;if(!this._noFinalSort&&this.currentItem.parent().length)this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var F in this._storedCSS)if(this._storedCSS[F]=="auto"||this._storedCSS[F]=="static")this._storedCSS[F]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!A)C.push(function(A){this._trigger("receive",A,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!A)C.push(function(A){this._trigger("update",A,this._uiHash())});if(!B.ui.contains(this.element[0],this.currentItem[0])){if(!A)C.push(function(A){this._trigger("remove",A,this._uiHash())});for(F=this.containers.length-1;F>=0;F--)if(B.ui.contains(this.containers[F].element[0],this.currentItem[0])&&!A){C.push((function(A){return function(B){A._trigger("receive",B,this._uiHash(this))}}).call(this,this.containers[F]));C.push((function(A){return function(B){A._trigger("update",B,this._uiHash(this))}}).call(this,this.containers[F]))}}for(F=this.containers.length-1;F>=0;F--){if(!A)C.push((function(A){return function(B){A._trigger("deactivate",B,this._uiHash(this))}}).call(this,this.containers[F]));if(this.containers[F].containerCache.over){C.push((function(A){return function(B){A._trigger("out",B,this._uiHash(this))}}).call(this,this.containers[F]));this.containers[F].containerCache.over=0}}if(this._storedCursor)B("body").css("cursor",this._storedCursor);if(this._storedOpacity)this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!A){this._trigger("beforeStop",D,this._uiHash());for(F=0;F<C.length;F++)C[F].call(this,D);this._trigger("stop",D,this._uiHash())}this.fromOutside=false;return false}if(!A)this._trigger("beforeStop",D,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0])this.helper.remove();this.helper=null;if(!A){for(F=0;F<C.length;F++)C[F].call(this,D);this._trigger("stop",D,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(B.Widget.prototype._trigger.apply(this,arguments)===false)this.cancel()},_uiHash:function(C){var A=C||this;return{helper:A.helper,placeholder:A.placeholder||B([]),position:A.position,originalPosition:A.originalPosition,offset:A.positionAbs,item:A.currentItem,sender:C?C.element:null}}});B.extend(B.ui.sortable,{version:"1.8.23"})})(jQuery);jQuery.effects||(function(C,H){C.effects={};C.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(E,D){C.fx.step[D]=function(C){if(!C.colorInit){C.start=B(C.elem,D);C.end=A(C.end);C.colorInit=true}C.elem.style[D]="rgb("+Math.max(Math.min(parseInt((C.pos*(C.end[0]-C.start[0]))+C.start[0],10),255),0)+","+Math.max(Math.min(parseInt((C.pos*(C.end[1]-C.start[1]))+C.start[1],10),255),0)+","+Math.max(Math.min(parseInt((C.pos*(C.end[2]-C.start[2]))+C.start[2],10),255),0)+")"}});function A(B){var A;if(B&&B.constructor==Array&&B.length==3)return B;if(A=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(B))return[parseInt(A[1],10),parseInt(A[2],10),parseInt(A[3],10)];if(A=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(B))return[parseFloat(A[1])*2.55,parseFloat(A[2])*2.55,parseFloat(A[3])*2.55];if(A=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(B))return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)];if(A=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(B))return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)];if(A=/rgba\(0, 0, 0, 0\)/.exec(B))return D["transparent"];return D[C.trim(B).toLowerCase()]}function B(B,E){var D;do{D=(C.curCSS||C.css)(B,E);if(D!=""&&D!="transparent"||C.nodeName(B,"body"))break;E="backgroundColor"}while(B=B.parentNode);return A(D)}var D={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},F=["add","remove","toggle"],L={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function M(){var A=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,B={},E,C;if(A&&A.length&&A[0]&&A[A[0]]){var D=A.length;while(D--){E=A[D];if(typeof A[E]=="string"){C=E.replace(/\-(\w)/g,function(B,A){return A.toUpperCase()});B[C]=A[E]}}}else for(E in A)if(typeof A[E]==="string")B[E]=A[E];return B}function E(D){var A,B;for(A in D){B=D[A];if(B==null||C.isFunction(B)||A in L||(/scrollbar/).test(A)||(!(/color/i).test(A)&&isNaN(parseFloat(B))))delete D[A]}return D}function J(B,C){var A={_:0},D;for(D in C)if(B[D]!=C[D])A[D]=C[D];return A}C.effects.animateClass=function(G,A,B,D){if(C.isFunction(B)){D=B;B=null}return this.queue(function(){var H=C(this),I=H.attr("style")||" ",N=E(M.call(this)),K,L=H.attr("class")||"";C.each(F,function(B,A){if(G[A])H[A+"Class"](G[A])});K=E(M.call(this));H.attr("class",L);H.animate(J(N,K),{queue:false,duration:A,easing:B,complete:function(){C.each(F,function(B,A){if(G[A])H[A+"Class"](G[A])});if(typeof H.attr("style")=="object"){H.attr("style").cssText="";H.attr("style").cssText=I}else H.attr("style",I);if(D)D.apply(this,arguments);C.dequeue(this)}})})};C.fn.extend({_addClass:C.fn.addClass,addClass:function(E,B,A,D){return B?C.effects.animateClass.apply(this,[{add:E},B,A,D]):this._addClass(E)},_removeClass:C.fn.removeClass,removeClass:function(E,B,A,D){return B?C.effects.animateClass.apply(this,[{remove:E},B,A,D]):this._removeClass(E)},_toggleClass:C.fn.toggleClass,toggleClass:function(E,F,B,A,D){if(typeof F=="boolean"||F===H){if(!B)return this._toggleClass(E,F);else return C.effects.animateClass.apply(this,[(F?{add:E}:{remove:E}),B,A,D])}else return C.effects.animateClass.apply(this,[{toggle:E},F,B,A])},switchClass:function(B,F,D,A,E){return C.effects.animateClass.apply(this,[{add:F,remove:B},D,A,E])}});C.extend(C.effects,{version:"1.8.23",save:function(A,B){for(var C=0;C<B.length;C++)if(B[C]!==null)A.data("ec.storage."+B[C],A[0].style[B[C]])},restore:function(A,B){for(var C=0;C<B.length;C++)if(B[C]!==null)A.css(B[C],A.data("ec.storage."+B[C]))},setMode:function(A,B){if(B=="toggle")B=A.is(":hidden")?"show":"hide";return B},getBaseline:function(B,A){var C,D;switch(B[0]){case"top":C=0;break;case"middle":C=0.5;break;case"bottom":C=1;break;default:C=B[0]/A.height}switch(B[1]){case"left":D=0;break;case"center":D=0.5;break;case"right":D=1;break;default:D=B[1]/A.width}return{x:D,y:C}},createWrapper:function(A){if(A.parent().is(".ui-effects-wrapper"))return A.parent();var F={width:A.outerWidth(true),height:A.outerHeight(true),"float":A.css("float")},D=C("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),E=document.activeElement;try{E.id}catch(B){E=document.body}A.wrap(D);if(A[0]===E||C.contains(A[0],E))C(E).focus();D=A.parent();if(A.css("position")=="static"){D.css({position:"relative"});A.css({position:"relative"})}else{C.extend(F,{position:A.css("position"),zIndex:A.css("z-index")});C.each(["top","left","bottom","right"],function(C,B){F[B]=A.css(B);if(isNaN(parseInt(F[B],10)))F[B]="auto"});A.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return D.css(F).show()},removeWrapper:function(A){var D,B=document.activeElement;if(A.parent().is(".ui-effects-wrapper")){D=A.parent().replaceWith(A);if(A[0]===B||C.contains(A[0],B))C(B).focus();return D}return A},setTransition:function(A,D,E,B){B=B||{};C.each(D,function(F,D){var C=A.cssUnit(D);if(C[0]>0)B[D]=C[0]*E+C[1]});return B}});function K(A,E,B,D){if(typeof A=="object"){D=E;B=null;E=A;A=E.effect}if(C.isFunction(E)){D=E;B=null;E={}}if(typeof E=="number"||C.fx.speeds[E]){D=B;B=E;E={}}if(C.isFunction(B)){D=B;B=null}E=E||{};B=B||E.duration;B=C.fx.off?0:typeof B=="number"?B:B in C.fx.speeds?C.fx.speeds[B]:C.fx.speeds._default;D=D||E.complete;return[A,E,B,D]}function I(A){if(!A||typeof A==="number"||C.fx.speeds[A])return true;if(typeof A==="string"&&!C.effects[A])return true;return false}C.fn.extend({effect:function(A,I,B,E){var D=K.apply(this,arguments),F={options:D[1],duration:D[2],callback:D[3]},H=F.options.mode,G=C.effects[A];if(C.fx.off||!G)if(H)return this[H](F.duration,F.callback);else return this.each(function(){if(F.callback)F.callback.call(this)});return G.call(this,F)},_show:C.fn.show,show:function(A){if(I(A))return this._show.apply(this,arguments);else{var B=K.apply(this,arguments);B[1].mode="show";return this.effect.apply(this,B)}},_hide:C.fn.hide,hide:function(A){if(I(A))return this._hide.apply(this,arguments);else{var B=K.apply(this,arguments);B[1].mode="hide";return this.effect.apply(this,B)}},__toggle:C.fn.toggle,toggle:function(A){if(I(A)||typeof A==="boolean"||C.isFunction(A))return this.__toggle.apply(this,arguments);else{var B=K.apply(this,arguments);B[1].mode="toggle";return this.effect.apply(this,B)}},cssUnit:function(D){var B=this.css(D),A=[];C.each(["em","px","%","pt"],function(D,C){if(B.indexOf(C)>0)A=[parseFloat(B),C]});return A}});var G={};C.each(["Quad","Cubic","Quart","Quint","Expo"],function(B,A){G[A]=function(A){return Math.pow(A,B+2)}});C.extend(G,{Sine:function(A){return 1-Math.cos(A*Math.PI/2)},Circ:function(A){return 1-Math.sqrt(1-A*A)},Elastic:function(A){return A===0||A===1?A:-Math.pow(2,8*(A-1))*Math.sin(((A-1)*80-7.5)*Math.PI/15)},Back:function(A){return A*A*(3*A-2)},Bounce:function(A){var C,B=4;while(A<((C=Math.pow(2,--B))-1)/11);return 1/Math.pow(4,3-B)-7.5625*Math.pow((C*3-2)/22-A,2)}});C.each(G,function(A,B){C.easing["easeIn"+A]=B;C.easing["easeOut"+A]=function(A){return 1-B(1-A)};C.easing["easeInOut"+A]=function(A){return A<0.5?B(A*2)/2:B(A*-2+2)/-2+1}})})(jQuery);(function(B,A){B.effects.blind=function(A){return this.queue(function(){var G=B(this),I=["position","top","bottom","left","right"],J=B.effects.setMode(G,A.options.mode||"hide"),H=A.options.direction||"vertical";B.effects.save(G,I);G.show();var F=B.effects.createWrapper(G).css({overflow:"hidden"}),C=(H=="vertical")?"height":"width",D=(H=="vertical")?F.height():F.width();if(J=="show")F.css(C,0);var E={};E[C]=J=="show"?D:0;F.animate(E,A.duration,A.options.easing,function(){if(J=="hide")G.hide();B.effects.restore(G,I);B.effects.removeWrapper(G);if(A.callback)A.callback.apply(G[0],arguments);G.dequeue()})})}})(jQuery);(function(B,A){B.effects.bounce=function(A){return this.queue(function(){var L=B(this),O=["position","top","bottom","left","right"],H=B.effects.setMode(L,A.options.mode||"effect"),F=A.options.direction||"up",K=A.options.distance||20,M=A.options.times||5,E=A.duration||250;if(/show|hide/.test(H))O.push("opacity");B.effects.save(L,O);L.show();B.effects.createWrapper(L);var J=(F=="up"||F=="down")?"top":"left",N=(F=="up"||F=="left")?"pos":"neg",K=A.options.distance||(J=="top"?L.outerHeight(true)/3:L.outerWidth(true)/3);if(H=="show")L.css("opacity",0).css(J,N=="pos"?-K:K);if(H=="hide")K=K/(M*2);if(H!="hide")M--;if(H=="show"){var C={opacity:1};C[J]=(N=="pos"?"+=":"-=")+K;L.animate(C,E/2,A.options.easing);K=K/2;M--}for(var I=0;I<M;I++){var D={},G={};D[J]=(N=="pos"?"-=":"+=")+K;G[J]=(N=="pos"?"+=":"-=")+K;L.animate(D,E/2,A.options.easing).animate(G,E/2,A.options.easing);K=(H=="hide")?K*2:K/2}if(H=="hide"){C={opacity:0};C[J]=(N=="pos"?"-=":"+=")+K;L.animate(C,E/2,A.options.easing,function(){L.hide();B.effects.restore(L,O);B.effects.removeWrapper(L);if(A.callback)A.callback.apply(this,arguments)})}else{D={},G={};D[J]=(N=="pos"?"-=":"+=")+K;G[J]=(N=="pos"?"+=":"-=")+K;L.animate(D,E/2,A.options.easing).animate(G,E/2,A.options.easing,function(){B.effects.restore(L,O);B.effects.removeWrapper(L);if(A.callback)A.callback.apply(this,arguments)})}L.queue("fx",function(){L.dequeue()});L.dequeue()})}})(jQuery);(function(B,A){B.effects.clip=function(A){return this.queue(function(){var H=B(this),J=["position","top","bottom","left","right","height","width"],K=B.effects.setMode(H,A.options.mode||"hide"),I=A.options.direction||"vertical";B.effects.save(H,J);H.show();var G=B.effects.createWrapper(H).css({overflow:"hidden"}),E=H[0].tagName=="IMG"?G:H,C={size:(I=="vertical")?"height":"width",position:(I=="vertical")?"top":"left"},D=(I=="vertical")?E.height():E.width();if(K=="show"){E.css(C.size,0);E.css(C.position,D/2)}var F={};F[C.size]=K=="show"?D:0;F[C.position]=K=="show"?0:D/2;E.animate(F,{queue:false,duration:A.duration,easing:A.options.easing,complete:function(){if(K=="hide")H.hide();B.effects.restore(H,J);B.effects.removeWrapper(H);if(A.callback)A.callback.apply(H[0],arguments);H.dequeue()}})})}})(jQuery);(function(B,A){B.effects.drop=function(A){return this.queue(function(){var F=B(this),I=["position","top","bottom","left","right","opacity"],J=B.effects.setMode(F,A.options.mode||"hide"),G=A.options.direction||"left";B.effects.save(F,I);F.show();B.effects.createWrapper(F);var C=(G=="up"||G=="down")?"top":"left",H=(G=="up"||G=="left")?"pos":"neg",D=A.options.distance||(C=="top"?F.outerHeight(true)/2:F.outerWidth(true)/2);if(J=="show")F.css("opacity",0).css(C,H=="pos"?-D:D);var E={opacity:J=="show"?1:0};E[C]=(J=="show"?(H=="pos"?"+=":"-="):(H=="pos"?"-=":"+="))+D;F.animate(E,{queue:false,duration:A.duration,easing:A.options.easing,complete:function(){if(J=="hide")F.hide();B.effects.restore(F,I);B.effects.removeWrapper(F);if(A.callback)A.callback.apply(this,arguments);F.dequeue()}})})}})(jQuery);(function(B,A){B.effects.explode=function(A){return this.queue(function(){var J=A.options.pieces?Math.round(Math.sqrt(A.options.pieces)):3,C=A.options.pieces?Math.round(Math.sqrt(A.options.pieces)):3;A.options.mode=A.options.mode=="toggle"?(B(this).is(":visible")?"hide":"show"):A.options.mode;var E=B(this).show().css("visibility","hidden"),H=E.offset();H.top-=parseInt(E.css("marginTop"),10)||0;H.left-=parseInt(E.css("marginLeft"),10)||0;var F=E.outerWidth(true),D=E.outerHeight(true);for(var I=0;I<J;I++)for(var G=0;G<C;G++)E.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-G*(F/C),top:-I*(D/J)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:F/C,height:D/J,left:H.left+G*(F/C)+(A.options.mode=="show"?(G-Math.floor(C/2))*(F/C):0),top:H.top+I*(D/J)+(A.options.mode=="show"?(I-Math.floor(J/2))*(D/J):0),opacity:A.options.mode=="show"?0:1}).animate({left:H.left+G*(F/C)+(A.options.mode=="show"?0:(G-Math.floor(C/2))*(F/C)),top:H.top+I*(D/J)+(A.options.mode=="show"?0:(I-Math.floor(J/2))*(D/J)),opacity:A.options.mode=="show"?1:0},A.duration||500);setTimeout(function(){A.options.mode=="show"?E.css({visibility:"visible"}):E.css({visibility:"visible"}).hide();if(A.callback)A.callback.apply(E[0]);E.dequeue();B("div.ui-effects-explode").remove()},A.duration||500)})}})(jQuery);(function(B,A){B.effects.fade=function(A){return this.queue(function(){var C=B(this),D=B.effects.setMode(C,A.options.mode||"hide");C.animate({opacity:D},{queue:false,duration:A.duration,easing:A.options.easing,complete:function(){(A.callback&&A.callback.apply(this,arguments));C.dequeue()}})})}})(jQuery);(function(B,A){B.effects.fold=function(A){return this.queue(function(){var M=B(this),O=["position","top","bottom","left","right"],H=B.effects.setMode(M,A.options.mode||"hide"),I=A.options.size||15,G=!(!A.options.horizFirst),K=A.duration?A.duration/2:B.fx.speeds._default/2;B.effects.save(M,O);M.show();var N=B.effects.createWrapper(M).css({overflow:"hidden"}),C=((H=="show")!=G),J=C?["width","height"]:["height","width"],L=C?[N.width(),N.height()]:[N.height(),N.width()],D=/([0-9]+)%/.exec(I);if(D)I=parseInt(D[1],10)/100*L[H=="hide"?0:1];if(H=="show")N.css(G?{height:0,width:I}:{height:I,width:0});var E={},F={};E[J[0]]=H=="show"?L[0]:I;F[J[1]]=H=="show"?L[1]:0;N.animate(E,K,A.options.easing).animate(F,K,A.options.easing,function(){if(H=="hide")M.hide();B.effects.restore(M,O);B.effects.removeWrapper(M);if(A.callback)A.callback.apply(M[0],arguments);M.dequeue()})})}})(jQuery);(function(B,A){B.effects.highlight=function(A){return this.queue(function(){var C=B(this),E=["backgroundImage","backgroundColor","opacity"],F=B.effects.setMode(C,A.options.mode||"show"),D={backgroundColor:C.css("backgroundColor")};if(F=="hide")D.opacity=0;B.effects.save(C,E);C.show().css({backgroundImage:"none",backgroundColor:A.options.color||"#ffff99"}).animate(D,{queue:false,duration:A.duration,easing:A.options.easing,complete:function(){(F=="hide"&&C.hide());B.effects.restore(C,E);(F=="show"&&!B.support.opacity&&this.style.removeAttribute("filter"));(A.callback&&A.callback.apply(this,arguments));C.dequeue()}})})}})(jQuery);(function(B,A){B.effects.pulsate=function(A){return this.queue(function(){var C=B(this),I=B.effects.setMode(C,A.options.mode||"show"),G=((A.options.times||5)*2)-1,D=A.duration?A.duration/2:B.fx.speeds._default/2,F=C.is(":visible"),E=0;if(!F){C.css("opacity",0).show();E=1}if((I=="hide"&&F)||(I=="show"&&!F))G--;for(var H=0;H<G;H++){C.animate({opacity:E},D,A.options.easing);E=(E+1)%2}C.animate({opacity:E},D,A.options.easing,function(){if(E==0)C.hide();(A.callback&&A.callback.apply(this,arguments))});C.queue("fx",function(){C.dequeue()}).dequeue()})}})(jQuery);(function(B,A){B.effects.puff=function(A){return this.queue(function(){var C=B(this),G=B.effects.setMode(C,A.options.mode||"hide"),D=parseInt(A.options.percent,10)||150,F=D/100,E={height:C.height(),width:C.width()};B.extend(A.options,{fade:true,mode:G,percent:G=="hide"?D:100,from:G=="hide"?E:{height:E.height*F,width:E.width*F}});C.effect("scale",A.options,A.duration,A.callback);C.dequeue()})};B.effects.scale=function(A){return this.queue(function(){var D=B(this),J=B.extend(true,{},A.options),I=B.effects.setMode(D,A.options.mode||"effect"),C=parseInt(A.options.percent,10)||(parseInt(A.options.percent,10)==0?0:(I=="hide"?0:100)),E=A.options.direction||"both",G=A.options.origin;if(I!="effect"){J.origin=G||["middle","center"];J.restore=true}var F={height:D.height(),width:D.width()};D.from=A.options.from||(I=="show"?{height:0,width:0}:F);var H={y:E!="horizontal"?(C/100):1,x:E!="vertical"?(C/100):1};D.to={height:F.height*H.y,width:F.width*H.x};if(A.options.fade){if(I=="show"){D.from.opacity=0;D.to.opacity=1}if(I=="hide"){D.from.opacity=1;D.to.opacity=0}}J.from=D.from;J.to=D.to;J.mode=I;D.effect("size",J,A.duration,A.callback);D.dequeue()})};B.effects.size=function(A){return this.queue(function(){var I=B(this),N=["position","top","bottom","left","right","width","height","overflow","opacity"],M=["position","top","bottom","left","right","overflow","opacity"],O=["width","height","overflow"],D=["fontSize"],H=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],P=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],G=B.effects.setMode(I,A.options.mode||"effect"),J=A.options.restore||false,C=A.options.scale||"both",E=A.options.origin,K={height:I.height(),width:I.width()};I.from=A.options.from||K;I.to=A.options.to||K;if(E){var L=B.effects.getBaseline(E,K);I.from.top=(K.height-I.from.height)*L.y;I.from.left=(K.width-I.from.width)*L.x;I.to.top=(K.height-I.to.height)*L.y;I.to.left=(K.width-I.to.width)*L.x}var F={from:{y:I.from.height/K.height,x:I.from.width/K.width},to:{y:I.to.height/K.height,x:I.to.width/K.width}};if(C=="box"||C=="both"){if(F.from.y!=F.to.y){N=N.concat(H);I.from=B.effects.setTransition(I,H,F.from.y,I.from);I.to=B.effects.setTransition(I,H,F.to.y,I.to)}if(F.from.x!=F.to.x){N=N.concat(P);I.from=B.effects.setTransition(I,P,F.from.x,I.from);I.to=B.effects.setTransition(I,P,F.to.x,I.to)}}if(C=="content"||C=="both")if(F.from.y!=F.to.y){N=N.concat(D);I.from=B.effects.setTransition(I,D,F.from.y,I.from);I.to=B.effects.setTransition(I,D,F.to.y,I.to)}B.effects.save(I,J?N:M);I.show();B.effects.createWrapper(I);I.css("overflow","hidden").css(I.from);if(C=="content"||C=="both"){H=H.concat(["marginTop","marginBottom"]).concat(D);P=P.concat(["marginLeft","marginRight"]);O=N.concat(H).concat(P);I.find("*[width]").each(function(){var C=B(this);if(J)B.effects.save(C,O);var D={height:C.height(),width:C.width()};C.from={height:D.height*F.from.y,width:D.width*F.from.x};C.to={height:D.height*F.to.y,width:D.width*F.to.x};if(F.from.y!=F.to.y){C.from=B.effects.setTransition(C,H,F.from.y,C.from);C.to=B.effects.setTransition(C,H,F.to.y,C.to)}if(F.from.x!=F.to.x){C.from=B.effects.setTransition(C,P,F.from.x,C.from);C.to=B.effects.setTransition(C,P,F.to.x,C.to)}C.css(C.from);C.animate(C.to,A.duration,A.options.easing,function(){if(J)B.effects.restore(C,O)})})}I.animate(I.to,{queue:false,duration:A.duration,easing:A.options.easing,complete:function(){if(I.to.opacity===0)I.css("opacity",I.from.opacity);if(G=="hide")I.hide();B.effects.restore(I,J?N:M);B.effects.removeWrapper(I);if(A.callback)A.callback.apply(this,arguments);I.dequeue()}})})}})(jQuery);(function(B,A){B.effects.shake=function(A){return this.queue(function(){var L=B(this),O=["position","top","bottom","left","right"],I=B.effects.setMode(L,A.options.mode||"effect"),F=A.options.direction||"left",K=A.options.distance||20,M=A.options.times||3,E=A.duration||A.options.duration||140;B.effects.save(L,O);L.show();B.effects.createWrapper(L);var J=(F=="up"||F=="down")?"top":"left",N=(F=="up"||F=="left")?"pos":"neg",C={},D={},G={};C[J]=(N=="pos"?"-=":"+=")+K;D[J]=(N=="pos"?"+=":"-=")+K*2;G[J]=(N=="pos"?"-=":"+=")+K*2;L.animate(C,E,A.options.easing);for(var H=1;H<M;H++)L.animate(D,E,A.options.easing).animate(G,E,A.options.easing);L.animate(D,E,A.options.easing).animate(C,E/2,A.options.easing,function(){B.effects.restore(L,O);B.effects.removeWrapper(L);if(A.callback)A.callback.apply(this,arguments)});L.queue("fx",function(){L.dequeue()});L.dequeue()})}})(jQuery);(function(B,A){B.effects.slide=function(A){return this.queue(function(){var F=B(this),I=["position","top","bottom","left","right"],J=B.effects.setMode(F,A.options.mode||"show"),G=A.options.direction||"left";B.effects.save(F,I);F.show();B.effects.createWrapper(F).css({overflow:"hidden"});var C=(G=="up"||G=="down")?"top":"left",H=(G=="up"||G=="left")?"pos":"neg",D=A.options.distance||(C=="top"?F.outerHeight(true):F.outerWidth(true));if(J=="show")F.css(C,H=="pos"?(isNaN(D)?"-"+D:-D):D);var E={};E[C]=(J=="show"?(H=="pos"?"+=":"-="):(H=="pos"?"-=":"+="))+D;F.animate(E,{queue:false,duration:A.duration,easing:A.options.easing,complete:function(){if(J=="hide")F.hide();B.effects.restore(F,I);B.effects.removeWrapper(F);if(A.callback)A.callback.apply(this,arguments);F.dequeue()}})})}})(jQuery);(function(B,A){B.effects.transfer=function(A){return this.queue(function(){var C=B(this),F=B(A.options.to),G=F.offset(),E={top:G.top,left:G.left,height:F.innerHeight(),width:F.innerWidth()},H=C.offset(),D=B("<div class=\"ui-effects-transfer\"></div>").appendTo(document.body).addClass(A.options.className).css({top:H.top,left:H.left,height:C.innerHeight(),width:C.innerWidth(),position:"absolute"}).animate(E,A.duration,A.options.easing,function(){D.remove();(A.callback&&A.callback.apply(C[0],arguments));C.dequeue()})})}})(jQuery);(function(B,A){B.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var C=this,E=C.options;C.running=0;C.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");C.headers=C.element.find(E.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(E.disabled)return;B(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(E.disabled)return;B(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(E.disabled)return;B(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(E.disabled)return;B(this).removeClass("ui-state-focus")});C.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(E.navigation){var A=C.element.find("a").filter(E.navigationFilter).eq(0);if(A.length){var D=A.closest(".ui-accordion-header");if(D.length)C.active=D;else C.active=A.closest(".ui-accordion-content").prev()}}C.active=C._findActive(C.active||E.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");C.active.next().addClass("ui-accordion-content-active");C._createIcons();C.resize();C.element.attr("role","tablist");C.headers.attr("role","tab").bind("keydown.accordion",function(A){return C._keydown(A)}).next().attr("role","tabpanel");C.headers.not(C.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();if(!C.active.length)C.headers.eq(0).attr("tabIndex",0);else C.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0});if(!B.browser.safari)C.headers.find("a").attr("tabIndex",-1);if(E.event)C.headers.bind(E.event.split(" ").join(".accordion ")+".accordion",function(A){C._clickHandler.call(C,A,this);A.preventDefault()})},_createIcons:function(){var A=this.options;if(A.icons){B("<span></span>").addClass("ui-icon "+A.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(A.icons.header).toggleClass(A.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var C=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var A=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(C.autoHeight||C.fillHeight)A.css("height","");return B.Widget.prototype.destroy.call(this)},_setOption:function(C,A){B.Widget.prototype._setOption.apply(this,arguments);if(C=="active")this.activate(A);if(C=="icons"){this._destroyIcons();if(A)this._createIcons()}if(C=="disabled")this.headers.add(this.headers.next())[A?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(D){if(this.options.disabled||D.altKey||D.ctrlKey)return;var C=B.ui.keyCode,F=this.headers.length,A=this.headers.index(D.target),E=false;switch(D.keyCode){case C.RIGHT:case C.DOWN:E=this.headers[(A+1)%F];break;case C.LEFT:case C.UP:E=this.headers[(A-1+F)%F];break;case C.SPACE:case C.ENTER:this._clickHandler({target:D.target},D.target);D.preventDefault()}if(E){B(D.target).attr("tabIndex",-1);B(E).attr("tabIndex",0);E.focus();return false}return true},resize:function(){var D=this.options,C;if(D.fillSpace){if(B.browser.msie){var A=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}C=this.element.parent().height();if(B.browser.msie)this.element.parent().css("overflow",A);this.headers.each(function(){C-=B(this).outerHeight(true)});this.headers.next().each(function(){B(this).height(Math.max(0,C-B(this).innerHeight()+B(this).height()))}).css("overflow","auto")}else if(D.autoHeight){C=0;this.headers.next().each(function(){C=Math.max(C,B(this).height("").height())}).height(C)}return this},activate:function(A){this.options.active=A;var B=this._findActive(A)[0];this._clickHandler({target:B},B);return this},_findActive:function(A){return A?typeof A==="number"?this.headers.filter(":eq("+A+")"):this.headers.not(this.headers.not(A)):A===false?B([]):this.headers.filter(":eq(0)")},_clickHandler:function(D,F){var K=this.options;if(K.disabled)return;if(!D.target){if(!K.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(K.icons.headerSelected).addClass(K.icons.header);this.active.next().addClass("ui-accordion-content-active");var C=this.active.next(),E={options:K,newHeader:B([]),oldHeader:K.active,newContent:B([]),oldContent:C},A=(this.active=B([]));this._toggle(A,C,E);return}var J=B(D.currentTarget||F),I=J[0]===this.active[0];K.active=K.collapsible&&I?false:this.headers.index(J);if(this.running||(!K.collapsible&&I))return;var G=this.active,A=J.next(),C=this.active.next(),E={options:K,newHeader:I&&K.collapsible?B([]):J,oldHeader:this.active,newContent:I&&K.collapsible?B([]):A,oldContent:C},H=this.headers.index(this.active[0])>this.headers.index(J[0]);this.active=I?B([]):J;this._toggle(A,C,E,I,H);G.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(K.icons.headerSelected).addClass(K.icons.header);if(!I){J.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(K.icons.header).addClass(K.icons.headerSelected);J.next().addClass("ui-accordion-content-active")}return},_toggle:function(I,D,E,L,K){var F=this,M=F.options;F.toShow=I;F.toHide=D;F.data=E;var H=function(){if(!F)return;return F._completed.apply(F,arguments)};F._trigger("changestart",null,F.data);F.running=D.size()===0?I.size():D.size();if(M.animated){var J={};if(M.collapsible&&L)J={toShow:B([]),toHide:D,complete:H,down:K,autoHeight:M.autoHeight||M.fillSpace};else J={toShow:I,toHide:D,complete:H,down:K,autoHeight:M.autoHeight||M.fillSpace};if(!M.proxied)M.proxied=M.animated;if(!M.proxiedDuration)M.proxiedDuration=M.duration;M.animated=B.isFunction(M.proxied)?M.proxied(J):M.proxied;M.duration=B.isFunction(M.proxiedDuration)?M.proxiedDuration(J):M.proxiedDuration;var A=B.ui.accordion.animations,G=M.duration,C=M.animated;if(C&&!A[C]&&!B.easing[C])C="slide";if(!A[C])A[C]=function(A){this.slide(A,{easing:C,duration:G||700})};A[C](J)}else{if(M.collapsible&&L)I.toggle();else{D.hide();I.show()}H(true)}D.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur();I.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(A){this.running=A?0:--this.running;if(this.running)return;if(this.options.clearStyle)this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");if(this.toHide.length)this.toHide.parent()[0].className=this.toHide.parent()[0].className;this._trigger("change",null,this.data)}});B.extend(B.ui.accordion,{version:"1.8.23",animations:{slide:function(J,C){J=B.extend({easing:"swing",duration:300},J,C);if(!J.toHide.size()){J.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},J);return}if(!J.toShow.size()){J.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},J);return}var F=J.toShow.css("overflow"),G=0,A={},E={},H=["height","paddingTop","paddingBottom"],I,D=J.toShow;I=D[0].style.width;D.width(D.parent().width()-parseFloat(D.css("paddingLeft"))-parseFloat(D.css("paddingRight"))-(parseFloat(D.css("borderLeftWidth"))||0)-(parseFloat(D.css("borderRightWidth"))||0));B.each(H,function(F,C){E[C]="hide";var D=(""+B.css(J.toShow[0],C)).match(/^([\d+-.]+)(.*)$/);A[C]={value:D[1],unit:D[2]||"px"}});J.toShow.css({height:0,overflow:"hidden"}).show();J.toHide.filter(":hidden").each(J.complete).end().filter(":visible").animate(E,{step:function(B,C){if(C.prop=="height")G=(C.end-C.start===0)?0:(C.now-C.start)/(C.end-C.start);J.toShow[0].style[C.prop]=(G*A[C.prop].value)+A[C.prop].unit},duration:J.duration,easing:J.easing,complete:function(){if(!J.autoHeight)J.toShow.css("height","");J.toShow.css({width:I,overflow:F});J.complete()}})},bounceslide:function(A){this.slide(A,{easing:A.down?"easeOutBounce":"swing",duration:A.down?1000:200})}}})})(jQuery);(function(C,B){var A=0;C.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var B=this,A=this.element[0].ownerDocument,D;this.isMultiLine=this.element.is("textarea");this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(E){if(B.options.disabled||B.element.propAttr("readOnly"))return;D=false;var A=C.ui.keyCode;switch(E.keyCode){case A.PAGE_UP:B._move("previousPage",E);break;case A.PAGE_DOWN:B._move("nextPage",E);break;case A.UP:B._keyEvent("previous",E);break;case A.DOWN:B._keyEvent("next",E);break;case A.ENTER:case A.NUMPAD_ENTER:if(B.menu.active){D=true;E.preventDefault()}case A.TAB:if(!B.menu.active)return;B.menu.select(E);break;case A.ESCAPE:B.element.val(B.term);B.close(E);break;default:clearTimeout(B.searching);B.searching=setTimeout(function(){if(B.term!=B.element.val()){B.selectedItem=null;B.search(null,E)}},B.options.delay);break}}).bind("keypress.autocomplete",function(A){if(D){D=false;A.preventDefault()}}).bind("focus.autocomplete",function(){if(B.options.disabled)return;B.selectedItem=null;B.previous=B.element.val()}).bind("blur.autocomplete",function(A){if(B.options.disabled)return;clearTimeout(B.searching);B.closing=setTimeout(function(){B.close(A);B._change(A)},150)});this._initSource();this.menu=C("<ul></ul>").addClass("ui-autocomplete").appendTo(C(this.options.appendTo||"body",A)[0]).mousedown(function(D){var A=B.menu.element[0];if(!C(D.target).closest(".ui-menu-item").length)setTimeout(function(){C(document).one("mousedown",function(D){if(D.target!==B.element[0]&&D.target!==A&&!C.ui.contains(A,D.target))B.close()})},1);setTimeout(function(){clearTimeout(B.closing)},13)}).menu({focus:function(C,A){var D=A.item.data("item.autocomplete");if(false!==B._trigger("focus",C,{item:D}))if(/^key/.test(C.originalEvent.type))B.element.val(D.value)},selected:function(E,C){var F=C.item.data("item.autocomplete"),D=B.previous;if(B.element[0]!==A.activeElement){B.element.focus();B.previous=D;setTimeout(function(){B.previous=D;B.selectedItem=F},1)}if(false!==B._trigger("select",E,{item:F}))B.element.val(F.value);B.term=B.element.val();B.close(E);B.selectedItem=F},blur:function(C,A){if(B.menu.element.is(":visible")&&(B.element.val()!==B.term))B.element.val(B.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(C.fn.bgiframe)this.menu.element.bgiframe();B.beforeunloadHandler=function(){B.element.removeAttr("autocomplete")};C(window).bind("beforeunload",B.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();C(window).unbind("beforeunload",this.beforeunloadHandler);C.Widget.prototype.destroy.call(this)},_setOption:function(B,A){C.Widget.prototype._setOption.apply(this,arguments);if(B==="source")this._initSource();if(B==="appendTo")this.menu.element.appendTo(C(A||"body",this.element[0].ownerDocument)[0]);if(B==="disabled"&&A&&this.xhr)this.xhr.abort()},_initSource:function(){var A=this,D,B;if(C.isArray(this.options.source)){D=this.options.source;this.source=function(B,A){A(C.ui.autocomplete.filter(D,B.term))}}else if(typeof this.options.source==="string"){B=this.options.source;this.source=function(E,D){if(A.xhr)A.xhr.abort();A.xhr=C.ajax({url:B,data:E,dataType:"json",success:function(B,A){D(B)},error:function(){D([])}})}}else this.source=this.options.source},search:function(B,A){B=B!=null?B:this.element.val();this.term=this.element.val();if(B.length<this.options.minLength)return this.close(A);clearTimeout(this.closing);if(this._trigger("search",A)===false)return;return this._search(B)},_search:function(A){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:A},this._response())},_response:function(){var B=this,C=++A;return function(D){if(C===A)B.__response(D);B.pending--;if(!B.pending)B.element.removeClass("ui-autocomplete-loading")}},__response:function(A){if(!this.options.disabled&&A&&A.length){A=this._normalize(A);this._suggest(A);this._trigger("open")}else this.close()},close:function(A){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",A)}},_change:function(A){if(this.previous!==this.element.val())this._trigger("change",A,{item:this.selectedItem})},_normalize:function(A){if(A.length&&A[0].label&&A[0].value)return A;return C.map(A,function(A){if(typeof A==="string")return{label:A,value:A};return C.extend({label:A.label||A.value,value:A.value||A.label},A)})},_suggest:function(B){var A=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(A,B);this.menu.deactivate();this.menu.refresh();A.show();this._resizeMenu();A.position(C.extend({of:this.element},this.options.position));if(this.options.autoFocus)this.menu.next(new C.Event("mouseover"))},_resizeMenu:function(){var A=this.menu.element;A.outerWidth(Math.max(A.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(A,B){var D=this;C.each(B,function(B,C){D._renderItem(A,C)})},_renderItem:function(A,B){return C("<li></li>").data("item.autocomplete",B).append(C("<a></a>").text(B.label)).appendTo(A)},_move:function(B,A){if(!this.menu.element.is(":visible")){this.search(null,A);return}if(this.menu.first()&&/^previous/.test(B)||this.menu.last()&&/^next/.test(B)){this.element.val(this.term);this.menu.deactivate();return}this.menu[B](A)},widget:function(){return this.menu.element},_keyEvent:function(A,B){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(A,B);B.preventDefault()}}});C.extend(C.ui.autocomplete,{escapeRegex:function(A){return A.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(D,B){var A=new RegExp(C.ui.autocomplete.escapeRegex(B),"i");return C.grep(D,function(B){return A.test(B.label||B.value||B)})}})}(jQuery));(function(A){A.widget("ui.menu",{_create:function(){var B=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(C){if(!A(C.target).closest(".ui-menu-item a").length)return;C.preventDefault();B.select(C)});this.refresh()},refresh:function(){var C=this,B=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");B.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(B){C.activate(B,A(this).parent())}).mouseleave(function(){C.deactivate()})},activate:function(B,C){this.deactivate();if(this.hasScroll()){var D=C.offset().top-this.element.offset().top,A=this.element.scrollTop(),E=this.element.height();if(D<0)this.element.scrollTop(A+D);else if(D>=E)this.element.scrollTop(A+D-E+C.height())}this.active=C.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",B,{item:C})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(A){this.move("next",".ui-menu-item:first",A)},previous:function(A){this.move("prev",".ui-menu-item:last",A)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(C,A,B){if(!this.active){this.activate(B,this.element.children(A));return}var D=this.active[C+"All"](".ui-menu-item").eq(0);if(D.length)this.activate(B,D);else this.activate(B,this.element.children(A))},nextPage:function(D){if(this.hasScroll()){if(!this.active||this.last()){this.activate(D,this.element.children(".ui-menu-item:first"));return}var E=this.active.offset().top,C=this.element.height(),B=this.element.children(".ui-menu-item").filter(function(){var B=A(this).offset().top-E-C+A(this).height();return B<10&&B>-10});if(!B.length)B=this.element.children(".ui-menu-item:last");this.activate(D,B)}else this.activate(D,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(D){if(this.hasScroll()){if(!this.active||this.first()){this.activate(D,this.element.children(".ui-menu-item:last"));return}var E=this.active.offset().top,C=this.element.height(),B=this.element.children(".ui-menu-item").filter(function(){var B=A(this).offset().top-E+C-A(this).height();return B<10&&B>-10});if(!B.length)B=this.element.children(".ui-menu-item:first");this.activate(D,B)}else this.activate(D,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[A.fn.prop?"prop":"attr"]("scrollHeight")},select:function(A){this._trigger("selected",A,{item:this.active})}})}(jQuery));(function(F,E){var G,I,C,K,B="ui-button ui-widget ui-state-default ui-corner-all",H="ui-state-hover ui-state-active ",A="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",D=function(){var A=F(this).find(":ui-button");setTimeout(function(){A.button("refresh")},1)},J=function(C){var B=C.name,A=C.form,D=F([]);if(B)if(A)D=F(A).find("[name='"+B+"']");else D=F("[name='"+B+"']",C.ownerDocument).filter(function(){return!this.form});return D};F.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",D);if(typeof this.options.disabled!=="boolean")this.options.disabled=!!this.element.propAttr("disabled");else this.element.propAttr("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var H=this,M=this.options,E=this.type==="checkbox"||this.type==="radio",A="ui-state-hover"+(!E?" ui-state-active":""),L="ui-state-focus";if(M.label===null)M.label=this.buttonElement.html();this.buttonElement.addClass(B).attr("role","button").bind("mouseenter.button",function(){if(M.disabled)return;F(this).addClass("ui-state-hover");if(this===G)F(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(M.disabled)return;F(this).removeClass(A)}).bind("click.button",function(A){if(M.disabled){A.preventDefault();A.stopImmediatePropagation()}});this.element.bind("focus.button",function(){H.buttonElement.addClass(L)}).bind("blur.button",function(){H.buttonElement.removeClass(L)});if(E){this.element.bind("change.button",function(){if(K)return;H.refresh()});this.buttonElement.bind("mousedown.button",function(A){if(M.disabled)return;K=false;I=A.pageX;C=A.pageY}).bind("mouseup.button",function(A){if(M.disabled)return;if(I!==A.pageX||C!==A.pageY)K=true})}if(this.type==="checkbox")this.buttonElement.bind("click.button",function(){if(M.disabled||K)return false;F(this).toggleClass("ui-state-active");H.buttonElement.attr("aria-pressed",H.element[0].checked)});else if(this.type==="radio")this.buttonElement.bind("click.button",function(){if(M.disabled||K)return false;F(this).addClass("ui-state-active");H.buttonElement.attr("aria-pressed","true");var A=H.element[0];J(A).not(A).map(function(){return F(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")});else{this.buttonElement.bind("mousedown.button",function(){if(M.disabled)return false;F(this).addClass("ui-state-active");G=this;F(document).one("mouseup",function(){G=null})}).bind("mouseup.button",function(){if(M.disabled)return false;F(this).removeClass("ui-state-active")}).bind("keydown.button",function(A){if(M.disabled)return false;if(A.keyCode==F.ui.keyCode.SPACE||A.keyCode==F.ui.keyCode.ENTER)F(this).addClass("ui-state-active")}).bind("keyup.button",function(){F(this).removeClass("ui-state-active")});if(this.buttonElement.is("a"))this.buttonElement.keyup(function(A){if(A.keyCode===F.ui.keyCode.SPACE)F(this).click()})}this._setOption("disabled",M.disabled);this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox"))this.type="checkbox";else if(this.element.is(":radio"))this.type="radio";else if(this.element.is("input"))this.type="input";else this.type="button";if(this.type==="checkbox"||this.type==="radio"){var C=this.element.parents().filter(":last"),A="label[for='"+this.element.attr("id")+"']";this.buttonElement=C.find(A);if(!this.buttonElement.length){C=C.length?C.siblings():this.element.siblings();this.buttonElement=C.filter(A);if(!this.buttonElement.length)this.buttonElement=C.find(A)}this.element.addClass("ui-helper-hidden-accessible");var B=this.element.is(":checked");if(B)this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",B)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(B+" "+H+" "+A).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle)this.buttonElement.removeAttr("title");F.Widget.prototype.destroy.call(this)},_setOption:function(B,A){F.Widget.prototype._setOption.apply(this,arguments);if(B==="disabled"){if(A)this.element.propAttr("disabled",true);else this.element.propAttr("disabled",false);return}this._resetButton()},refresh:function(){var A=this.element.is(":disabled");if(A!==this.options.disabled)this._setOption("disabled",A);if(this.type==="radio")J(this.element[0]).each(function(){if(F(this).is(":checked"))F(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");else F(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")});else if(this.type==="checkbox")if(this.element.is(":checked"))this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");else this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")},_resetButton:function(){if(this.type==="input"){if(this.options.label)this.element.val(this.options.label);return}var C=this.buttonElement.removeClass(A),G=F("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(C.empty()).text(),E=this.options.icons,D=E.primary&&E.secondary,B=[];if(E.primary||E.secondary){if(this.options.text)B.push("ui-button-text-icon"+(D?"s":(E.primary?"-primary":"-secondary")));if(E.primary)C.prepend("<span class='ui-button-icon-primary ui-icon "+E.primary+"'></span>");if(E.secondary)C.append("<span class='ui-button-icon-secondary ui-icon "+E.secondary+"'></span>");if(!this.options.text){B.push(D?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle)C.attr("title",G)}}else B.push("ui-button-text-only");C.addClass(B.join(" "))}});F.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(B,A){if(B==="disabled")this.buttons.button("option",B,A);F.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var A=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return F(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(A?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(A?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return F(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");F.Widget.prototype.destroy.call(this)}})}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.23"}});var PROP_NAME="datepicker",dpuuid=new Date().getTime(),instActive;function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($("<div id=\""+this._mainDivId+"\" class=\"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"></div>"))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){if(this.debug)console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(A){extendRemove(this._defaults,A||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=(nodeName=="div"||nodeName=="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input")this._connectDatepicker(target,inst);else if(inline)this._inlineDatepicker(target,inst)},_newInst:function(C,B){var A=C[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:A,input:C,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:B,dpDiv:(!B?this.dpDiv:bindHover($("<div class=\""+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"></div>")))}},_connectDatepicker:function(B,C){var A=$(B);C.append=$([]);C.trigger=$([]);if(A.hasClass(this.markerClassName))return;this._attachments(A,C);A.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(A,D,B){C.settings[D]=B}).bind("getData.datepicker",function(A,B){return this._get(C,B)});this._autoSize(C);$.data(B,PROP_NAME,C);if(C.settings.disabled)this._disableDatepicker(B)},_attachments:function(B,F){var A=this._get(F,"appendText"),C=this._get(F,"isRTL");if(F.append)F.append.remove();if(A){F.append=$("<span class=\""+this._appendClass+"\">"+A+"</span>");B[C?"before":"after"](F.append)}B.unbind("focus",this._showDatepicker);if(F.trigger)F.trigger.remove();var E=this._get(F,"showOn");if(E=="focus"||E=="both")B.focus(this._showDatepicker);if(E=="button"||E=="both"){var G=this._get(F,"buttonText"),D=this._get(F,"buttonImage");F.trigger=$(this._get(F,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:D,alt:G,title:G}):$("<button type=\"button\"></button>").addClass(this._triggerClass).html(D==""?G:$("<img/>").attr({src:D,alt:G,title:G})));B[C?"before":"after"](F.trigger);F.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==B[0])$.datepicker._hideDatepicker();else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!=B[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(B[0])}else $.datepicker._showDatepicker(B[0]);return false})}},_autoSize:function(D){if(this._get(D,"autoSize")&&!D.inline){var C=new Date(2009,12-1,20),B=this._get(D,"dateFormat");if(B.match(/[DM]/)){var A=function(B){var A=0,C=0;for(var D=0;D<B.length;D++)if(B[D].length>A){A=B[D].length;C=D}return C};C.setMonth(A(this._get(D,(B.match(/MM/)?"monthNames":"monthNamesShort"))));C.setDate(A(this._get(D,(B.match(/DD/)?"dayNames":"dayNamesShort")))+20-C.getDay())}D.input.attr("size",this._formatDate(D,C).length)}},_inlineDatepicker:function(B,C){var A=$(B);if(A.hasClass(this.markerClassName))return;A.addClass(this.markerClassName).append(C.dpDiv).bind("setData.datepicker",function(A,D,B){C.settings[D]=B}).bind("getData.datepicker",function(A,B){return this._get(C,B)});$.data(B,PROP_NAME,C);this._setDate(C,this._getDefaultDate(C),true);this._updateDatepicker(C);this._updateAlternate(C);if(C.settings.disabled)this._disableDatepicker(B);C.dpDiv.css("display","block")},_dialogDatepicker:function(D,I,B,F,K){var H=this._dialogInst;if(!H){this.uuid+=1;var A="dp"+this.uuid;this._dialogInput=$("<input type=\"text\" id=\""+A+"\" style=\"position: absolute; top: -100px; width: 0px;\"/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);H=this._dialogInst=this._newInst(this._dialogInput,false);H.settings={};$.data(this._dialogInput[0],PROP_NAME,H)}extendRemove(H.settings,F||{});I=(I&&I.constructor==Date?this._formatDate(H,I):I);this._dialogInput.val(I);this._pos=(K?(K.length?K:[K.pageX,K.pageY]):null);if(!this._pos){var E=document.documentElement.clientWidth,C=document.documentElement.clientHeight,J=document.documentElement.scrollLeft||document.body.scrollLeft,G=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(E/2)-100+J,(C/2)-150+G]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");H.settings.onSelect=B;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI)$.blockUI(this.dpDiv);$.data(this._dialogInput[0],PROP_NAME,H);return this},_destroyDatepicker:function(B){var C=$(B),D=$.data(B,PROP_NAME);if(!C.hasClass(this.markerClassName))return;var A=B.nodeName.toLowerCase();$.removeData(B,PROP_NAME);if(A=="input"){D.append.remove();D.trigger.remove();C.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(A=="div"||A=="span")C.removeClass(this.markerClassName).empty()},_enableDatepicker:function(C){var D=$(C),E=$.data(C,PROP_NAME);if(!D.hasClass(this.markerClassName))return;var B=C.nodeName.toLowerCase();if(B=="input"){C.disabled=false;E.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(B=="div"||B=="span"){var A=D.children("."+this._inlineClass);A.children().removeClass("ui-state-disabled");A.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(A){return(A==C?null:A)})},_disableDatepicker:function(C){var D=$(C),E=$.data(C,PROP_NAME);if(!D.hasClass(this.markerClassName))return;var B=C.nodeName.toLowerCase();if(B=="input"){C.disabled=true;E.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(B=="div"||B=="span"){var A=D.children("."+this._inlineClass);A.children().addClass("ui-state-disabled");A.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(A){return(A==C?null:A)});this._disabledInputs[this._disabledInputs.length]=C},_isDisabledDatepicker:function(A){if(!A)return false;for(var B=0;B<this._disabledInputs.length;B++)if(this._disabledInputs[B]==A)return true;return false},_getInst:function(B){try{return $.data(B,PROP_NAME)}catch(A){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(E,C,D){var H=this._getInst(E);if(arguments.length==2&&typeof C=="string")return(C=="defaults"?$.extend({},$.datepicker._defaults):(H?(C=="all"?$.extend({},H.settings):this._get(H,C)):null));var B=C||{};if(typeof C=="string"){B={};B[C]=D}if(H){if(this._curInst==H)this._hideDatepicker();var G=this._getDateDatepicker(E,true),F=this._getMinMaxDate(H,"min"),A=this._getMinMaxDate(H,"max");extendRemove(H.settings,B);if(F!==null&&B["dateFormat"]!==undefined&&B["minDate"]===undefined)H.settings.minDate=this._formatDate(H,F);if(A!==null&&B["dateFormat"]!==undefined&&B["maxDate"]===undefined)H.settings.maxDate=this._formatDate(H,A);this._attachments($(E),H);this._autoSize(H);this._setDate(H,G);this._updateAlternate(H);this._updateDatepicker(H)}},_changeDatepicker:function(C,A,B){this._optionDatepicker(C,A,B)},_refreshDatepicker:function(A){var B=this._getInst(A);if(B)this._updateDatepicker(B)},_setDateDatepicker:function(A,C){var B=this._getInst(A);if(B){this._setDate(B,C);this._updateDatepicker(B);this._updateAlternate(B)}},_getDateDatepicker:function(A,C){var B=this._getInst(A);if(B&&!B.inline)this._setDateFromField(B,C);return(B?this._getDate(B):null)},_doKeyDown:function(C){var D=$.datepicker._getInst(C.target),G=true,B=D.dpDiv.is(".ui-datepicker-rtl");D._keyEvent=true;if($.datepicker._datepickerShowing)switch(C.keyCode){case 9:$.datepicker._hideDatepicker();G=false;break;case 13:var F=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",D.dpDiv);if(F[0])$.datepicker._selectDay(C.target,D.selectedMonth,D.selectedYear,F[0]);var A=$.datepicker._get(D,"onSelect");if(A){var E=$.datepicker._formatDate(D);A.apply((D.input?D.input[0]:null),[E,D])}else $.datepicker._hideDatepicker();return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(C.target,(C.ctrlKey?-$.datepicker._get(D,"stepBigMonths"):-$.datepicker._get(D,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(C.target,(C.ctrlKey?+$.datepicker._get(D,"stepBigMonths"):+$.datepicker._get(D,"stepMonths")),"M");break;case 35:if(C.ctrlKey||C.metaKey)$.datepicker._clearDate(C.target);G=C.ctrlKey||C.metaKey;break;case 36:if(C.ctrlKey||C.metaKey)$.datepicker._gotoToday(C.target);G=C.ctrlKey||C.metaKey;break;case 37:if(C.ctrlKey||C.metaKey)$.datepicker._adjustDate(C.target,(B?+1:-1),"D");G=C.ctrlKey||C.metaKey;if(C.originalEvent.altKey)$.datepicker._adjustDate(C.target,(C.ctrlKey?-$.datepicker._get(D,"stepBigMonths"):-$.datepicker._get(D,"stepMonths")),"M");break;case 38:if(C.ctrlKey||C.metaKey)$.datepicker._adjustDate(C.target,-7,"D");G=C.ctrlKey||C.metaKey;break;case 39:if(C.ctrlKey||C.metaKey)$.datepicker._adjustDate(C.target,(B?-1:+1),"D");G=C.ctrlKey||C.metaKey;if(C.originalEvent.altKey)$.datepicker._adjustDate(C.target,(C.ctrlKey?+$.datepicker._get(D,"stepBigMonths"):+$.datepicker._get(D,"stepMonths")),"M");break;case 40:if(C.ctrlKey||C.metaKey)$.datepicker._adjustDate(C.target,+7,"D");G=C.ctrlKey||C.metaKey;break;default:G=false}else if(C.keyCode==36&&C.ctrlKey)$.datepicker._showDatepicker(this);else G=false;if(G){C.preventDefault();C.stopPropagation()}},_doKeyPress:function(A){var C=$.datepicker._getInst(A.target);if($.datepicker._get(C,"constrainInput")){var B=$.datepicker._possibleChars($.datepicker._get(C,"dateFormat")),D=String.fromCharCode(A.charCode==undefined?A.keyCode:A.charCode);return A.ctrlKey||A.metaKey||(D<" "||!B||B.indexOf(D)>-1)}},_doKeyUp:function(A){var D=$.datepicker._getInst(A.target);if(D.input.val()!=D.lastVal){try{var C=$.datepicker.parseDate($.datepicker._get(D,"dateFormat"),(D.input?D.input.val():null),$.datepicker._getFormatConfig(D));if(C){$.datepicker._setDateFromField(D);$.datepicker._updateAlternate(D);$.datepicker._updateDatepicker(D)}}catch(B){$.datepicker.log(B)}}return true},_showDatepicker:function(E){E=E.target||E;if(E.nodeName.toLowerCase()!="input")E=$("input",E.parentNode)[0];if($.datepicker._isDisabledDatepicker(E)||$.datepicker._lastInput==E)return;var I=$.datepicker._getInst(E);if($.datepicker._curInst&&$.datepicker._curInst!=I){$.datepicker._curInst.dpDiv.stop(true,true);if(I&&$.datepicker._datepickerShowing)$.datepicker._hideDatepicker($.datepicker._curInst.input[0])}var A=$.datepicker._get(I,"beforeShow"),G=A?A.apply(E,[E,I]):{};if(G===false)return;extendRemove(I.settings,G);I.lastVal=null;$.datepicker._lastInput=E;$.datepicker._setDateFromField(I);if($.datepicker._inDialog)E.value="";if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(E);$.datepicker._pos[1]+=E.offsetHeight}var D=false;$(E).parents().each(function(){D|=$(this).css("position")=="fixed";return!D});if(D&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var H={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;I.dpDiv.empty();I.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(I);H=$.datepicker._checkOffset(I,H,D);I.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(D?"fixed":"absolute")),display:"none",left:H.left+"px",top:H.top+"px"});if(!I.inline){var C=$.datepicker._get(I,"showAnim"),B=$.datepicker._get(I,"duration"),F=function(){var A=I.dpDiv.find("iframe.ui-datepicker-cover");if(!!A.length){var B=$.datepicker._getBorders(I.dpDiv);A.css({left:-B[0],top:-B[1],width:I.dpDiv.outerWidth(),height:I.dpDiv.outerHeight()})}};I.dpDiv.zIndex($(E).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects[C])I.dpDiv.show(C,$.datepicker._get(I,"showOptions"),B,F);else I.dpDiv[C||"show"]((C?B:null),F);if(!C||!B)F();if(I.input.is(":visible")&&!I.input.is(":disabled"))I.input.focus();$.datepicker._curInst=I}},_updateDatepicker:function(G){var F=this;F.maxRows=4;var H=$.datepicker._getBorders(G.dpDiv);instActive=G;G.dpDiv.empty().append(this._generateHTML(G));this._attachHandlers(G);var C=G.dpDiv.find("iframe.ui-datepicker-cover");if(!!C.length)C.css({left:-H[0],top:-H[1],width:G.dpDiv.outerWidth(),height:G.dpDiv.outerHeight()});G.dpDiv.find("."+this._dayOverClass+" a").mouseover();var D=this._getNumberOfMonths(G),B=D[1],E=17;G.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(B>1)G.dpDiv.addClass("ui-datepicker-multi-"+B).css("width",(E*B)+"em");G.dpDiv[(D[0]!=1||D[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");G.dpDiv[(this._get(G,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(G==$.datepicker._curInst&&$.datepicker._datepickerShowing&&G.input&&G.input.is(":visible")&&!G.input.is(":disabled")&&G.input[0]!=document.activeElement)G.input.focus();if(G.yearshtml){var A=G.yearshtml;setTimeout(function(){if(A===G.yearshtml&&G.yearshtml)G.dpDiv.find("select.ui-datepicker-year:first").replaceWith(G.yearshtml);A=G.yearshtml=null},0)}},_getBorders:function(A){var B=function(A){return{thin:1,medium:2,thick:3}[A]||A};return[parseFloat(B(A.css("border-left-width"))),parseFloat(B(A.css("border-top-width")))]},_checkOffset:function(G,F,A){var E=G.dpDiv.outerWidth(),I=G.dpDiv.outerHeight(),D=G.input?G.input.outerWidth():0,C=G.input?G.input.outerHeight():0,H=document.documentElement.clientWidth+(A?0:$(document).scrollLeft()),B=document.documentElement.clientHeight+(A?0:$(document).scrollTop());F.left-=(this._get(G,"isRTL")?(E-D):0);F.left-=(A&&F.left==G.input.offset().left)?$(document).scrollLeft():0;F.top-=(A&&F.top==(G.input.offset().top+C))?$(document).scrollTop():0;F.left-=Math.min(F.left,(F.left+E>H&&H>E)?Math.abs(F.left+E-H):0);F.top-=Math.min(F.top,(F.top+I>B&&B>I)?Math.abs(I+C):0);return F},_findPos:function(C){var D=this._getInst(C),B=this._get(D,"isRTL");while(C&&(C.type=="hidden"||C.nodeType!=1||$.expr.filters.hidden(C)))C=C[B?"previousSibling":"nextSibling"];var A=$(C).offset();return[A.left,A.top]},_hideDatepicker:function(C){var F=this._curInst;if(!F||(C&&F!=$.data(C,PROP_NAME)))return;if(this._datepickerShowing){var B=this._get(F,"showAnim"),A=this._get(F,"duration"),D=function(){$.datepicker._tidyDialog(F)};if($.effects&&$.effects[B])F.dpDiv.hide(B,$.datepicker._get(F,"showOptions"),A,D);else F.dpDiv[(B=="slideDown"?"slideUp":(B=="fadeIn"?"fadeOut":"hide"))]((B?A:null),D);if(!B)D();this._datepickerShowing=false;var E=this._get(F,"onClose");if(E)E.apply((F.input?F.input[0]:null),[(F.input?F.input.val():""),F]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(A){A.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(A){if(!$.datepicker._curInst)return;var B=$(A.target),C=$.datepicker._getInst(B[0]);if(((B[0].id!=$.datepicker._mainDivId&&B.parents("#"+$.datepicker._mainDivId).length==0&&!B.hasClass($.datepicker.markerClassName)&&!B.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||(B.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=C))$.datepicker._hideDatepicker()},_adjustDate:function(A,E,D){var B=$(A),C=this._getInst(B[0]);if(this._isDisabledDatepicker(B[0]))return;this._adjustInstDate(C,E+(D=="M"?this._get(C,"showCurrentAtPos"):0),D);this._updateDatepicker(C)},_gotoToday:function(A){var B=$(A),D=this._getInst(B[0]);if(this._get(D,"gotoCurrent")&&D.currentDay){D.selectedDay=D.currentDay;D.drawMonth=D.selectedMonth=D.currentMonth;D.drawYear=D.selectedYear=D.currentYear}else{var C=new Date();D.selectedDay=C.getDate();D.drawMonth=D.selectedMonth=C.getMonth();D.drawYear=D.selectedYear=C.getFullYear()}this._notifyChange(D);this._adjustDate(B)},_selectMonthYear:function(A,B,E){var C=$(A),D=this._getInst(C[0]);D["selected"+(E=="M"?"Month":"Year")]=D["draw"+(E=="M"?"Month":"Year")]=parseInt(B.options[B.selectedIndex].value,10);this._notifyChange(D);this._adjustDate(C)},_selectDay:function(A,C,D,E){var B=$(A);if($(E).hasClass(this._unselectableClass)||this._isDisabledDatepicker(B[0]))return;var F=this._getInst(B[0]);F.selectedDay=F.currentDay=$("a",E).html();F.selectedMonth=F.currentMonth=C;F.selectedYear=F.currentYear=D;this._selectDate(A,this._formatDate(F,F.currentDay,F.currentMonth,F.currentYear))},_clearDate:function(A){var B=$(A),C=this._getInst(B[0]);this._selectDate(B,"")},_selectDate:function(A,E){var C=$(A),D=this._getInst(C[0]);E=(E!=null?E:this._formatDate(D));if(D.input)D.input.val(E);this._updateAlternate(D);var B=this._get(D,"onSelect");if(B)B.apply((D.input?D.input[0]:null),[E,D]);else if(D.input)D.input.trigger("change");if(D.inline)this._updateDatepicker(D);else{this._hideDatepicker();this._lastInput=D.input[0];if(typeof(D.input[0])!="object")D.input.focus();this._lastInput=null}},_updateAlternate:function(D){var B=this._get(D,"altField");if(B){var A=this._get(D,"altFormat")||this._get(D,"dateFormat"),C=this._getDate(D),E=this.formatDate(A,C,this._getFormatConfig(D));$(B).each(function(){$(this).val(E)})}},noWeekends:function(B){var A=B.getDay();return[(A>0&&A<6),""]},iso8601Week:function(C){var B=new Date(C.getTime());B.setDate(B.getDate()+4-(B.getDay()||7));var A=B.getTime();B.setMonth(0);B.setDate(1);return Math.floor(Math.round((A-B)/86400000)/7)+1},parseDate:function(H,O,C){if(H==null||O==null)throw"Invalid arguments";O=(typeof O=="object"?O.toString():O+"");if(O=="")return null;var R=(C?C.shortYearCutoff:null)||this._defaults.shortYearCutoff;R=(typeof R!="string"?R:new Date().getFullYear()%100+parseInt(R,10));var L=(C?C.dayNamesShort:null)||this._defaults.dayNamesShort,T=(C?C.dayNames:null)||this._defaults.dayNames,B=(C?C.monthNamesShort:null)||this._defaults.monthNamesShort,N=(C?C.monthNames:null)||this._defaults.monthNames,Q=-1,P=-1,S=-1,F=-1,U=false,A=function(B){var A=(J+1<H.length&&H.charAt(J+1)==B);if(A)J++;return A},E=function(F){var C=A(F),G=(F=="@"?14:(F=="!"?20:(F=="y"&&C?4:(F=="o"?3:2)))),E=new RegExp("^\\d{1,"+G+"}"),B=O.substring(D).match(E);if(!B)throw"Missing number at position "+D;D+=B[0].length;return parseInt(B[0],10)},M=function(F,C,G){var E=$.map(A(F)?G:C,function(A,B){return[[B,A]]}).sort(function(B,A){return-(B[1].length-A[1].length)}),B=-1;$.each(E,function(E,A){var C=A[1];if(O.substr(D,C.length).toLowerCase()==C.toLowerCase()){B=A[0];D+=C.length;return false}});if(B!=-1)return B+1;else throw"Unknown name at position "+D},G=function(){if(O.charAt(D)!=H.charAt(J))throw"Unexpected literal at position "+D;D++},D=0;for(var J=0;J<H.length;J++)if(U){if(H.charAt(J)=="'"&&!A("'"))U=false;else G()}else switch(H.charAt(J)){case"d":S=E("d");break;case"D":M("D",L,T);break;case"o":F=E("o");break;case"m":P=E("m");break;case"M":P=M("M",B,N);break;case"y":Q=E("y");break;case"@":var I=new Date(E("@"));Q=I.getFullYear();P=I.getMonth()+1;S=I.getDate();break;case"!":I=new Date((E("!")-this._ticksTo1970)/10000);Q=I.getFullYear();P=I.getMonth()+1;S=I.getDate();break;case"'":if(A("'"))G();else U=true;break;default:G()}if(D<O.length)throw"Extra/unparsed characters found in date: "+O.substring(D);if(Q==-1)Q=new Date().getFullYear();else if(Q<100)Q+=new Date().getFullYear()-new Date().getFullYear()%100+(Q<=R?0:-100);if(F>-1){P=1;S=F;do{var K=this._getDaysInMonth(Q,P-1);if(S<=K)break;P++;S-=K}while(true)}I=this._daylightSavingAdjust(new Date(Q,P-1,S));if(I.getFullYear()!=Q||I.getMonth()+1!=P||I.getDate()!=S)throw"Invalid date";return I},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(E,G,C){if(!G)return"";var I=(C?C.dayNamesShort:null)||this._defaults.dayNamesShort,L=(C?C.dayNames:null)||this._defaults.dayNames,B=(C?C.monthNamesShort:null)||this._defaults.monthNamesShort,J=(C?C.monthNames:null)||this._defaults.monthNames,A=function(B){var A=(F+1<E.length&&E.charAt(F+1)==B);if(A)F++;return A},D=function(E,C,D){var B=""+C;if(A(E))while(B.length<D)B="0"+B;return B},H=function(D,C,B,E){return(A(D)?E[C]:B[C])},K="",M=false;if(G)for(var F=0;F<E.length;F++)if(M){if(E.charAt(F)=="'"&&!A("'"))M=false;else K+=E.charAt(F)}else switch(E.charAt(F)){case"d":K+=D("d",G.getDate(),2);break;case"D":K+=H("D",G.getDay(),I,L);break;case"o":K+=D("o",Math.round((new Date(G.getFullYear(),G.getMonth(),G.getDate()).getTime()-new Date(G.getFullYear(),0,0).getTime())/86400000),3);break;case"m":K+=D("m",G.getMonth()+1,2);break;case"M":K+=H("M",G.getMonth(),B,J);break;case"y":K+=(A("y")?G.getFullYear():(G.getYear()%100<10?"0":"")+G.getYear()%100);break;case"@":K+=G.getTime();break;case"!":K+=G.getTime()*10000+this._ticksTo1970;break;case"'":if(A("'"))K+="'";else M=true;break;default:K+=E.charAt(F)}return K},_possibleChars:function(C){var B="",E=false,A=function(B){var A=(D+1<C.length&&C.charAt(D+1)==B);if(A)D++;return A};for(var D=0;D<C.length;D++)if(E){if(C.charAt(D)=="'"&&!A("'"))E=false;else B+=C.charAt(D)}else switch(C.charAt(D)){case"d":case"m":case"y":case"@":B+="0123456789";break;case"D":case"M":return null;case"'":if(A("'"))B+="'";else E=true;break;default:B+=C.charAt(D)}return B},_get:function(B,A){return B.settings[A]!==undefined?B.settings[A]:this._defaults[A]},_setDateFromField:function(G,H){if(G.input.val()==G.lastVal)return;var E=this._get(G,"dateFormat"),B=G.lastVal=G.input?G.input.val():null,F,A;F=A=this._getDefaultDate(G);var D=this._getFormatConfig(G);try{F=this.parseDate(E,B,D)||A}catch(C){this.log(C);B=(H?"":B)}G.selectedDay=F.getDate();G.drawMonth=G.selectedMonth=F.getMonth();G.drawYear=G.selectedYear=F.getFullYear();G.currentDay=(B?F.getDate():0);G.currentMonth=(B?F.getMonth():0);G.currentYear=(B?F.getFullYear():0);this._adjustInstDate(G)},_getDefaultDate:function(A){return this._restrictMinMax(A,this._determineDate(A,this._get(A,"defaultDate"),new Date()))},_determineDate:function(F,E,A){var C=function(B){var A=new Date();A.setDate(A.getDate()+B);return A},D=function(I){try{return $.datepicker.parseDate($.datepicker._get(F,"dateFormat"),I,$.datepicker._getFormatConfig(F))}catch(B){}var H=(I.toLowerCase().match(/^c/)?$.datepicker._getDate(F):null)||new Date(),E=H.getFullYear(),D=H.getMonth(),G=H.getDate(),C=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,A=C.exec(I);while(A){switch(A[2]||"d"){case"d":case"D":G+=parseInt(A[1],10);break;case"w":case"W":G+=parseInt(A[1],10)*7;break;case"m":case"M":D+=parseInt(A[1],10);G=Math.min(G,$.datepicker._getDaysInMonth(E,D));break;case"y":case"Y":E+=parseInt(A[1],10);G=Math.min(G,$.datepicker._getDaysInMonth(E,D));break}A=C.exec(I)}return new Date(E,D,G)},B=(E==null||E===""?A:(typeof E=="string"?D(E):(typeof E=="number"?(isNaN(E)?A:C(E)):new Date(E.getTime()))));B=(B&&B.toString()=="Invalid Date"?A:B);if(B){B.setHours(0);B.setMinutes(0);B.setSeconds(0);B.setMilliseconds(0)}return this._daylightSavingAdjust(B)},_daylightSavingAdjust:function(A){if(!A)return null;A.setHours(A.getHours()>12?A.getHours()+2:0);return A},_setDate:function(E,D,G){var A=!D,B=E.selectedMonth,F=E.selectedYear,C=this._restrictMinMax(E,this._determineDate(E,D,new Date()));E.selectedDay=E.currentDay=C.getDate();E.drawMonth=E.selectedMonth=E.currentMonth=C.getMonth();E.drawYear=E.selectedYear=E.currentYear=C.getFullYear();if((B!=E.selectedMonth||F!=E.selectedYear)&&!G)this._notifyChange(E);this._adjustInstDate(E);if(E.input)E.input.val(A?"":this._formatDate(E))},_getDate:function(B){var A=(!B.currentYear||(B.input&&B.input.val()=="")?null:this._daylightSavingAdjust(new Date(B.currentYear,B.currentMonth,B.currentDay)));return A},_attachHandlers:function(B){var C=this._get(B,"stepMonths"),A="#"+B.id.replace(/\\\\/g,"\\");B.dpDiv.find("[data-handler]").map(function(){var B={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(A,-C,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(A,+C,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(A)},selectDay:function(){window["DP_jQuery_"+dpuuid].datepicker._selectDay(A,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(A,this,"M");return false},selectYear:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(A,this,"Y");return false}};$(this).bind(this.getAttribute("data-event"),B[this.getAttribute("data-handler")])})},_generateHTML:function(j){var f=new Date();f=this._daylightSavingAdjust(new Date(f.getFullYear(),f.getMonth(),f.getDate()));var z=this._get(j,"isRTL"),N=this._get(j,"showButtonPanel"),n=this._get(j,"hideIfNoPrevNext"),E=this._get(j,"navigationAsDateFormat"),r=this._getNumberOfMonths(j),s=this._get(j,"showCurrentAtPos"),X=this._get(j,"stepMonths"),F=(r[0]!=1||r[1]!=1),U=this._daylightSavingAdjust((!j.currentDay?new Date(9999,9,9):new Date(j.currentYear,j.currentMonth,j.currentDay))),_=this._getMinMaxDate(j,"min"),T=this._getMinMaxDate(j,"max"),x=j.drawMonth-s,e=j.drawYear;if(x<0){x+=12;e--}if(T){var v=this._daylightSavingAdjust(new Date(T.getFullYear(),T.getMonth()-(r[0]*r[1])+1,T.getDate()));v=(_&&v<_?_:v);while(this._daylightSavingAdjust(new Date(e,x,1))>v){x--;if(x<0){x=11;e--}}}j.drawMonth=x;j.drawYear=e;var C1=this._get(j,"prevText");C1=(!E?C1:this.formatDate(C1,this._daylightSavingAdjust(new Date(e,x-X,1)),this._getFormatConfig(j)));var S=(this._canAdjustMonth(j,-1,e,x)?"<a class=\"ui-datepicker-prev ui-corner-all\" data-handler=\"prev\" data-event=\"click\""+" title=\""+C1+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"\">"+C1+"</span></a>":(n?"":"<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\""+C1+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"\">"+C1+"</span></a>")),g=this._get(j,"nextText");g=(!E?g:this.formatDate(g,this._daylightSavingAdjust(new Date(e,x+X,1)),this._getFormatConfig(j)));var c=(this._canAdjustMonth(j,+1,e,x)?"<a class=\"ui-datepicker-next ui-corner-all\" data-handler=\"next\" data-event=\"click\""+" title=\""+g+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"\">"+g+"</span></a>":(n?"":"<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\""+g+"\"><span class=\"ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"\">"+g+"</span></a>")),H=this._get(j,"currentText"),i=(this._get(j,"gotoCurrent")&&j.currentDay?U:f);H=(!E?H:this.formatDate(H,i,this._getFormatConfig(j)));var l=(!j.inline?"<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\" data-handler=\"hide\" data-event=\"click\">"+this._get(j,"closeText")+"</button>":""),M=(N)?"<div class=\"ui-datepicker-buttonpane ui-widget-content\">"+(z?l:"")+(this._isInRange(j,i)?"<button type=\"button\" class=\"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\" data-handler=\"today\" data-event=\"click\""+">"+H+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(j,"firstDay"),10);u=(isNaN(u)?0:u);var d=this._get(j,"showWeek"),Y=this._get(j,"dayNames"),J=this._get(j,"dayNamesShort"),a=this._get(j,"dayNamesMin"),V=this._get(j,"monthNames"),b=this._get(j,"monthNamesShort"),B=this._get(j,"beforeShowDay"),L=this._get(j,"showOtherMonths"),Z=this._get(j,"selectOtherMonths"),y=this._get(j,"calculateWeek")||this.iso8601Week,k=this._getDefaultDate(j),A1="";for(var R=0;R<r[0];R++){var B1="";this.maxRows=4;for(var A=0;A<r[1];A++){var q=this._daylightSavingAdjust(new Date(e,x,j.selectedDay)),t=" ui-corner-all",m="";if(F){m+="<div class=\"ui-datepicker-group";if(r[1]>1)switch(A){case 0:m+=" ui-datepicker-group-first";t=" ui-corner-"+(z?"right":"left");break;case r[1]-1:m+=" ui-datepicker-group-last";t=" ui-corner-"+(z?"left":"right");break;default:m+=" ui-datepicker-group-middle";t="";break}m+="\">"}m+="<div class=\"ui-datepicker-header ui-widget-header ui-helper-clearfix"+t+"\">"+(/all|left/.test(t)&&R==0?(z?c:S):"")+(/all|right/.test(t)&&R==0?(z?S:c):"")+this._generateMonthYearHeader(j,x,e,_,T,R>0||A>0,V,b)+"</div><table class=\"ui-datepicker-calendar\"><thead>"+"<tr>";var p=(d?"<th class=\"ui-datepicker-week-col\">"+this._get(j,"weekHeader")+"</th>":"");for(var D=0;D<7;D++){var W=(D+u)%7;p+="<th"+((D+u+6)%7>=5?" class=\"ui-datepicker-week-end\"":"")+">"+"<span title=\""+Y[W]+"\">"+a[W]+"</span></th>"}m+=p+"</tr></thead><tbody>";var G=this._getDaysInMonth(e,x);if(e==j.selectedYear&&x==j.selectedMonth)j.selectedDay=Math.min(j.selectedDay,G);var P=(this._getFirstDayOfMonth(e,x)-u+7)%7,o=Math.ceil((P+G)/7),h=(F?this.maxRows>o?this.maxRows:o:o);this.maxRows=h;var Q=this._daylightSavingAdjust(new Date(e,x,1-P));for(var K=0;K<h;K++){m+="<tr>";var w=(!d?"":"<td class=\"ui-datepicker-week-col\">"+this._get(j,"calculateWeek")(Q)+"</td>");for(D=0;D<7;D++){var I=(B?B.apply((j.input?j.input[0]:null),[Q]):[true,""]),C=(Q.getMonth()!=x),O=(C&&!Z)||!I[0]||(_&&Q<_)||(T&&Q>T);w+="<td class=\""+((D+u+6)%7>=5?" ui-datepicker-week-end":"")+(C?" ui-datepicker-other-month":"")+((Q.getTime()==q.getTime()&&x==j.selectedMonth&&j._keyEvent)||(k.getTime()==Q.getTime()&&k.getTime()==q.getTime())?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(C&&!L?"":" "+I[1]+(Q.getTime()==U.getTime()?" "+this._currentClass:"")+(Q.getTime()==f.getTime()?" ui-datepicker-today":""))+"\""+((!C||L)&&I[2]?" title=\""+I[2]+"\"":"")+(O?"":" data-handler=\"selectDay\" data-event=\"click\" data-month=\""+Q.getMonth()+"\" data-year=\""+Q.getFullYear()+"\"")+">"+(C&&!L?"&#xa0;":(O?"<span class=\"ui-state-default\">"+Q.getDate()+"</span>":"<a class=\"ui-state-default"+(Q.getTime()==f.getTime()?" ui-state-highlight":"")+(Q.getTime()==U.getTime()?" ui-state-active":"")+(C?" ui-priority-secondary":"")+"\" href=\"#\">"+Q.getDate()+"</a>"))+"</td>";Q.setDate(Q.getDate()+1);Q=this._daylightSavingAdjust(Q)}m+=w+"</tr>"}x++;if(x>11){x=0;e++}m+="</tbody></table>"+(F?"</div>"+((r[0]>0&&A==r[1]-1)?"<div class=\"ui-datepicker-row-break\"></div>":""):"");B1+=m}A1+=B1}A1+=M+($.browser.msie&&parseInt($.browser.version,10)<7&&!j.inline?"<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>":"");j._keyEvent=false;return A1},_generateMonthYearHeader:function(I,J,F,O,K,E,L,C){var H=this._get(I,"changeMonth"),G=this._get(I,"changeYear"),T=this._get(I,"showMonthAfterYear"),Q="<div class=\"ui-datepicker-title\">",S="";if(E||!H)S+="<span class=\"ui-datepicker-month\">"+L[J]+"</span>";else{var D=(O&&O.getFullYear()==F),U=(K&&K.getFullYear()==F);S+="<select class=\"ui-datepicker-month\" data-handler=\"selectMonth\" data-event=\"change\">";for(var N=0;N<12;N++)if((!D||N>=O.getMonth())&&(!U||N<=K.getMonth()))S+="<option value=\""+N+"\""+(N==J?" selected=\"selected\"":"")+">"+C[N]+"</option>";S+="</select>"}if(!T)Q+=S+(E||!(H&&G)?"&#xa0;":"");if(!I.yearshtml){I.yearshtml="";if(E||!G)Q+="<span class=\"ui-datepicker-year\">"+F+"</span>";else{var R=this._get(I,"yearRange").split(":"),A=new Date().getFullYear(),M=function(B){var C=(B.match(/c[+-].*/)?F+parseInt(B.substring(1),10):(B.match(/[+-].*/)?A+parseInt(B,10):parseInt(B,10)));return(isNaN(C)?A:C)},P=M(R[0]),B=Math.max(P,M(R[1]||""));P=(O?Math.max(P,O.getFullYear()):P);B=(K?Math.min(B,K.getFullYear()):B);I.yearshtml+="<select class=\"ui-datepicker-year\" data-handler=\"selectYear\" data-event=\"change\">";for(;P<=B;P++)I.yearshtml+="<option value=\""+P+"\""+(P==F?" selected=\"selected\"":"")+">"+P+"</option>";I.yearshtml+="</select>";Q+=I.yearshtml;I.yearshtml=null}}Q+=this._get(I,"yearSuffix");if(T)Q+=(E||!(H&&G)?"&#xa0;":"")+S;Q+="</div>";return Q},_adjustInstDate:function(G,F,E){var B=G.drawYear+(E=="Y"?F:0),A=G.drawMonth+(E=="M"?F:0),C=Math.min(G.selectedDay,this._getDaysInMonth(B,A))+(E=="D"?F:0),D=this._restrictMinMax(G,this._daylightSavingAdjust(new Date(B,A,C)));G.selectedDay=D.getDate();G.drawMonth=G.selectedMonth=D.getMonth();G.drawYear=G.selectedYear=D.getFullYear();if(E=="M"||E=="Y")this._notifyChange(G)},_restrictMinMax:function(E,D){var C=this._getMinMaxDate(E,"min"),B=this._getMinMaxDate(E,"max"),A=(C&&D<C?C:D);A=(B&&A>B?B:A);return A},_notifyChange:function(B){var A=this._get(B,"onChangeMonthYear");if(A)A.apply((B.input?B.input[0]:null),[B.selectedYear,B.selectedMonth+1,B])},_getNumberOfMonths:function(B){var A=this._get(B,"numberOfMonths");return(A==null?[1,1]:(typeof A=="number"?[1,A]:A))},_getMinMaxDate:function(B,A){return this._determineDate(B,this._get(B,A+"Date"),null)},_getDaysInMonth:function(B,A){return 32-this._daylightSavingAdjust(new Date(B,A,32)).getDate()},_getFirstDayOfMonth:function(B,A){return new Date(B,A,1).getDay()},_canAdjustMonth:function(F,E,A,D){var B=this._getNumberOfMonths(F),C=this._daylightSavingAdjust(new Date(A,D+(E<0?E:B[0]*B[1]),1));if(E<0)C.setDate(this._getDaysInMonth(C.getFullYear(),C.getMonth()));return this._isInRange(F,C)},_isInRange:function(D,C){var B=this._getMinMaxDate(D,"min"),A=this._getMinMaxDate(D,"max");return((!B||C.getTime()>=B.getTime())&&(!A||C.getTime()<=A.getTime()))},_getFormatConfig:function(B){var A=this._get(B,"shortYearCutoff");A=(typeof A!="string"?A:new Date().getFullYear()%100+parseInt(A,10));return{shortYearCutoff:A,dayNamesShort:this._get(B,"dayNamesShort"),dayNames:this._get(B,"dayNames"),monthNamesShort:this._get(B,"monthNamesShort"),monthNames:this._get(B,"monthNames")}},_formatDate:function(E,C,A,B){if(!C){E.currentDay=E.selectedDay;E.currentMonth=E.selectedMonth;E.currentYear=E.selectedYear}var D=(C?(typeof C=="object"?C:this._daylightSavingAdjust(new Date(B,A,C))):this._daylightSavingAdjust(new Date(E.currentYear,E.currentMonth,E.currentDay)));return this.formatDate(this._get(E,"dateFormat"),D,this._getFormatConfig(E))}});function bindHover(B){var A="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return B.bind("mouseout",function(C){var B=$(C.target).closest(A);if(!B.length)return;B.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(D){var C=$(D.target).closest(A);if($.datepicker._isDisabledDatepicker(instActive.inline?B.parent()[0]:instActive.input[0])||!C.length)return;C.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");C.addClass("ui-state-hover");if(C.hasClass("ui-datepicker-prev"))C.addClass("ui-datepicker-prev-hover");if(C.hasClass("ui-datepicker-next"))C.addClass("ui-datepicker-next-hover")})}function extendRemove(B,C){$.extend(B,C);for(var A in C)if(C[A]==null||C[A]==undefined)B[A]=C[A];return B}function isArray(A){return(A&&(($.browser.safari&&typeof A=="object"&&A.length)||(A.constructor&&A.constructor.toString().match(/\Array\(\)/))))}$.fn.datepicker=function(B){if(!this.length)return this;if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv);$.datepicker.initialized=true}var A=Array.prototype.slice.call(arguments,1);if(typeof B=="string"&&(B=="isDisabled"||B=="getDate"||B=="widget"))return $.datepicker["_"+B+"Datepicker"].apply($.datepicker,[this[0]].concat(A));if(B=="option"&&arguments.length==2&&typeof arguments[1]=="string")return $.datepicker["_"+B+"Datepicker"].apply($.datepicker,[this[0]].concat(A));return this.each(function(){typeof B=="string"?$.datepicker["_"+B+"Datepicker"].apply($.datepicker,[this].concat(A)):$.datepicker._attachDatepicker(this,B)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.8.23";window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(B,A){var D="ui-dialog "+"ui-widget "+"ui-widget-content "+"ui-corner-all ",C={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},E={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};B.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(C){var A=B(this).css(C).offset().top;if(A<0)B(this).css("top",C.top-A)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string")this.originalTitle="";this.options.title=this.options.title||this.originalTitle;var H=this,L=H.options,E=L.title||"&#160;",J=B.ui.dialog.getTitleId(H.element),C=(H.uiDialog=B("<div></div>")).appendTo(document.body).hide().addClass(D+L.dialogClass).css({zIndex:L.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(A){if(L.closeOnEscape&&!A.isDefaultPrevented()&&A.keyCode&&A.keyCode===B.ui.keyCode.ESCAPE){H.close(A);A.preventDefault()}}).attr({role:"dialog","aria-labelledby":J}).mousedown(function(A){H.moveToTop(false,A)}),G=H.element.show().removeAttr("title").addClass("ui-dialog-content "+"ui-widget-content").appendTo(C),I=(H.uiDialogTitlebar=B("<div></div>")).addClass("ui-dialog-titlebar "+"ui-widget-header "+"ui-corner-all "+"ui-helper-clearfix").prependTo(C),F=B("<a href=\"#\"></a>").addClass("ui-dialog-titlebar-close "+"ui-corner-all").attr("role","button").hover(function(){F.addClass("ui-state-hover")},function(){F.removeClass("ui-state-hover")}).focus(function(){F.addClass("ui-state-focus")}).blur(function(){F.removeClass("ui-state-focus")}).click(function(A){H.close(A);return false}).appendTo(I),A=(H.uiDialogTitlebarCloseText=B("<span></span>")).addClass("ui-icon "+"ui-icon-closethick").text(L.closeText).appendTo(F),K=B("<span></span>").addClass("ui-dialog-title").attr("id",J).html(E).prependTo(I);if(B.isFunction(L.beforeclose)&&!B.isFunction(L.beforeClose))L.beforeClose=L.beforeclose;I.find("*").add(I).disableSelection();if(L.draggable&&B.fn.draggable)H._makeDraggable();if(L.resizable&&B.fn.resizable)H._makeResizable();H._createButtons(L.buttons);H._isOpen=false;if(B.fn.bgiframe)C.bgiframe()},_init:function(){if(this.options.autoOpen)this.open()},destroy:function(){var A=this;if(A.overlay)A.overlay.destroy();A.uiDialog.hide();A.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");A.uiDialog.remove();if(A.originalTitle)A.element.attr("title",A.originalTitle);return A},widget:function(){return this.uiDialog},close:function(A){var E=this,D,C;if(false===E._trigger("beforeClose",A))return;if(E.overlay)E.overlay.destroy();E.uiDialog.unbind("keypress.ui-dialog");E._isOpen=false;if(E.options.hide)E.uiDialog.hide(E.options.hide,function(){E._trigger("close",A)});else{E.uiDialog.hide();E._trigger("close",A)}B.ui.dialog.overlay.resize();if(E.options.modal){D=0;B(".ui-dialog").each(function(){if(this!==E.uiDialog[0]){C=B(this).css("z-index");if(!isNaN(C))D=Math.max(D,C)}});B.ui.dialog.maxZ=D}return E},isOpen:function(){return this._isOpen},moveToTop:function(E,C){var D=this,F=D.options,A;if((F.modal&&!E)||(!F.stack&&!F.modal))return D._trigger("focus",C);if(F.zIndex>B.ui.dialog.maxZ)B.ui.dialog.maxZ=F.zIndex;if(D.overlay){B.ui.dialog.maxZ+=1;D.overlay.$el.css("z-index",B.ui.dialog.overlay.maxZ=B.ui.dialog.maxZ)}A={scrollTop:D.element.scrollTop(),scrollLeft:D.element.scrollLeft()};B.ui.dialog.maxZ+=1;D.uiDialog.css("z-index",B.ui.dialog.maxZ);D.element.attr(A);D._trigger("focus",C);return D},open:function(){if(this._isOpen)return;var C=this,D=C.options,A=C.uiDialog;C.overlay=D.modal?new B.ui.dialog.overlay(C):null;C._size();C._position(D.position);A.show(D.show);C.moveToTop(true);if(D.modal)A.bind("keydown.ui-dialog",function(C){if(C.keyCode!==B.ui.keyCode.TAB)return;var D=B(":tabbable",this),E=D.filter(":first"),A=D.filter(":last");if(C.target===A[0]&&!C.shiftKey){E.focus(1);return false}else if(C.target===E[0]&&C.shiftKey){A.focus(1);return false}});B(C.element.find(":tabbable").get().concat(A.find(".ui-dialog-buttonpane :tabbable").get().concat(A.get()))).eq(0).focus();C._isOpen=true;C._trigger("open");return C},_createButtons:function(E){var D=this,C=false,F=B("<div></div>").addClass("ui-dialog-buttonpane "+"ui-widget-content "+"ui-helper-clearfix"),A=B("<div></div>").addClass("ui-dialog-buttonset").appendTo(F);D.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof E==="object"&&E!==null)B.each(E,function(){return!(C=true)});if(C){B.each(E,function(E,F){F=B.isFunction(F)?{click:F,text:E}:F;var C=B("<button type=\"button\"></button>").click(function(){F.click.apply(D.element[0],arguments)}).appendTo(A);B.each(F,function(B,A){if(B==="click")return;if(B in C)C[B](A);else C.attr(B,A)});if(B.fn.button)C.button()});F.appendTo(D.uiDialog)}},_makeDraggable:function(){var D=this,F=D.options,C=B(document),A;function E(A){return{position:A.position,offset:A.offset}}D.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(G,C){A=F.height==="auto"?"auto":B(this).height();B(this).height(B(this).height()).addClass("ui-dialog-dragging");D._trigger("dragStart",G,E(C))},drag:function(B,A){D._trigger("drag",B,E(A))},stop:function(H,G){F.position=[G.position.left-C.scrollLeft(),G.position.top-C.scrollTop()];B(this).removeClass("ui-dialog-dragging").height(A);D._trigger("dragStop",H,E(G));B.ui.dialog.overlay.resize()}})},_makeResizable:function(G){G=(G===A?this.options.resizable:G);var E=this,H=E.options,C=E.uiDialog.css("position"),D=(typeof G==="string"?G:"n,e,s,w,se,sw,ne,nw");function F(A){return{originalPosition:A.originalPosition,originalSize:A.originalSize,position:A.position,size:A.size}}E.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:E.element,maxWidth:H.maxWidth,maxHeight:H.maxHeight,minWidth:H.minWidth,minHeight:E._minHeight(),handles:D,start:function(C,A){B(this).addClass("ui-dialog-resizing");E._trigger("resizeStart",C,F(A))},resize:function(B,A){E._trigger("resize",B,F(A))},stop:function(C,A){B(this).removeClass("ui-dialog-resizing");H.height=B(this).height();H.width=B(this).width();E._trigger("resizeStop",C,F(A));B.ui.dialog.overlay.resize()}}).css("position",C).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var A=this.options;if(A.height==="auto")return A.minHeight;else return Math.min(A.minHeight,A.height)},_position:function(A){var D=[],E=[0,0],C;if(A){if(typeof A==="string"||(typeof A==="object"&&"0"in A)){D=A.split?A.split(" "):[A[0],A[1]];if(D.length===1)D[1]=D[0];B.each(["left","top"],function(B,A){if(+D[B]===D[B]){E[B]=D[B];D[B]=A}});A={my:D.join(" "),at:D.join(" "),offset:E.join(" ")}}A=B.extend({},B.ui.dialog.prototype.options.position,A)}else A=B.ui.dialog.prototype.options.position;C=this.uiDialog.is(":visible");if(!C)this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(B.extend({of:window},A));if(!C)this.uiDialog.hide()},_setOptions:function(G){var A=this,D={},F=false;B.each(G,function(G,B){A._setOption(G,B);if(G in C)F=true;if(G in E)D[G]=B});if(F)this._size();if(this.uiDialog.is(":data(resizable)"))this.uiDialog.resizable("option",D)},_setOption:function(H,E){var F=this,C=F.uiDialog;switch(H){case"beforeclose":H="beforeClose";break;case"buttons":F._createButtons(E);break;case"closeText":F.uiDialogTitlebarCloseText.text(""+E);break;case"dialogClass":C.removeClass(F.options.dialogClass).addClass(D+E);break;case"disabled":if(E)C.addClass("ui-dialog-disabled");else C.removeClass("ui-dialog-disabled");break;case"draggable":var A=C.is(":data(draggable)");if(A&&!E)C.draggable("destroy");if(!A&&E)F._makeDraggable();break;case"position":F._position(E);break;case"resizable":var G=C.is(":data(resizable)");if(G&&!E)C.resizable("destroy");if(G&&typeof E==="string")C.resizable("option","handles",E);if(!G&&E!==false)F._makeResizable(E);break;case"title":B(".ui-dialog-title",F.uiDialogTitlebar).html(""+(E||"&#160;"));break}B.Widget.prototype._setOption.apply(F,arguments)},_size:function(){var F=this.options,C,D,A=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(F.minWidth>F.width)F.width=F.minWidth;C=this.uiDialog.css({height:"auto",width:F.width}).height();D=Math.max(0,F.minHeight-C);if(F.height==="auto"){if(B.support.minHeight)this.element.css({minHeight:D,height:"auto"});else{this.uiDialog.show();var E=this.element.css("height","auto").height();if(!A)this.uiDialog.hide();this.element.height(Math.max(E,D))}}else this.element.height(Math.max(F.height-C,0));if(this.uiDialog.is(":data(resizable)"))this.uiDialog.resizable("option","minHeight",this._minHeight())}});B.extend(B.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function(B){var A=B.attr("id");if(!A){this.uuid+=1;A=this.uuid}return"ui-dialog-title-"+A},overlay:function(A){this.$el=B.ui.dialog.overlay.create(A)}});B.extend(B.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:B.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(A){return A+".dialog-overlay"}).join(" "),create:function(C){if(this.instances.length===0){setTimeout(function(){if(B.ui.dialog.overlay.instances.length)B(document).bind(B.ui.dialog.overlay.events,function(A){if(B(A.target).zIndex()<B.ui.dialog.overlay.maxZ)return false})},1);B(document).bind("keydown.dialog-overlay",function(A){if(C.options.closeOnEscape&&!A.isDefaultPrevented()&&A.keyCode&&A.keyCode===B.ui.keyCode.ESCAPE){C.close(A);A.preventDefault()}});B(window).bind("resize.dialog-overlay",B.ui.dialog.overlay.resize)}var A=(this.oldInstances.pop()||B("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(B.fn.bgiframe)A.bgiframe();this.instances.push(A);return A},destroy:function(C){var D=B.inArray(C,this.instances);if(D!=-1)this.oldInstances.push(this.instances.splice(D,1)[0]);if(this.instances.length===0)B([document,window]).unbind(".dialog-overlay");C.remove();var A=0;B.each(this.instances,function(){A=Math.max(A,this.css("z-index"))});this.maxZ=A},height:function(){var C,A;if(B.browser.msie&&B.browser.version<7){C=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);A=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(C<A)return B(window).height()+"px";else return C+"px"}else return B(document).height()+"px"},width:function(){var C,A;if(B.browser.msie){C=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);A=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(C<A)return B(window).width()+"px";else return C+"px"}else return B(document).width()+"px"},resize:function(){var A=B([]);B.each(B.ui.dialog.overlay.instances,function(){A=A.add(this)});A.css({width:0,height:0}).css({width:B.ui.dialog.overlay.width(),height:B.ui.dialog.overlay.height()})}});B.extend(B.ui.dialog.overlay.prototype,{destroy:function(){B.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function(E,D){E.ui=E.ui||{};var C=/left|center|right/,G=/top|center|bottom/,A="center",B={},F=E.fn.position,H=E.fn.offset;E.fn.position=function(N){if(!N||!N.of)return F.apply(this,arguments);N=E.extend({},N);var J=E(N.of),L=J[0],M=(N.collision||"flip").split(" "),K=N.offset?N.offset.split(" "):[0,0],H,D,I;if(L.nodeType===9){H=J.width();D=J.height();I={top:0,left:0}}else if(L.setTimeout){H=J.width();D=J.height();I={top:J.scrollTop(),left:J.scrollLeft()}}else if(L.preventDefault){N.at="left top";H=D=0;I={top:N.of.pageY,left:N.of.pageX}}else{H=J.outerWidth();D=J.outerHeight();I=J.offset()}E.each(["my","at"],function(){var B=(N[this]||"").split(" ");if(B.length===1)B=C.test(B[0])?B.concat([A]):G.test(B[0])?[A].concat(B):[A,A];B[0]=C.test(B[0])?B[0]:A;B[1]=G.test(B[1])?B[1]:A;N[this]=B});if(M.length===1)M[1]=M[0];K[0]=parseInt(K[0],10)||0;if(K.length===1)K[1]=K[0];K[1]=parseInt(K[1],10)||0;if(N.at[0]==="right")I.left+=H;else if(N.at[0]===A)I.left+=H/2;if(N.at[1]==="bottom")I.top+=D;else if(N.at[1]===A)I.top+=D/2;I.left+=K[0];I.top+=K[1];return this.each(function(){var G=E(this),P=G.outerWidth(),F=G.outerHeight(),L=parseInt(E.curCSS(this,"marginLeft",true))||0,J=parseInt(E.curCSS(this,"marginTop",true))||0,Q=P+L+(parseInt(E.curCSS(this,"marginRight",true))||0),R=F+J+(parseInt(E.curCSS(this,"marginBottom",true))||0),C=E.extend({},I),O;if(N.my[0]==="right")C.left-=P;else if(N.my[0]===A)C.left-=P/2;if(N.my[1]==="bottom")C.top-=F;else if(N.my[1]===A)C.top-=F/2;if(!B.fractions){C.left=Math.round(C.left);C.top=Math.round(C.top)}O={left:C.left-L,top:C.top-J};E.each(["left","top"],function(B,A){if(E.ui.position[M[B]])E.ui.position[M[B]][A](C,{targetWidth:H,targetHeight:D,elemWidth:P,elemHeight:F,collisionPosition:O,collisionWidth:Q,collisionHeight:R,offset:K,my:N.my,at:N.at})});if(E.fn.bgiframe)G.bgiframe();G.offset(E.extend(C,{using:N.using}))})};E.ui.position={fit:{left:function(A,C){var D=E(window),B=C.collisionPosition.left+C.collisionWidth-D.width()-D.scrollLeft();A.left=B>0?A.left-B:Math.max(A.left-C.collisionPosition.left,A.left)},top:function(A,C){var D=E(window),B=C.collisionPosition.top+C.collisionHeight-D.height()-D.scrollTop();A.top=B>0?A.top-B:Math.max(A.top-C.collisionPosition.top,A.top)}},flip:{left:function(B,F){if(F.at[0]===A)return;var H=E(window),C=F.collisionPosition.left+F.collisionWidth-H.width()-H.scrollLeft(),D=F.my[0]==="left"?-F.elemWidth:F.my[0]==="right"?F.elemWidth:0,G=F.at[0]==="left"?F.targetWidth:-F.targetWidth,I=-2*F.offset[0];B.left+=F.collisionPosition.left<0?D+G+I:C>0?D+G+I:0},top:function(B,F){if(F.at[1]===A)return;var H=E(window),C=F.collisionPosition.top+F.collisionHeight-H.height()-H.scrollTop(),D=F.my[1]==="top"?-F.elemHeight:F.my[1]==="bottom"?F.elemHeight:0,G=F.at[1]==="top"?F.targetHeight:-F.targetHeight,I=-2*F.offset[1];B.top+=F.collisionPosition.top<0?D+G+I:C>0?D+G+I:0}}};if(!E.offset.setOffset){E.offset.setOffset=function(A,H){if(/static/.test(E.curCSS(A,"position")))A.style.position="relative";var F=E(A),B=F.offset(),D=parseInt(E.curCSS(A,"top",true),10)||0,C=parseInt(E.curCSS(A,"left",true),10)||0,G={top:(H.top-B.top)+D,left:(H.left-B.left)+C};if("using"in H)H.using.call(A,G);else F.css(G)};E.fn.offset=function(B){var A=this[0];if(!A||!A.ownerDocument)return null;if(B){if(E.isFunction(B))return this.each(function(A){E(this).offset(B.call(this,A,E(this).offset()))});return this.each(function(){E.offset.setOffset(this,B)})}return H.call(this)}}if(!E.curCSS)E.curCSS=E.css;(function(){var A=document.getElementsByTagName("body")[0],F=document.createElement("div"),C,I,D,H,G;C=document.createElement(A?"div":"body");D={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(A)E.extend(D,{position:"absolute",left:"-1000px",top:"-1000px"});for(var J in D)C.style[J]=D[J];C.appendChild(F);I=A||document.documentElement;I.insertBefore(C,I.firstChild);F.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";H=E(F).offset(function(A,B){return B}).offset();C.innerHTML="";I.removeChild(C);G=H.top+H.left+(A?2000:0);B.fractions=G>21&&G<22})()}(jQuery));(function(B,A){B.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=B("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();B.Widget.prototype.destroy.apply(this,arguments)},value:function(B){if(B===A)return this._value();this._setOption("value",B);return this},_setOption:function(C,A){if(C==="value"){this.options.value=A;this._refreshValue();if(this._value()===this.options.max)this._trigger("complete")}B.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var A=this.options.value;if(typeof A!=="number")A=0;return Math.min(this.options.max,Math.max(this.min,A))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var B=this.value(),A=this._percentage();if(this.oldValue!==B){this.oldValue=B;this._trigger("change")}this.valueDiv.toggle(B>this.min).toggleClass("ui-corner-right",B===this.options.max).width(A.toFixed(0)+"%");this.element.attr("aria-valuenow",B)}});B.extend(B.ui.progressbar,{version:"1.8.23"})})(jQuery);(function(B,A){var C=5;B.widget("ui.slider",B.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var F=this,E=this.options,G=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),A="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",D=(E.values&&E.values.length)||1,H=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(E.disabled?" ui-slider-disabled ui-disabled":""));this.range=B([]);if(E.range){if(E.range===true){if(!E.values)E.values=[this._valueMin(),this._valueMin()];if(E.values.length&&E.values.length!==2)E.values=[E.values[0],E.values[0]]}this.range=B("<div></div>").appendTo(this.element).addClass("ui-slider-range"+" ui-widget-header"+((E.range==="min"||E.range==="max")?" ui-slider-range-"+E.range:""))}for(var I=G.length;I<D;I+=1)H.push(A);this.handles=G.add(B(H.join("")).appendTo(F.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(A){A.preventDefault()}).hover(function(){if(!E.disabled)B(this).addClass("ui-state-hover")},function(){B(this).removeClass("ui-state-hover")}).focus(function(){if(!E.disabled){B(".ui-slider .ui-state-focus").removeClass("ui-state-focus");B(this).addClass("ui-state-focus")}else B(this).blur()}).blur(function(){B(this).removeClass("ui-state-focus")});this.handles.each(function(A){B(this).data("index.ui-slider-handle",A)});this.handles.keydown(function(G){var D=B(this).data("index.ui-slider-handle"),A,H,E,I;if(F.options.disabled)return;switch(G.keyCode){case B.ui.keyCode.HOME:case B.ui.keyCode.END:case B.ui.keyCode.PAGE_UP:case B.ui.keyCode.PAGE_DOWN:case B.ui.keyCode.UP:case B.ui.keyCode.RIGHT:case B.ui.keyCode.DOWN:case B.ui.keyCode.LEFT:G.preventDefault();if(!F._keySliding){F._keySliding=true;B(this).addClass("ui-state-active");A=F._start(G,D);if(A===false)return}break}I=F.options.step;if(F.options.values&&F.options.values.length)H=E=F.values(D);else H=E=F.value();switch(G.keyCode){case B.ui.keyCode.HOME:E=F._valueMin();break;case B.ui.keyCode.END:E=F._valueMax();break;case B.ui.keyCode.PAGE_UP:E=F._trimAlignValue(H+((F._valueMax()-F._valueMin())/C));break;case B.ui.keyCode.PAGE_DOWN:E=F._trimAlignValue(H-((F._valueMax()-F._valueMin())/C));break;case B.ui.keyCode.UP:case B.ui.keyCode.RIGHT:if(H===F._valueMax())return;E=F._trimAlignValue(H+I);break;case B.ui.keyCode.DOWN:case B.ui.keyCode.LEFT:if(H===F._valueMin())return;E=F._trimAlignValue(H-I);break}F._slide(G,D,E)}).keyup(function(C){var A=B(this).data("index.ui-slider-handle");if(F._keySliding){F._keySliding=false;F._stop(C,A);F._change(C,A);B(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-slider-disabled"+" ui-widget"+" ui-widget-content"+" ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(H){var I=this.options,C,F,E,L,J,D,A,K,G;if(I.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();C={x:H.pageX,y:H.pageY};F=this._normValueFromMouse(C);E=this._valueMax()-this._valueMin()+1;J=this;this.handles.each(function(C){var A=Math.abs(F-J.values(C));if(E>A){E=A;L=B(this);D=C}});if(I.range===true&&this.values(1)===I.min){D+=1;L=B(this.handles[D])}A=this._start(H,D);if(A===false)return false;this._mouseSliding=true;J._handleIndex=D;L.addClass("ui-state-active").focus();K=L.offset();G=!B(H.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=G?{left:0,top:0}:{left:H.pageX-K.left-(L.width()/2),top:H.pageY-K.top-(L.height()/2)-(parseInt(L.css("borderTopWidth"),10)||0)-(parseInt(L.css("borderBottomWidth"),10)||0)+(parseInt(L.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover"))this._slide(H,D,F);this._animateOff=true;return true},_mouseStart:function(A){return true},_mouseDrag:function(C){var A={x:C.pageX,y:C.pageY},B=this._normValueFromMouse(A);this._slide(C,this._handleIndex,B);return false},_mouseStop:function(A){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(A,this._handleIndex);this._change(A,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(A){var D,B,F,C,E;if(this.orientation==="horizontal"){D=this.elementSize.width;B=A.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{D=this.elementSize.height;B=A.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}F=(B/D);if(F>1)F=1;if(F<0)F=0;if(this.orientation==="vertical")F=1-F;C=this._valueMax()-this._valueMin();E=this._valueMin()+F*C;return this._trimAlignValue(E)},_start:function(B,A){var C={handle:this.handles[A],value:this.value()};if(this.options.values&&this.options.values.length){C.value=this.values(A);C.values=this.values()}return this._trigger("start",B,C)},_slide:function(E,B,C){var F,D,A;if(this.options.values&&this.options.values.length){F=this.values(B?0:1);if((this.options.values.length===2&&this.options.range===true)&&((B===0&&C>F)||(B===1&&C<F)))C=F;if(C!==this.values(B)){D=this.values();D[B]=C;A=this._trigger("slide",E,{handle:this.handles[B],value:C,values:D});F=this.values(B?0:1);if(A!==false)this.values(B,C,true)}}else if(C!==this.value()){A=this._trigger("slide",E,{handle:this.handles[B],value:C});if(A!==false)this.value(C)}},_stop:function(B,A){var C={handle:this.handles[A],value:this.value()};if(this.options.values&&this.options.values.length){C.value=this.values(A);C.values=this.values()}this._trigger("stop",B,C)},_change:function(B,A){if(!this._keySliding&&!this._mouseSliding){var C={handle:this.handles[A],value:this.value()};if(this.options.values&&this.options.values.length){C.value=this.values(A);C.values=this.values()}this._trigger("change",B,C)}},value:function(A){if(arguments.length){this.options.value=this._trimAlignValue(A);this._refreshValue();this._change(null,0);return}return this._value()},values:function(C,A){var E,D,F;if(arguments.length>1){this.options.values[C]=this._trimAlignValue(A);this._refreshValue();this._change(null,C);return}if(arguments.length){if(B.isArray(arguments[0])){E=this.options.values;D=arguments[0];for(F=0;F<E.length;F+=1){E[F]=this._trimAlignValue(D[F]);this._change(null,F)}this._refreshValue()}else if(this.options.values&&this.options.values.length)return this._values(C);else return this.value()}else return this._values()},_setOption:function(D,C){var E,A=0;if(B.isArray(this.options.values))A=this.options.values.length;B.Widget.prototype._setOption.apply(this,arguments);switch(D){case"disabled":if(C){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.propAttr("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.propAttr("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(E=0;E<A;E+=1)this._change(null,E);this._animateOff=false;break}},_value:function(){var A=this.options.value;A=this._trimAlignValue(A);return A},_values:function(B){var A,C,D;if(arguments.length){A=this.options.values[B];A=this._trimAlignValue(A);return A}else{C=this.options.values.slice();for(D=0;D<C.length;D+=1)C[D]=this._trimAlignValue(C[D]);return C}},_trimAlignValue:function(B){if(B<=this._valueMin())return this._valueMin();if(B>=this._valueMax())return this._valueMax();var D=(this.options.step>0)?this.options.step:1,C=(B-this._valueMin())%D,A=B-C;if(Math.abs(C)*2>=D)A+=(C>0)?D:(-D);return parseFloat(A.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var A=this.options.range,F=this.options,G=this,C=(!this._animateOff)?F.animate:false,K,H={},D,E,J,I;if(this.options.values&&this.options.values.length)this.handles.each(function(E,A){K=(G.values(E)-G._valueMin())/(G._valueMax()-G._valueMin())*100;H[G.orientation==="horizontal"?"left":"bottom"]=K+"%";B(this).stop(1,1)[C?"animate":"css"](H,F.animate);if(G.options.range===true)if(G.orientation==="horizontal"){if(E===0)G.range.stop(1,1)[C?"animate":"css"]({left:K+"%"},F.animate);if(E===1)G.range[C?"animate":"css"]({width:(K-D)+"%"},{queue:false,duration:F.animate})}else{if(E===0)G.range.stop(1,1)[C?"animate":"css"]({bottom:(K)+"%"},F.animate);if(E===1)G.range[C?"animate":"css"]({height:(K-D)+"%"},{queue:false,duration:F.animate})}D=K});else{E=this.value();J=this._valueMin();I=this._valueMax();K=(I!==J)?(E-J)/(I-J)*100:0;H[G.orientation==="horizontal"?"left":"bottom"]=K+"%";this.handle.stop(1,1)[C?"animate":"css"](H,F.animate);if(A==="min"&&this.orientation==="horizontal")this.range.stop(1,1)[C?"animate":"css"]({width:K+"%"},F.animate);if(A==="max"&&this.orientation==="horizontal")this.range[C?"animate":"css"]({width:(100-K)+"%"},{queue:false,duration:F.animate});if(A==="min"&&this.orientation==="vertical")this.range.stop(1,1)[C?"animate":"css"]({height:K+"%"},F.animate);if(A==="max"&&this.orientation==="vertical")this.range[C?"animate":"css"]({height:(100-K)+"%"},{queue:false,duration:F.animate})}}});B.extend(B.ui.slider,{version:"1.8.23"})}(jQuery));(function(D,C){var F=0,B=0;function A(){return++F}function E(){return++B}D.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(B,A){if(B=="selected"){if(this.options.collapsible&&A==this.options.selected)return;this.select(A)}else{this.options[B]=A;this._tabify()}},_tabId:function(B){return B.title&&B.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+A()},_sanitizeSelector:function(A){return A.replace(/:/g,"\\:")},_cookie:function(){var A=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+E());return D.cookie.apply(null,[A].concat(D.makeArray(arguments)))},_ui:function(B,A){return{tab:B,panel:A,index:this.anchors.index(B)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var A=D(this);A.html(A.data("label.tabs")).removeData("label.tabs")})},_tabify:function(F){var J=this,G=this.options,E=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=D(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return D("a",this)[0]});this.panels=D([]);this.anchors.each(function(K,F){var I=D(F).attr("href"),H=I.split("#")[0],B;if(H&&(H===location.toString().split("#")[0]||(B=D("base")[0])&&H===B.href)){I=F.hash;F.href=I}if(E.test(I))J.panels=J.panels.add(J.element.find(J._sanitizeSelector(I)));else if(I&&I!=="#"){D.data(F,"href.tabs",I);D.data(F,"load.tabs",I.replace(/#.*$/,""));var A=J._tabId(F);F.href="#"+A;var C=J.element.find("#"+A);if(!C.length){C=D(G.panelTemplate).attr("id",A).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(J.panels[K-1]||J.list);C.data("destroy.tabs",true)}J.panels=J.panels.add(C)}else G.disabled.push(K)});if(F){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(G.selected===C){if(location.hash)this.anchors.each(function(B,A){if(A.hash==location.hash){G.selected=B;return false}});if(typeof G.selected!=="number"&&G.cookie)G.selected=parseInt(J._cookie(),10);if(typeof G.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length)G.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));G.selected=G.selected||(this.lis.length?0:-1)}else if(G.selected===null)G.selected=-1;G.selected=((G.selected>=0&&this.anchors[G.selected])||G.selected<0)?G.selected:0;G.disabled=D.unique(G.disabled.concat(D.map(this.lis.filter(".ui-state-disabled"),function(A,B){return J.lis.index(A)}))).sort();if(D.inArray(G.selected,G.disabled)!=-1)G.disabled.splice(D.inArray(G.selected,G.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(G.selected>=0&&this.anchors.length){J.element.find(J._sanitizeSelector(J.anchors[G.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(G.selected).addClass("ui-tabs-selected ui-state-active");J.element.queue("tabs",function(){J._trigger("show",null,J._ui(J.anchors[G.selected],J.element.find(J._sanitizeSelector(J.anchors[G.selected].hash))[0]))});this.load(G.selected)}D(window).bind("unload",function(){J.lis.add(J.anchors).unbind(".tabs");J.lis=J.anchors=J.panels=null})}else G.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[G.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(G.cookie)this._cookie(G.selected,G.cookie);for(var K=0,M;(M=this.lis[K]);K++)D(M)[D.inArray(K,G.disabled)!=-1&&!D(M).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");if(G.cache===false)this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(G.event!=="mouseover"){var O=function(B,A){if(A.is(":not(.ui-state-disabled)"))A.addClass("ui-state-"+B)},L=function(B,A){A.removeClass("ui-state-"+B)};this.lis.bind("mouseover.tabs",function(){O("hover",D(this))});this.lis.bind("mouseout.tabs",function(){L("hover",D(this))});this.anchors.bind("focus.tabs",function(){O("focus",D(this).closest("li"))});this.anchors.bind("blur.tabs",function(){L("focus",D(this).closest("li"))})}var H,N;if(G.fx)if(D.isArray(G.fx)){H=G.fx[0];N=G.fx[1]}else H=N=G.fx;function B(B,A){B.css("display","");if(!D.support.opacity&&A.opacity)B[0].style.removeAttribute("filter")}var I=N?function(C,A){D(C).closest("li").addClass("ui-tabs-selected ui-state-active");A.hide().removeClass("ui-tabs-hide").animate(N,N.duration||"normal",function(){B(A,N);J._trigger("show",null,J._ui(C,A[0]))})}:function(B,A){D(B).closest("li").addClass("ui-tabs-selected ui-state-active");A.removeClass("ui-tabs-hide");J._trigger("show",null,J._ui(B,A[0]))},A=H?function(C,A){A.animate(H,H.duration||"normal",function(){J.lis.removeClass("ui-tabs-selected ui-state-active");A.addClass("ui-tabs-hide");B(A,H);J.element.dequeue("tabs")})}:function(C,B,A){J.lis.removeClass("ui-tabs-selected ui-state-active");B.addClass("ui-tabs-hide");J.element.dequeue("tabs")};this.anchors.bind(G.event+".tabs",function(){var B=this,E=D(B).closest("li"),F=J.panels.filter(":not(.ui-tabs-hide)"),C=J.element.find(J._sanitizeSelector(B.hash));if((E.hasClass("ui-tabs-selected")&&!G.collapsible)||E.hasClass("ui-state-disabled")||E.hasClass("ui-state-processing")||J.panels.filter(":animated").length||J._trigger("select",null,J._ui(this,C[0]))===false){this.blur();return false}G.selected=J.anchors.index(this);J.abort();if(G.collapsible)if(E.hasClass("ui-tabs-selected")){G.selected=-1;if(G.cookie)J._cookie(G.selected,G.cookie);J.element.queue("tabs",function(){A(B,F)}).dequeue("tabs");this.blur();return false}else if(!F.length){if(G.cookie)J._cookie(G.selected,G.cookie);J.element.queue("tabs",function(){I(B,C)});J.load(J.anchors.index(this));this.blur();return false}if(G.cookie)J._cookie(G.selected,G.cookie);if(C.length){if(F.length)J.element.queue("tabs",function(){A(B,F)});J.element.queue("tabs",function(){I(B,C)});J.load(J.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";if(D.browser.msie)this.blur()});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(A){if(typeof A=="string")A=this.anchors.index(this.anchors.filter("[href$='"+A+"']"));return A},destroy:function(){var A=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var B=D.data(this,"href.tabs");if(B)this.href=B;var A=D(this).unbind(".tabs");D.each(["href","load","cache"],function(C,B){A.removeData(B+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if(D.data(this,"destroy.tabs"))D(this).remove();else D(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))});if(A.cookie)this._cookie(null,A.cookie);return this},add:function(J,H,B){if(B===C)B=this.anchors.length;var G=this,F=this.options,I=D(F.tabTemplate.replace(/#\{href\}/g,J).replace(/#\{label\}/g,H)),A=!J.indexOf("#")?J.replace("#",""):this._tabId(D("a",I)[0]);I.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var E=G.element.find("#"+A);if(!E.length)E=D(F.panelTemplate).attr("id",A).data("destroy.tabs",true);E.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(B>=this.lis.length){I.appendTo(this.list);E.appendTo(this.list[0].parentNode)}else{I.insertBefore(this.lis[B]);E.insertBefore(this.panels[B])}F.disabled=D.map(F.disabled,function(A,C){return A>=B?++A:A});this._tabify();if(this.anchors.length==1){F.selected=0;I.addClass("ui-tabs-selected ui-state-active");E.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){G._trigger("show",null,G._ui(G.anchors[0],G.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[B],this.panels[B]));return this},remove:function(A){A=this._getIndex(A);var C=this.options,E=this.lis.eq(A).remove(),B=this.panels.eq(A).remove();if(E.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(A+(A+1<this.anchors.length?1:-1));C.disabled=D.map(D.grep(C.disabled,function(B,C){return B!=A}),function(B,C){return B>=A?--B:B});this._tabify();this._trigger("remove",null,this._ui(E.find("a")[0],B[0]));return this},enable:function(A){A=this._getIndex(A);var B=this.options;if(D.inArray(A,B.disabled)==-1)return;this.lis.eq(A).removeClass("ui-state-disabled");B.disabled=D.grep(B.disabled,function(B,C){return B!=A});this._trigger("enable",null,this._ui(this.anchors[A],this.panels[A]));return this},disable:function(A){A=this._getIndex(A);var C=this,B=this.options;if(A!=B.selected){this.lis.eq(A).addClass("ui-state-disabled");B.disabled.push(A);B.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[A],this.panels[A]))}return this},select:function(A){A=this._getIndex(A);if(A==-1)if(this.options.collapsible&&this.options.selected!=-1)A=this.options.selected;else return this;this.anchors.eq(A).trigger(this.options.event+".tabs");return this},load:function(A){A=this._getIndex(A);var E=this,C=this.options,B=this.anchors.eq(A)[0],F=D.data(B,"load.tabs");this.abort();if(!F||this.element.queue("tabs").length!==0&&D.data(B,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(A).addClass("ui-state-processing");if(C.spinner){var G=D("span",B);G.data("label.tabs",G.html()).html(C.spinner)}this.xhr=D.ajax(D.extend({},C.ajaxOptions,{url:F,success:function(H,G){E.element.find(E._sanitizeSelector(B.hash)).html(H);E._cleanup();if(C.cache)D.data(B,"cache.tabs",true);E._trigger("load",null,E._ui(E.anchors[A],E.panels[A]));try{C.ajaxOptions.success(H,G)}catch(F){}},error:function(G,F,D){E._cleanup();E._trigger("load",null,E._ui(E.anchors[A],E.panels[A]));try{C.ajaxOptions.error(G,F,A,B)}catch(D){}}}));E.element.dequeue("tabs");return this},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(A,B){this.anchors.eq(A).removeData("cache.tabs").data("load.tabs",B);return this},length:function(){return this.anchors.length}});D.extend(D.ui.tabs,{version:"1.8.23"});D.extend(D.ui.tabs.prototype,{rotation:null,rotate:function(D,C){var F=this,E=this.options,B=F._rotate||(F._rotate=function(A){clearTimeout(F.rotation);F.rotation=setTimeout(function(){var A=E.selected;F.select(++A<F.anchors.length?A:0)},D);if(A)A.stopPropagation()}),A=F._unrotate||(F._unrotate=!C?function(A){if(A.clientX)F.rotate(null)}:function(A){B()});if(D){this.element.bind("tabsshow",B);this.anchors.bind(E.event+".tabs",A);B()}else{clearTimeout(F.rotation);this.element.unbind("tabsshow",B);this.anchors.unbind(E.event+".tabs",A);delete this._rotate;delete this._unrotate}return this}})})(jQuery);(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"};$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(F){if(F===null)return"null";var H=typeof F;if(H==="undefined")return undefined;if(H==="number"||H==="boolean")return""+F;if(H==="string")return $.quoteString(F);if(H==="object"){if(typeof F.toJSON==="function")return $.toJSON(F.toJSON());if(F.constructor===Date){var M=F.getUTCMonth()+1,O=F.getUTCDate(),N=F.getUTCFullYear(),E=F.getUTCHours(),C=F.getUTCMinutes(),K=F.getUTCSeconds(),G=F.getUTCMilliseconds();if(M<10)M="0"+M;if(O<10)O="0"+O;if(E<10)E="0"+E;if(C<10)C="0"+C;if(K<10)K="0"+K;if(G<100)G="0"+G;if(G<10)G="0"+G;return"\""+N+"-"+M+"-"+O+"T"+E+":"+C+":"+K+"."+G+"Z\""}if(F.constructor===Array){var B=[];for(var J=0;J<F.length;J++)B.push($.toJSON(F[J])||"null");return"["+B.join(",")+"]"}var L,A,D=[];for(var I in F){H=typeof I;if(H==="number")L="\""+I+"\"";else if(H==="string")L=$.quoteString(I);else continue;H=typeof F[I];if(H==="function"||H==="undefined")continue;A=$.toJSON(F[I]);D.push(L+":"+A)}return"{"+D.join(",")+"}"}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");else throw new SyntaxError("Error parsing JSON, source is not valid.")};$.quoteString=function(A){if(A.match(escapeable))return"\""+A.replace(escapeable,function(B){var A=meta[B];if(typeof A==="string")return A;A=B.charCodeAt();return"\\u00"+Math.floor(A/16).toString(16)+(A%16).toString(16)})+"\"";return"\""+A+"\""}})(jQuery);(function($,global){$.wx=$.wx||{};var wx=$.wx,scripts=document.getElementsByTagName("script"),JSGLOBAL_PATH="/_js/ext/jquery/jquery.";for(i=0;i<scripts.length;i++)if(scripts[i].src.indexOf(JSGLOBAL_PATH)>=0){var src=scripts[i].src,pos=0;if(src.indexOf("http://")==0||src.indexOf("https://")==0)pos=src.indexOf("/","https://".length);wx.CONTEXT_PATH=src.substring(pos,scripts[i].src.indexOf(JSGLOBAL_PATH))}if(!global.js){global.js={};global.js.CONTEXT_PATH=wx.CONTEXT_PATH}wx.pages={lookupOne:"/_tpl/app/select_one/lookup_win.jsp?"};$.ajaxSetup({dataFilter:function(B,A){if(A=="json"&&typeof(B)=="string")if(B.indexOf("for(;;);")==0)B=B.substring("for(;;);".length);return B}});function json_decode(A){if(!A)return A;if(A.indexOf("for(;;);")==0)A=A.substring("for(;;);".length);return $.parseJSON(A)}function shallow_copy(A){if($.isArray(A))return A.slice(0,A.length);if($.type(A)=="object")return $.extend({},A);return A}function merge_param(B,A){if(B===undefined)return shallow_copy(A);if(!$.isArray(B))B=[B];B=B.slice(0,B.length);if($.isArray(A))return $.merge(B,A);else{B.push(A);return B}}function append_array(B,A){if(!B)B=[];else if(!$.isArray(B))B=[B];if(A===null)return B;if(!$.isArray(A))A=[A];B=$.merge(B,A);return A}function $A(C){if(!C)return[];if("toArray"in C)return C.toArray();var B=C.length||0,A=new Array(B);while(B--)A[B]=C[B];return A}wx.$A=$A;function encode_query_string(E){var B=[];for(var C in E){var A=E[C],F=encodeURIComponent(C);if($.isArray(A)){for(var G=0;G<A.length;G++){var D=encodeURIComponent(A[G]||"");B.push(F+"="+D)}}else{D=encodeURIComponent(A||"");B.push(F+"="+D)}}return B.join("&")}function get_value_list(B,D){if(!B)return[];if($.type(B)=="string")return B.split(",");if(!D)D="value";var E,C=B.length,A=new Array(C);for(E=0;E<C;E++)A[E]=($.type(B[E])=="object"&&D in B[E])?B[E][D]:B[E];return A}wx.get_value_list=get_value_list;function build_value_text(A,D){if(!D)D="text";var E=$.type(A);if(E=="array"){var B="";for(var F=0;F<A.length;F++){var C=A[F];if($.type(C)=="object"&&D in C)B+=C[D];else B+=C||"";if(F!=A.length)B+=","}}else if(E=="object")return D in A?A[D]:A.toString();else if(E=="number")return A.toString();else return A||""}wx.build_value_text=build_value_text;if(!Function.prototype.bind)Function.prototype.bind=function(){if(arguments.length<2&&arguments[0]===undefined)return this;var A=this,B=$A(arguments),C=B.shift();return function(){return A.apply(C,B.concat($A(arguments)))}};if(!Function.prototype.defer)Function.prototype.defer=function(){var A=this,B=$A(arguments);return setTimeout(function(){return A.apply(A,B)},10)};if(!Function.prototype.forDefer)Function.prototype.forDefer=function(){var A=this;return function(){return A.defer()}};var Class;if(!Class){this.Class=Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};Object.extend=function(B,A){for(var C in A)B[C]=A[C];return B}}wx.AjaxBase=Class.create();wx.pages={pageJson:"/json.jsp?",pageTplView:"/std/entity/tpl_view.jsp?",pageShow:"/std/entity/show.jsp?"};$.extend(wx.AjaxBase.prototype,{initialize:function(){this.params={};this.options={};this.valid=true},addParam:function(B,C){if(arguments.length==2)this.params[B]=merge_param(this.params[B],C);else{var A=B;for(var D in A)this.params[D]=merge_param(this.params[D],A[D])}return this},addForm:function(A,B){if(!B)if(!wx.validContainer(A)){this.valid=false;return this}return this.addParam(wx.serialize(A))},setParam:function(B,C){if(arguments.length==2)this.params[B]=C;else{var A=B;for(var D in A)this.params[D]=A[D]}return this},removeParam:function(A){if(!$.isArray(A))A=[A];for(var B in A)delete this.params[B];return this},clearParams:function(){this.params={};return this},removeParamWithPrefix:function(A){for(var B in this.params)if(B.indexOf(A)==0)delete this.params[B];return this},removePersistParams:function(){this.removeParamWithPrefix("$")},hasParam:function(A){return A in this.params},getParams:function(){var A={};for(var C in this.params){var B=this.params[C];if($.isFunction(B))B=B();A[C]=B}return A},copy:function(A){var B=new this.constructor();$.extend(B,this);B.params=$.extend(true,{},B.params);if(A)B.removePersistParams();return B},mixin:function(A){var B=this.options;$.extend(this,A);this.options=$.extend(B,A.options);return this},setObjectName:function(A){return this.setParam("objectName",A)},setObjectEvent:function(A){return this.setParam("objectEvent",A)},setTplPart:function(A){return this.setParam("tplPart",A)},setBizAction:function(A){this.setParam("objectEvent","BizAction");this.setParam("_bizActionId",A);return this},buildRequestData:function(A,C){var B=this.options[A]||wx.pages[A];B=B?wx.CONTEXT_PATH+B:A;var D=this.getParams();if(B.indexOf("{")>=0)B=B.replace(/{([^}]*)}/g,function(B){var A=D[B];delete[B];return A});var E=["UTF8Request","objectName","objectEvent","$bizId","_bizActionId","tplPart"];if(B[B.length-1]!="?"&&B[B.length-1]!="&")B+="&";B+=$.map(E,function(B,C){if(B in D){var A=D[B];delete D[B];return B+"="+encodeURIComponent(A||"")}}).join("&");return{url:B,params:D}},buildGetUrl:function(A){var B=this.buildRequestData(A),D=B.url,C=encode_query_string(B.params);if(C)D+="&"+C;return D}});function by_id(A){if(!A)return;if($.type(A)==="string")return document.getElementById(A);return A}wx.byId=by_id;wx.InfoPane=function(A){this.show=function(){$("#"+A).show()};this.hide=function(){$("#"+A).hide()};this.setContent=function(B,E){var C=by_id(A);if(!C)return;var D=by_id(A+"-content");if(D)$(D).updateHtml(B);else $(C).updateHtml(B);if(E)this.show()}};wx.SubmitPane=function(){var A=0;this.show=function(){A++;$("#ajax-submit-pane").dialog({modal:true}).show()};this.hide=function(){A--;if(A<=0)$("#ajax-submit-pane").dialog().hide()}};wx.ajaxExceptionHandlers=[];wx.regAjaxExceptionHandler=function(A){wx.ajaxExceptionHandlers.push(A)};wx.unregAjaxExceptionHandler=function(A){wx.removeInArray(wx.ajaxExceptionHandlers,A)};var PROPS_SEPARATOR="<div style='display:none'>@@@!edu.thu.web.UiProps!@@@";function wx_update_props(A){var B=(A||"").split(PROPS_SEPARATOR),A=B[0];if(B[1]){var C=json_decode(B[1]);if(window.set_props)window.set_props(C)}return A}wx.Ajax=Class.create();$.extend(wx.Ajax.prototype,wx.AjaxBase.prototype);$.extend(wx.Ajax.prototype,{initialize:function(A){this.options=$.extend({},wx.pages);this.options.loadingPane=new wx.InfoPane("ajax-submit-pane");this.options.failPane=new wx.InfoPane("ajax-fail-pane");this.options=$.extend(this.options,A||{});this.params={};this.onComplete=[];this.onSuccess=[];this.onFailure=[];this.constructor=wx.Ajax;this.async=true;this.valid=true},setFailPane:function(A){this.options.failPane=A;return this},setLoadingPane:function(A){this.options.loadingPane=A;return this},setContentType:function(A){this.contentType=A;return this},setUrl:function(A){this.url=A;return this},setHandler:function(A){this.handler=A;return this},setOnComplete:function(A){this.onComplete=append_array([],A);return this},setOnSuccess:function(A){this.onSuccess=append_array([],A);return this},setOnFailure:function(A){this.onFailure=append_array([],A);return this},addOnComplete:function(A){this.onComplete=append_array(this.onComplete,A);return this},addOnSuccess:function(A){this.onSuccess=append_array(this.onSuccess,A);return this},addOnFailure:function(A){this.onFailure=append_array(this.onFailure,A);return this},_handleSuccess:function(A){this._runOnSuccess(A)},_handleFailure:function(A,D){var C=D.getResponseHeader("WX-ERRORCODE");for(var E=0,B=wx.ajaxExceptionHandlers.length;E<B;E++)if(wx.ajaxExceptionHandlers[E](C,A,D)===true)return;this.options.failPane.setContent(D.responseText);this._runOnFailure(C,A,D)},_runOnSuccess:function(A){var B=this;$.each(B.onSuccess,function(C,D){D.call(B,A)});$.each(B.onComplete,function(C,D){D.call(B,A)})},_runOnFailure:function(A){var B=this;$.each(B.onFailure,function(C){C.apply(B,A)})},send:function(){if(!this.valid)return jQuery.Deferred();return this._send()},_send:function(){var C=this.options.loadingPane,F=this.url;if(!F)F="pageJson";var A=new Date((new Date()).getTime()+1000);document.cookie="wxlib=wxlib;expires="+A.toGMTString();var B=this.buildRequestData(F),E=this,D=$.ajax(B.url,{asyn:this.async,type:this.type||"POST",dataType:"html",headers:{"X-Requested-With":"XMLHttpRequest"},data:encode_query_string(B.params),beforeSend:function(){if(C)C.show()},success:function(F,A,D){F=wx_update_props(F);try{if(E.contentType=="json")F=json_decode(F);E.result=F;E.handler(F);E._handleSuccess(F,D)}catch(B){if(C)C.hide();throw B}if(C)C.hide()},error:function(C,A,B){E._handleFailure(B,C)},complete:function(B,A){if(C)C.hide()}});return D},callRemote:function(B){this.contentType="json";this.handler=function(A){if(B)B(A)};if(!B)this.async=false;var A=this.send();if(!B)return this.result;return A},request:function(A){this.contentType="html";this.handler=function(B){A(B)};return this.send()},updateContent:function(B){if(arguments.length>1){var A=$A(arguments);this.handler=function(C){var B=(/<tplPart>(.*)<\/tplPart>/g).exec(C).splice(1);for(var D=0;D<A.length;D++)if(A[D].setContent)A[D].setContent(B[D]);else $(by_id(A[D])).updateHtml(C)}}else this.handler=function(A){$(by_id(B)).updateHtml(A)};return this.send()}});function wx_get_hook(A){return wx.wxHooks[A.getAttribute("data-wx-type")]||wx.wxHooks[A.type]||wx.wxHooks[A.nodeName.toLowerCase()]}function wx_get_text_el(A){return by_id(A.getAttribute("textId"))}wx.wxHooks={"select-one":{getWxValue:function(B){var A=B.selectedIndex;if(A>-1)return{text:B.options[A].text,value:B.options[A].value}},setWxValue:function(A,B){if($.type(B)=="object"&&"value"in B)B=B.value;$(A).val(B)},getPostData:function(B){var A=B.selectedIndex;if(A>-1)return B.options[A].value},changeEvent:"change"},"select-multiple":{getWxValue:function(B){var A=[];$.each(B.options,function(){if(this.selected)A.push({text:this.text,value:this.value})});return A},setWxValue:function(A,B){B=get_value_list(B);$(A).val(B)},getPostData:function(B){var A=[];$.each(B.options,function(){if(this.selected)A.push(this.value)});return A},changeEvent:"change"},"select-all":{getWxValue:function(A){return $.map(A.options,function(){return{text:this.text,value:this.value}})},setWxValue:function(B,D){D=get_list_value(D);var A=B.options;while(A.length>0)A[A.length]=null;var F,C=D.length;for(F=0;F<C;F++){var E=new Option(D[F].text||"",D[F].value||"");A[A.length]=E}},getPostData:function(A){return $.map(A.options,function(){return this.value})},changeEvent:"change"},radio:{getWxValue:function(B){var A=B.form||window.document;return $("[name="+B.name+":checked]",A).val()},setWxValue:function(B,C){if($.type(C)=="object"&&"value"in C)C=C.value;var A=B.form||window.document;$("[name="+B.name+"]",A).each(function(){if(this.value==C)this.checked=true})},getPostData:function(A){return A.checked?A.value:undefined},changeEvent:"change"},checkbox:{getWxValue:function(C){var B=C.form||window.document,A=[];$("[name="+C.name+"]",B).each(function(){if(this.checked)A.push(this.value)});return A},setWxValue:function(B,C){var A=B.form||window.document;C=get_value_list(C);$("[name="+B.name+"]",A).each(function(){if($.inArray(C,this.value)>=0)this.checked=true})},getPostData:function(A){return A.checked?A.value:undefined},changeEvent:"change"},hidden:{getWxValue:function(D){var H=D.getAttribute("data-wx-multiple")=="true",G=D.value,I=wx_get_text_el(D);if(I){if(H){var E=G.split(","),C=I.value.split(","),J,F=Math.max(E.length,C.length),A=new Array(F);for(J=0;J<F;J++)A.push({text:C[J],value:E[J]})}else{var B=I.value;return{text:B,value:G}}}else{if(H)return G.split(",");return G}},setWxValue:function(C,D){var A=build_value_text(D,"value");C.value=A;var E=wx_get_text_el(C);if(E){var B=build_value_text(D,"text");E.value=B}},getPostData:function(A){return A.value}},input:{getWxValue:function(A){if(A.getAttribute("data-wx-multiple")=="true")return A.value.split(",");return A.value},setWxValue:function(A,B){B=build_value_text(B,"text");A.value=B},getPostData:function(A){return A.value},changeEvent:"change"}};$.each(["textarea","date","datetime","month","time","week","number","password","range","email","url"],function(){wx.wxHooks[this]=wx.wxHooks["input"]});function wx_init_widget(B){var C=$(B),D=C.data("wxOptions"),A=C.data("wxWidget");if(A)C[A](D)}$.fn.extend({initWxWidget:function(){this.each(function(){wx_init_widget(this)})},updateHtml:function(A,B){$(this).html(A);if(!B)wx.initWidgets(this)}});var g_inits=[];wx.addOnInit=function(A){g_inits.push(A)};wx.callInits=function(){var A=g_inits;g_inits=[];var B=A.length;for(var C=0;C<B;C++)A[C]()};wx.initWidgets=function(A){$(".wx-widget",A).initWxWidget();$(wx.callInits)};function wx_call_dom_func(strFunc){var elm=this;return eval("("+strFunc+")")}$.extend($.fn,{getWxType:function(){return this[0].getAttribute("data-wx-type")},getWxContentElm:function(){var B=this[0].nodeName;if(B==="DIV"||B==="A"){var A=this.find("[class~=\"fieldContent\"]:first");return A.length?A[0]:this[0]}else return this[0]},getWxValue:function(){var B=this[0].getAttribute("getWxValue");if(B)return wx_call_dom_func.call(this[0],B);var A=this.getWxContentElm(),C=wx_get_hook(A);if(C&&"getWxValue"in C)return C.getWxValue(A);return $(A).text()},setWxValue:function(C){var B=this[0].getAttribute("setWxValue");if(B)return wx_call_dom_func.call(this[0],B);var A=this.getWxContentElm(),D=wx_get_hook(A);if(D&&"setWxValue"in D){D.setWxValue(A,C);return}$(A).val(C);return},getPostData:function(){var C=this[0].getAttribute("wx-get-post-data");if(C)return wx_call_dom_func.call(this[0],C);var A=this.getWxContentElm(),B=wx_get_hook(A);if(B&&"getPostData"in B)return B.getPostData(A);if(B&&"getWxValue"in B)return B.getWxValue(A);return $(A).text()},wxEnable:function(){var A=this.getWxContentElm(),B=wx_get_text_el(A);if(B)B.disabled=false;$(":disabled",A).each(function(){this.disabled=false})},wxDisable:function(){var A=this.getWxContentElm(),B=wx_get_text_el(A);if(B)B.disabled=true;$(":enabled",A).each(function(){this.disabled=true})},updateWxArgs:function(C,D){var A=C||{};if(arguments.length==2){A={};A[C]=D}var B=this.data("wxArgs");this.data("wxArgs",$.extend(B||{},A))},popWxSelectDialog:function(E){var D=this.data("wxOptions"),A=$.extend(true,{},D||{});$.extend(true,A,E||{});var C=new wx.AjaxBase();if(A.params)C.setParam(A.params);A.url=C.buildGetUrl(A.popUrl);var B=this[0];A.selectedValue=this.getWxValue();A.onOk=function(C){if(A.popCallbackFunc)A.popCallbackFunc(C);else setTimeout(function(){wx.setWxValue(B,C);if(A.callbackFunc)A.callbackFunc(C)},10)};$.wxDialog(A)}});$.extend(wx,{makeControl:function(A,C,B){var A=by_id(A);if(!A)return null;A=$(A);if(C)A.data("wxOptions",C);return A},syncWxValue:function(A,D){var B=this.makeControl(A),C=B.getWxValue();this.fireWxChangeEvent(B,C)},fireWxChangeEvent:function(A,B,C){$(A.el).trigger("wxChange",[B,C])},regListener:function(B,G,I){var E=this.makeControl(B);if(!E)return;var D=E.el,F=this,H=wx_get_hook(D);if(H&&"changeEvent"in H){var A=H.changeEvent+".wxWidget";$(D).unbind(A);$(D).bind(A,function(){F.fireWxChangeEvent(E,E.getWxValue())})}var C=false;$(D).bind("wxChange",function(B,D,E){if(C)return;C=true;try{G(D)}catch(A){C=false;throw A}C=false});if(I)wx.addOnInit(function(){F.syncWxValue(B,true)})},setWxValue:function(A,C){var B=this.makeControl(A);if(!B)return;var D=B.getWxValue();B.setWxValue(C);this.fireWxChangeEvent(B,C,D)},getWxValue:function(A){var B=this.makeControl(A);if(!B)return;return B.getWxValue()},getPostData:function(A){var B=this.makeControl(A);if(!B)return;return B.getPostData()},defineBinding:function(B,C,A){B=this.makeControl(B,null,true);C=this.makeControl(C,null,true);this.regListener(B.el,function(E){if(A){var D=B.getPostData();C.updateWxArgs(A,D)}else C.setWxValue(B.getWxValue())})},makeTrigger:function(A,H,F){var D=this.makeControl(A,H,true),C=D[0];if(F){C.setAttribute("data-wx-multiple","true");var G=wx_get_text_el(C);if(G)G.setAttribute("data-wx-multiple","true")}var B=$("#btn_"+C.id),E=this;B.bind("click",function(){E.popWxSelectDialog()});return D}});$.fn.setWxValues=function(A){return this.each(function(){var D=$(this);for(var C in A){var B=D.find("[name="+C+"]:first");if(B[0])wx.setWxValue(B,A[C])}})};function wx_nav_tree(B,H,D){var C=B,F=D?C.firstChild:C,E=null,G=1;do switch(G){case 1:var A=H(F);if(A===-1)return;else if(A===-2){G=2;break}E=F.firstChild;if(E&&E.nodeType==1)F=E;else if(E&&E.nextSibling){F=E;G=2}else G=2;break;case 2:E=F.nextSibling;while(E&&E.nodeType!=1)E=E.nextSibling;if(E){F=E;G=1}else F=F.parentNode}while(F!=C)}function wx_serialize(C,D){var A={},B=by_id(C);if(!B){alert("err_no_element:"+C);return A}wx_nav_tree(B,wx_serialize_proc.bind(this,A),D);return A}function wx_serialize_proc(A,D){if(!D||D.nodeType!=1||D.disabled===true||D.getAttribute("disabled")=="true")return-2;var E=D.getAttribute("name"),F=null,H=false;if(E)if(D.getAttribute("wx-get-post-data")||(D.tagName!="FORM"&&D.tagName!="IFRAME")){H=true;F=wx.makeControl(D).getPostData();if(F===undefined)return-2}if(H){var B=D.getAttribute("data-wx-other-values");if(B){var I=B.split(","),G={value:F};for(var J=0;J<varNames.length;J++){var C=$("#"+D.id+"_"+I[J]);if(C.length==0)C=$("#"+E+"_"+I[J]);if(C.length==0)continue;G[I[J]]=wx.makeControl(C[0]).getPostData()}F=G}if(A[E]!==undefined){if(D.getAttribute("data-wx-merge")=="true")A[E]=A[E]+","+F;else{if(!$.isArray(A[E]))A[E]=[A[E]];A[E].push(F)}}else A[E]=F;return-2}return 0}wx.serialize=wx_serialize;wx.format=function(A,B,C){if(arguments.length==1)return function(){var B=$.makeArray(arguments);B.unshift(A);return wx.format.apply(this,B)};$.each(B,function(C,B){A=A.replace(new RegExp("\\{\\*"+C+"\\}","g"),B);A=A.replace(new RegExp("\\{"+C+"\\}","g"),wx.encodeXml(B))});if(C)$.each(C,function(C,B){A=A.replace(new RegExp("\\{\\*"+C+"\\}","g"),B);A=A.replace(new RegExp("\\{"+C+"\\}","g"),wx.encodeXml(B))});if(A.indexOf("{$seq}")>=0)A=A.replace(new RegExp("\\{\\$seq\\}","g"),wx.newId());return A};wx.validate={};$.extend(wx.validate,{rules:{required:function(A){return!!$.trim(A)},notEmpty:function(A){return!!$.trim(A)},number:function(A){return/^[-+]?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(A)||/^[-|+]?\.\d+(e\d+)?$/i.test(A)||/^[+|-]?\d+(\.\d+)?(e\d+)?$/i.test(A);return/^[-+]?((?:\d+|\d{1,3}(?:,\d{3})+)|(?:\.\d+)?)|(\.\d+(e\d+)?)|(\d+(\.\d+)?(e\d+)?)$/i.test(A)},digit:function(A){return/^\d+$/.test(A)},email:function(A){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(A)},date:function(A){return!/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(A)||!/Invalid|NaN/.test(new Date(A))},"int":function(A){return/^[+-]?\d+$/.test(A)&&A.length<=10},LT:function(A,B){if(B&&B.max)B=B.max;if(!this.number(A)||!this.number(B))return false;return parseFloat(A)<parseFloat(B)},GT:function(A,B){if(B&&B.min)B=B.min;if(!this.number(A)||!this.number(B))return false;return parseFloat(A)>parseFloat(B)},LE:function(A,B){if(B&&B.max)B=B.max;if(!this.number(A)||!this.number(B))return false;return parseFloat(A)<=parseFloat(B)},GE:function(A,B){if(B&&B.min)B=B.min;if(!this.number(A)||!this.number(B))return false;return parseFloat(A)>=parseFloat(B)},NE:function(A,B){if(B&&B.invalid)B=B.invalid;if(!this.number(A)||!this.number(B))return false;return parseFloat(A)!=parseFloat(B)},EQ:function(A,B){if(B&&B.valid)B=B.valid;if(!this.number(A)||!this.number(B))return false;return parseFloat(A)==parseFloat(B)},intLT:function(A,B){if(B&&B.max)B=B.max;if(!this["int"](A)||!this["int"](B))return false;return parseInt(A)<parseInt(B)},intGT:function(A,B){if(B&&B.max)B=B.min;if(!this["int"](A)||!this["int"](B))return false;return parseInt(A)>parseInt(B)},intLE:function(A,B){if(B&&B.max)B=B.max;if(!this["int"](A)||!this["int"](B))return false;return parseInt(A)<=parseInt(B)},intGE:function(A,B){if(B&&B.min)B=B.min;if(!this["int"](A)||!this["int"](B))return false;return parseInt(A)>=parseInt(B)},intNE:function(A,B){if(B&&B.invalid)B=B.invalid;if(!this["int"](A)||!this["int"](B))return false;return parseInt(A)!=parseInt(B)},intEQ:function(A,B){if(B&&B.valid)B=B.valid;if(!this["int"](A)||!this["int"](B))return false;return parseInt(A)==parseInt(B)},twoDates:function(B,A){if(!B||!A)return true;return B<A},dateAfterNow:function(F){if(!F)return true;var B=new Date(),D=B.getFullYear(),C=B.getMonth()+1;if(C<="9")C="0"+C;var E=B.getDate();if(E<="9")E="0"+E;var A=""+D+"-"+C+"-"+dat+"";return F.substring(0,10)>=A}},messages:{required:"{showName} \u4e0d\u80fd\u4e3a\u7a7a",notEmpty:"{showName} \u4e0d\u80fd\u4e3a\u7a7a",number:"{showName} \u4e0d\u662f\u6570\u5b57",onlyDigit:"{showName} \u4e0d\u662f\u6570\u5b57",noSpecChar:"{showName} \u5305\u542b\u975e\u6cd5\u5b57\u7b26",email:"{showName} \u4e0d\u662femail\u5730\u5740","int":"{showName} \u4e0d\u662f\u6574\u6570","float":"{showName} \u4e0d\u662f\u6570\u5b57",isYear:"{showName} \u4e0d\u662f\u5408\u6cd5\u5e74\u4efd",LT:"{showName} \u5e94\u5c0f\u4e8e {max}",GT:"{showName} \u5e94\u5927\u4e8e {min}",LE:"{showName} \u5e94\u5c0f\u4e8e\u6216\u7b49\u4e8e {max}",GE:"{showName} \u5e94\u5927\u4e8e\u6216\u7b49\u4e8e {min}",NE:"{showName} \u5e94\u4e0d\u7b49\u4e8e {invalid}",EQ:"{showName} \u5e94\u7b49\u4e8e {valid}",intLT:"{showName} \u5e94\u5c0f\u4e8e {max}",intGT:"{showName} \u5e94\u5927\u4e8e {min}",intLE:"{showName} \u5e94\u5c0f\u4e8e\u6216\u7b49\u4e8e {max}",intGE:"{showName} \u5e94\u5927\u4e8e\u6216\u7b49\u4e8e {1}",intNE:"{showName} \u5e94\u4e0d\u7b49\u4e8e {invalid}",intEQ:"{showName} \u5e94\u7b49\u4e8e {valid}",isDate:"{showName} \u4e0d\u662f\u65e5\u671f",twoDates:"{first} \u5e94\u5c0f\u4e8e {second}",dateAfterNow:"{showName} \u4e0d\u5e94\u5927\u4e8e\u5f53\u524d\u65e5\u671f"},errorMessages:[],failedElements:[],isValidating:false,_addErrMsg:function(D,C,A,E){var B=this.messages[C],F=$.extend({"name":A,value:D},E||{});if(!B){alert("\u65e0\u6548\u7684\u9ed8\u8ba4\u6d88\u606fID: "+C);return}B=wx.format(B,F);this.errorMessages.push(B)},focusFirstErrElm:function(){var D,C=this.failedElements.length;for(D=0;D<C;D++){var B=this.failedElements[D];try{if(B.focus){B.focus();return}if(B.select){B.select();return}}catch(A){}}},showErrMsg:function(B){B=B||"";if(this.errorMessages.length>0){var A=B+"\n"+this.errorMessages.join("\n");alert(A)}this.focusFirstErrElm();this.errorMessages=[];this.failedElements=[]},validElement:function(elm){var validator=elm.getAttribute("validator"),required=elm.getAttribute("required")!=undefined;if((!validator&&!required)||elm.disabled===true||elm.getAttribute("disabled")=="true")return true;var value=wx.getPostData(elm),check=function(E,C,D){var A=true;E=E||"";var B=E.split(" ");if(required&&E.indexOf("notEmpty")<0)B.push("notEmpty");$.each(B,function(F,E){if(!value&&E!="notEmpty")return true;var B=wx.validate.rules[E];if(!B){alert("\u672a\u627e\u5230\u5bf9\u5e94\u89c4\u5219:"+E);return A=false}if(!B.call(wx.validate.rules,value,D)){wx.validate._addErrMsg(value,E,C,D);wx.validate.failedElements.push(elm);return A=false}});return A},checkResult=eval("("+validator+")");if($.isPlainObject(checkResult))checkResult=check(checkResult.rule,checkResult.showName,checkResult);if(!checkResult)if(!this.isValidating)this.showErrMsg();return checkResult},validContainer:function(B){var A=by_id(B);if(!A){alert("err_no_element:"+B);return false}this.isValidating=true;this.errorMessages=[];if(window.validate_G)window.validate_G.ErrorMessage=this.errorMessages;this.failedElements=[];this._validate_container(A);this.isValidating=false;if(window.validate_G)window.validate_G.ErrorMessage=null;if(this.errorMessages.length>0){this.showErrMsg();return false}return true},_validate_container:function(A){wx_nav_tree(A,this._validate_element_proc.bind(this))},_validate_element_proc:function(A){if(A.nodeType!=1||A.disabled||A.getAttribute("disabled")=="true")return-2;if(!A.getAttribute("validator")&&!(A.getAttribute("required")!=undefined))return 0;this.validElement(A);return-2}});wx.validContainer=wx.validate.validContainer.bind(wx.validate);wx.query={};$.extend(wx.query,{messages:{E_NO_QUERY_CONDITION:"\u8bf7\u9009\u62e9\u67e5\u8be2\u6761\u4ef6"},postForm:function(A){A=by_id(A);if(!A||A.tagName!=="FORM"){alert("js.form.err_frm_arg_is_not_form");return false}var B=this.buildCondition(A);if(!B)return false;A.condition.value=B;A.submit();return true},buildCondition:function(K,N){K=by_id(K);if(!K||K.tagName!=="FORM"){alert("js.form.err_frm_arg_is_not_form");return null}var H="",G=K.elements;for(var J=0,D=K.length;J<D;J++){elm=G[J];var B=elm.getAttribute("op");if(!$.trim(B))continue;var F=elm.getAttribute("fieldName")||elm.name;if(!$.trim(F))continue;var L=$(elm).getPostData();if(B.indexOf("between")==0){var P=elm.getAttribute("lowId"),Q=by_id(P),E=Q?Q.value:null,O=elm.getAttribute("highId"),M=by_id(O),I=M?M.value:null;if(!$.trim(E)&&!$.trim(I))continue;if(!!$.trim(E)&&!wx.validate.validElement(Q))return null;if(!!$.trim(I)&&!wx.validate.validElement(M))return null;if(!$.trim(E)){B="le";L=I}else if(!$.trim(I)){B="ge";L=E}else{var A="<"+B+" name=\""+F+"\" lowValue=\""+wx.encodeXml(E)+"\" highValue=\""+wx.encodeXml(I)+"\"";if(F.indexOf("dummy.")>=0)opstr+=" identity=\"true\" ";opstr+=" />";H+=opstr;continue}}else{if(!$.trim(L))continue;if(!wx.validate.validElement(elm))return null}var C="<"+B+" name=\""+F+"\" value=\"";C+=wx.encodeXml(L)+"\"";if(F.indexOf("dummy.")>=0)C+=" identity=\"true\" ";C+=" />";H+=C}if(H.length<=0)return"";N=N||"and";H="<"+N+">"+H+"</"+N+">";return H},explainCondition:function(B,F){if(!B)return"";var E=$.parseXML(B).documentElement;$(E).cleanWhitespace();var D={"le":" \u5c0f\u4e8e\u6216\u7b49\u4e8e ","lt":" \u5c0f\u4e8e ","eq":" \u7b49\u4e8e ","ge":" \u5927\u4e8e\u6216\u7b49\u4e8e ","gt":" \u5927\u4e8e ","like":" \u7c7b\u4f3c ","startsWith":" \u8d77\u59cb\u4e8e ","endsWith":" \u7ed3\u675f\u4e8e ","and":" \u5e76\u4e14\n","or":" \u6216\u8005\n","between":" \u4ecb\u4e8e ","in":" \u5305\u542b\u4e8e "},A="";function C(B){if(!B)return;switch(B.nodeName){case"and":case"or":for(var K=0;K<B.childNodes.length;K++){C(B.childNodes[K]);if(K!=B.childNodes.length-1)A+=D[B.nodeName]}break;default:var H=B.getAttribute("name"),G=F?F[H]:null;if(!G)G=B.getAttribute("showName")||H;A+=G;if(B.nodeName.startsWith("between")){var E=D["between"];A+=E;var I=B.getAttribute("lowValue")||"",J=B.getAttribute("highValue")||"";A+=I+","+J}else{E=D[B.nodeName];A+=E+B.getAttribute("value")}}}C(E);return A}});wx.buildCondition=wx.query.buildCondition.bind(wx.query);$.fn.isParentOf=function(A){var B=this[0];A=A.tagName?A:A[0];while(A!=null){if(A===B)return true;A=A.parentNode}return false};$.fn.setOuterSize=function(A,B){return this.each(function(){this.style.width=A+"px";this.style.height=B+"px";var C=$(this).outerWidth();if(C!=A)this.style.width=(2*A-C)+"px";var D=$(this).outerHeight();if(D!=B)this.style.height=(2*B-D)+"px"})};$.fn.selectRange=function(A,B){return this.each(function(){if(A===undefined){A=this.value.length;B=A}if(this.setSelectionRange){this.focus();this.setSelectionRange(A,B)}else if(this.createTextRange){var C=this.createTextRange();C.collapse(true);C.moveEnd("character",B);C.moveStart("character",A);C.select()}})};$.extend(wx,{getDom:function(A){return A.nodeType?A:A[0]},decodeXml:function(A){if(A&&(A=="&nbsp;"||A=="&#160;"||(A.length==1&&A.charCodeAt(0)==160)))return" ";return!A?"":String(A).replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,"\"")},encodeXml:function(A){return!A?"":String(A).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\"/g,"&quot;")},removeInArray:function(C,B){var A=C.indexOf(B);if(A>=0){C.splice(A,1);return true}return false},indexOfByFld:function(B,C,A){for(var D=0;D<B.length;D++)if(B[D][C]==A)return D;return-1},findStartsWith:function(B,A){for(var C=0;C<B.length;C++)if(B[C].indexOf(A)>=0)return B[C]},findByFld:function(B,C,A){for(var D=0;D<B.length;D++)if(B[D][C]==A)return B[D]},findLike:function(B,A){for(var C=0;C<B.length;C++)if(B[C].indexOf(A)>=0)return B[C];return null},updateByFld:function(D,E,C,B){var A=this.findByFld(D,E,C);if(A)$.extend(A,B)},pluckByFld:function(C,D){var A=[];for(var E=0;E<C.length;E++){var B=C[E];if(B&&B[D])A.push(B[D])}return A},isAllEq:function(D,A,C){var E,B=D.length;for(E=0;E<B;E++)if(D[E][A]!=C)return false;return true},isNotAllEq:function(D,A,C){var E,B=D.length;for(E=0;E<B;E++)if(D[E][A]==C)return false;return true},compact:function(B){var A=[];for(var D=0;D<B.length;D++){var C=B[D];if(C)A.push(C)}return A},removeByFld:function(C,D,B){for(var E=0;E<C.length;E++)if(C[E][D]==B){var A=C[E];C.splice(E,1);return A}},removeAllByFld:function(C,D,B){for(var E=0;E<C.length;E++)if(C[E][D]==B){var A=C[E];C.splice(E,1);E--}},containsByFld:function(B,C,A){return wx.indexOfByFld(B,C,A)>=0},getKeys:function(B){var A=[];for(var C in B)if(C&&C.indexOf("__")<0)A.push(C);return A},getValues:function(B){var A=[];for(var C in B)if(C&&C.indexOf("__")<0)A.push(B[C]);return A},containsKey:function(A,B){if($.type(A)!="object")return false;return B in A},containsValue:function(B,A){if($.type(B)!="object")return false;for(var C in B)if(B[C]==A)return true;return false},copyData:function(B){var A={};for(var C in B)if(C&&C.indexOf("__")<0)A[C]=B[C];return A},insertAfter:function(A,B,C){A=A.slice(0,B+1).concat(C).concat(A.slice(B+1));return A},isSubOfLc:function(B,A){return A.indexOf(B+".")==0},parseXmlToJson:function(M,G,L){var A={},I=M.attributes,F,B=I.length;for(F=0;F<B;F++){var J=I[F],C=J.nodeName,K=J.nodeValue;if(G&&(K.toLowerCase()=="true"||K.toLowerCase()=="false"))K=K.toLowerCase()=="true"?true:false;A[C]=K}var E=M.childNodes;if(E.length>0){var D=[];for(F=0;F<E.length;F++){var H=E[F];if(H.nodeType==3&&!/\S/.test(H.nodeValue))continue;D.push(this.parseXmlToJson(H,G))}A[L||"children"]=D}return A},matrixToListMap:function(D,C){var B=[],H,E=D.length;for(H=0;H<E;H++){var F=D[H],A={};for(var G=0;G<C.length;G++)A[C[G]]=F[G];B.push(A)}return B},pluckDataMatrix:function(C,J,F,L){var A=[];if(!F)F=wx.makeSeqArray(0,C.length);if(!L)L=wx.makeSeqArray(0,J.length);var I,D=F.length;for(I=0;I<D;I++){var K=F[I],H=C[K],M=[],G,E=L.length;for(G=0;G<E;G++){var B=L[G];M.push(H[J[B]])}A.push(M)}return A},existsFld:function(B,C){if($.isArray(B)){var D,A=B.length;for(D=0;D<A;D++)if(C in B[D])return true;return false}else return C in B},renameFld:function(C,F,D){if(!C)return;if(F&&!D){for(var E in F){var B=F[E];wx.renameFld(F,D)}}else{var A=C[F];delete C[F];C[D]=A}},makeSeqArray:function(B,C){var A=new Array(C-B);for(var D=B;D<C;D++)A[D]=D;return A},toExcelString:function(D){var C="";for(var F in D){if(!C)C+="\r\n";var A=D[F];if($.isArray(A)){var E=0;for(var B in A){if(E!=0)C+="\t";C+=A[B]==""?"":A[B]}}else C+=A==""?"":A}return B},insertAt:function(C,B,A){if(A<=C.length)C.splice(A,0,B);else C.push(B);return C},switchAt:function(D,E,C){if(E==C)return;var A=D[E],B=D[C];D[E]=B;D[C]=A},domInsertChildAt:function(C,B,A){if(A<=C.childNodes.length)C.insertBefore(B,C.childNodes[A]);else C.appendChild(B)},domRemoveChildAt:function(B,A){if(A<=B.childNodes.length)B.removeChild(B.childNodes[A])},domSwitchChildAt:function(E,G,F){if(G==F)return;if(G<F){var A=G;G=F;F=A}var B=E.childNodes[G],C=E.childNodes[F],D=C.nextSibling;E.insertChild(C,B);E.removeChild(B);E.insertChild(B,D)}});function _find_td_in_same_col(A,F,B){var C=F.cellIndex,E=F.offsetLeft;if(C<A.length&&A[C].offsetLeft==E)return A[C];var H,D=A.length;for(H=0;H<D;H++){var G=A[H].offsetLeft;if(G>E){if(B)return A[H].previousSibling;else break}else if(G==E)return A[H]}}wx.log=function(B,A){if(window.console)if(typeof B=="string")window.console.log(B,A);else window.console.dir(B)};wx.nav_table=function(J,H,E,D){var I,F=J.length,A,C=H?$.inArray(H.parentNode,J):-1;if(F<=0)return;if(E=="left"){if(H)A=H.previousSibling;do{if(!A){if(C<=0)break;C--;var G=J[C].cells;A=G[G.length-1]}if(D(A))break;A=A.previousSibling}while(true)}else if(E=="right"){if(H)A=H.nextSibling;do{if(!A){if(C>=F-1)break;C++;G=J[C].cells;A=G[0]}if(D(A))break;A=A.nextSibling}while(true)}else if(E=="up"){var B=H?H:J[0].cells[0];do{if(!A){if(C<0){B=B.previousSibling;if(!B)break;C=J.length-1}else C--}else C--;if(C>=0)A=_find_td_in_same_col(J[C].cells,B);else A=null;if(A&&D(A))break}while(true)}else if(E=="down"){B=H?H:J[0].cells[0];do{if(!A){if(C>=F-1){B=B.nextSibling;if(!B)break;C=0}else C++}else C++;if(C<=F-1)A=_find_td_in_same_col(J[C].cells,B);else A=null;if(A&&D(A))break}while(true)}return A};wx.makeDom=function(C,D,A){var B=document.createElement(C);if(D)B.className=D;if(A)B.style.cssText=A;return B};var g_uuid=1;wx.newId=function(A){return"js_"+(A||"")+(g_uuid++)};$.fn.cleanWhitespace=function(){return this.each(function(){for(var B=0;B<this.childNodes.length;B++){var A=this.childNodes[B];if(A.nodeType==3&&!/\S/.test(A.nodeValue))this.removeChild(A)}})};$.fn.wxWrap=function(B){var A=$(B)[0];this.each(function(){var B=this.parentNode;B.replaceChild(A,this);A.appendChild(this)})};if(!global.JSON)global.JSON={stringify:$.toJSON,parse:$.parseJSON}})(jQuery,this);(function(D,C){var B=D.wx=D.wx||{},A=B.byId;B.webObjects={};B.WebObject=function(A,E){this.options={frmAdd:"frmAdd",pkField:"id",pageData:"/std/wo/page_data.jsp?",pageJson:"/json.jsp?",pageTplView:"/std/entity/tpl_view.jsp?",pageShow:"/std/entity/show.jsp?",usePersistParams:true,pageTreeRoot:"/std/wo/page_tree_root.jsp?",pageTreeChildren:"/std/wo/page_tree_children.jsp?"};this.options=D.extend(this.options,E||{});if(A){this.objectName=A;B.webObjects[A]=this;if(this.options.usePersistParams)for(var C=0;C<B.persistParams.length;C++)this.addParam(B.persistParams[C][0],B.persistParams[C][1])}this.constructor=B.WebObject};B.persistParams=[];B.makeWebObject=function(A,E){var C=B.webObjects[A];if(!C)C=new B.WebObject(A,E);else C.options=D.extend(C.options,E||{});return C};B.WebObject.prototype=new B.AjaxBase();D.extend(B.WebObject.prototype,{buildAjax:function(A,C){return new B.Ajax(this.options).setParam(this.params).setObjectName(A||this.objectName).setParam(C)},setObjectName:function(){this.objectName=objectName;return this},getObjectName:function(){return this.objectName},submitAdd:function(A){if(!this.validateBeforeAdd())return;var B=this.buildAjax().setObjectEvent("Add").addForm(A||this.options.frmAdd).callRemote(this.invokeAddCallback.bind(this))},popSubmitAdd:function(B){if(!this.validateBeforeAdd())return;var A=this.buildAjax().setObjectEvent("Add").addForm(B||this.options.frmAdd).callRemote(this.invokePopAddCallback.bind(this))},submitAddThenView:function(A){if(!this.validateBeforeAdd())return;var B=this.buildAjax().setObjectEvent("Add").addForm(A||this.options.frmAdd).callRemote(this.gotoViewPage.bind(this))},validateBeforeAdd:function(){return true},invokeAddCallback:function(){return},gotoListPage:function(){},gotoViewPage:function(A){},loadTreeData:function(B,A,C){var D={};this.buildAjax().setUrl("pageTreeRoot").addParam(B.options.eventArgs).setObjectEvent(B.options.loadRootObjectEvent||"QueryTree").addParam(D).callRemote(C)},loadTreeChildren:function(B,A,C){var F=B.options.pkField||this.options.pkField,E={},D=A.getParent();if(D)E["parent"]=D.data[F];E[F]=A.data[F];this.buildAjax().setUrl("pageTreeChildren").setObjectEvent(B.options.loadChildrenObjectEvent||"ViewDetail").addParam(E).addParam(B.options.eventArgs).callRemote(C)},loadGridData:function(G,H,F){var E=this.buildAjax().setUrl("pageData").setObjectEvent(G.options.objectEvent||"Query"),C=D("#frmQuery_"+G.element[0].id);if(C.length==1){var A=B.buildCondition(C[0]);if(A==null)return;E.addParam("condition",A)}E.addParam(H).addParam(G.options.initLoadEventArgs).callRemote(F)},commitGridChange:function(C,A,B){this.buildAjax().setObjectEvent("BatchCUD").addParam("jsonData",JSON.stringify(A["changeData"])).addParam("del_id",A["delIds"]).callRemote(B)},loadGridRowDetail:function(B,C,A){this.buildAjax().setUrl("pageTplView").setObjectEvent("ViewDetail").addParam("_tplSelector","viewRowDetail").addParam(B.options.pkField,C[B.options.pkField]).addParam(B.options.rowDetailEventArgs).request(A)},loadGridTreeChildren:function(B,C,A){this.buildAjax().setUrl("pageData").setObjectEvent("QueryTransient").addParam("useDynamicLoad",true).addParam("queryField",B.options.parentField).addParam("queryValue",C[B.options.pkField]).addParam(B.options.treeChildrenEventArgs).callRemote(A)},openPage:function(C,B,A){var E=this.buildAjax(A).addParam(B).buildGetUrl(D.wx.CONTEXT_PATH+C);window.open(E)},startMonitor:function(D,B){var E=$A(arguments).slice(2),G=this[D],C=this,F=this.copy(),A=function(){C["timer_"+D]=window.setTimeout(function(){var B=G.apply(F,E);if(B)B.done(A)},B)};A()},stopMonitor:function(B){var A=this["timer_"+B];if(A)window.clearTimeout(A)}});window.$wo=function(E){if(!E)return B.webObjects["default"];E=A(E);var C=D(E).closest("[data-wx-obj-type]").data("wxObjType");if(!C)C="default";return B.webObjects[C]}})(jQuery);(function($,undefined){var wx=$.wx=$.wx||{};$.extend(wx,{});wx.compare=function(B,D,E){if(B==null)return D==null?0:-1;if(D==null)return 1;if(wx.isNumberFieldType(E)){var A=Number(B),C=Number(D);if(isNaN(A))return isNaN(C)?0:-1;if(isNaN(C))return 1;return A>C?1:(A<C?-1:0)}return B>D?1:(B<D?-1:0)};wx.isNumberFieldType=function(A){return A=="number"||A=="int"||A=="float"||A=="double"||A=="long"};wx.i18n=wx.i18n||{};$.extend(wx.i18n,{GRID_ROWNUM:"\u5e8f\u53f7",GRID_EMPTY_MSG:"\u65e0\u8bb0\u5f55",GRID_TOTAL_MSG:"\u5171{total}\u6761\u8bb0\u5f55",GRID_SHOULD_COMMIT_CHANGE:"\u6570\u636e\u5df2\u6539\u53d8\uff0c\u662f\u5426\u63d0\u4ea4\uff1f",GRID_COPY_SEL_ROW:"\u590d\u5236\u9009\u4e2d\u884c",GRID_COPY_CUR_ROW:"\u590d\u5236\u5f53\u524d\u884c",GRID_COPY_CUR_COL:"\u590d\u5236\u5f53\u524d\u5217",GRID_COPY_TABLE:"\u590d\u5236\u8868\u683c",GRID_REMOVE_CUR_ROW:"\u5220\u9664\u5f53\u524d\u884c",GRID_REMOVE_CUR_COL:"\u5220\u9664\u5f53\u524d\u5217",GRID_ADD_COL:"\u589e\u52a0\u5217",GRID_ADD_ROW:"\u589e\u52a0\u884c"});wx.RowEditor=function(B,A){this.wxGrid=B;this.hDiv=this.wxGrid.grid.children(".hDiv");this.bDiv=this.wxGrid.grid.children(".bDiv");this.allwaysShowEditor=true;this.disableKeyDown=true;this.startIndex=this.wxGrid.getStartColIndex();this._create(A)};$.extend(wx.RowEditor.prototype,{_create:function(C){this._syncGrid(C);var B=this._createRowEditorView(),D=this._createRowEditorTable();B.append(D);var A=this._createRowEditorBtn();B.append(A);this.bDiv.append(B);this._bindRowEditorEvents()},_syncGrid:function(B){B["__forAdd"]=true;var A=this.wxGrid._makeDataTr(B,null,true);wx.domInsertChildAt(this.wxGrid.tbody[0],A,0);this.gridRow=A;this.data=B;this.wxGrid.options.pageData.unshift(B);this.wxGrid._resetRowNum()},_createRowEditorView:function(){var A=$("<div class='edit-row-view' />");A.css({top:0,left:0,position:"absolute"});this.editEditorView=A;return A},_createRowEditorTable:function(){var C=this,B=$("<table class='edit-row' cellspacing='0' cellpadding='0' border='0'/>");B.css({height:$(this.gridRow.cells[0]).height(),"table-layout":"fixed",width:this.wxGrid.tbody.width()}).attr("rowIndex",0);var A=$("<tr />");if(this.wxGrid.options.useRowExpand)A.append("<td style=\"width:20px\" />");if(this.wxGrid.options.useCheck)A.append("<td style=\"width:25px\" />");if(this.wxGrid.options.useRowNum)A.append("<td style=\"width:35px\" />");$.each(this.wxGrid.options.colModel,function(F,D){var B=$("<td class='edit_cell' />"),E=C.gridRow.cells[C.startIndex+F];B.css({width:$(E).outerWidth(),height:$(E).outerHeight(),padding:"0",margin:0,border:0}).attr("axis",F);A.append(B)});B.append(A);this.rowEditorTable=B;return B},_createRowEditorBtn:function(){var A=$("<div class='edit-btn' />"),C=$("<input type=\"button\" value=\"\u4fdd\u5b58\" class=\"edit-ok\"  />"),B=$("<input type=\"button\" value=\"\u53d6\u6d88\" class=\"edit-cancel\" />");A.append(C).append(B);A.css({position:"absolute",top:this.rowEditorTable.height()+"px",width:100,height:25,"background-color":"#E3E3E3"});this.rowEditorBtn=A;return A},_bindRowEditorEvents:function(){var A=this;$("input.edit-ok",this.bDiv).bind("click",function(B){B.stopPropagation();A.endEdit(true);A.wxGrid.locking=false});$("input.edit-cancel",this.bDiv).bind("click",function(B){A.destroy();A.wxGrid.locking=false})},beginEdit:function(){var C=this,B=this.bDiv.scrollLeft(),A=null;$.each(this.wxGrid.options.colModel,function(){if(!this.addable)return;var B=this.editor;if(!A)A=B;var D=$("td[axis='"+(this.seq)+"']",C.rowEditorTable);B.beginEdit(D,C.data[this.name],C)});if(A)A.focus();this._fixRowEditorScroll(B)},endEdit:function(B){var A=true;$.each(this.wxGrid.options.colModel,function(){A=A&&this.editor.endEdit(B)});if(!A)return false;$.each(this.wxGrid.options.colModel,function(){this.editor.container=null});this.destroy()},destroy:function(){this.editEditorView.remove();delete this.wxGrid.rowEditor},onEditorKeydown:function(){return false},onEditorEndEdit:function(G,F,B){if(!F)return;var E=$(this.gridRow.cells[this.startIndex+B.model.seq]),C=B.model,D=E.parent()[0],A=this.wxGrid.getTrData(D);A[C.name]=G;C.viewer.update(E[0],G,A)},_fixRowEditorScroll:function(B){var B=B||this.bDiv.scrollLeft(),A=this.bDiv.width()<this.rowEditorTable.width()?this.bDiv:this.rowEditorTable,C=(A.width()-this.rowEditorBtn.width())/2+B;this.rowEditorBtn.css("left",C+"px")},_fixRowEditorResize:function(C,A,D){if(!this.wxGrid.rowEditor)return;var F=this,E=this.rowEditorTable.width(),G=this.rowEditorBtn,H=$("td[axis=\""+C.seq+"\"]",this.rowEditorTable),B=C.editor.el;this.rowEditorTable.width(D+E);H.width(A.size.width);B.outerWidth(A.size.width);$("td[axis]",this.rowEditorTable).each(function(C,B){var A=F.wxGrid.options.colModel[C].editor.el;A.css("left",B.offsetLeft+"px")});F._fixRowEditorScroll()}});wx.WxViewer=function(C,A,B){this.model=A;this.container=B};$.extend(wx.WxViewer.prototype,{render:function(D,E){var B=this.model,C=this.container.options.emptyFieldText;if(!D&&C)return wx.encodeXml(C);if(B.renderTpl)return B.renderTpl+wx.encodeXml(D&&D.text?D.text:D);else{var A=D;if(!isNaN(D)){if(D!=null&&B.numberFormat)A=$.formatNumber(D,{format:B.numberFormat,locale:"cn"},true)}else{A=D&&D.text?D.text:D;A=wx.encodeXml(A)||""}if(B.linkFunc)A="<a class='wui-col-link'>"+A+"</a>";return A}},update:function(C,A,B){C.innerHTML=this.render(A,B)}});wx.WxEditor=function(B,E,A){this.el=$(B);this.options=$.extend({minWidth:10,minHeight:20,autoFit:true},E||{});this.model=A;var D=this.options.maxlength=this.options.maxlength||A.maxlength;if(D){this.el.attr("maxlength",D);if(this.el[0].tagName.toLowerCase()=="textarea")this.el.bind("keyup",function(){if(this.value.length>D)this.value=this.value.substring(0,D)})}var C=this.el[0];if(this.options.items)$.each(this.options.items,function(){C.options[C.options.length]=new Option(this[1]||"",this[0]||"")});this.el.css({position:"absolute",display:"block"});this.blurHandler=this.handleBlur.bind(this);this.keyDownHandler=this.handleKeyDown.bind(this);this.editing=false};$.extend(wx.WxEditor.prototype,{beginEdit:function(C,D,B){this.container=B;this.cell=C;if(this.editing&&!B.allwaysShowEditor)this.endEdit(false);this.editing=true;$(document).unbind("click.wui-input",this.blurHandler).bind("click.wui-input",this.blurHandler);this.el.unbind("keydown.wui-input",this.keyDownHandler).bind("keydown.wui-input",this.keyDownHandler);this.setWxValue(D);C[0].insertBefore(this.el[0],C[0].firstChild);this.el.css("top",C[0].offsetTop+"px").css("left",C[0].offsetLeft+"px").css("z-index","999");if(this.options.autoFit){var A=Math.max(C.outerWidth(),this.options.minWidth),E=Math.max(C.outerHeight(),this.options.minHeight);this.el.setOuterSize(A,E)}if(!B.allwaysShowEditor)this.focus()},setWxValue:function(A){if(this.el.hasClass("wui-input-boolean"))$("input",this.el)[0].checked=A=="Y";else this.el.setWxValue(A)},getWxValue:function(A){if(this.el.hasClass("wui-input-boolean"))return $("input",this.el)[0].checked?"Y":"N";return this.el.getWxValue()},focus:function(){setTimeout(this._focus.bind(this),0)},_focus:function(){this.el.show();$(".wui-input",this.el).andSelf().filter(".wui-input").each(function(){this.focus();this.focus();if(this.tagName=="INPUT"&&$.inArray(this.type,["hidden","radio","checkbox"])<0)$(this).selectRange(0,$(this).val().length)})},handleBlur:function(A){if((this.container&&!this.container.allwaysShowEditor)&&!this.el.isParentOf(A.target))this.endEdit(true)},handleKeyDown:function(A){if(this.container.disableKeyDown)return;if(A.keyCode==27)this.endEdit(false);else if(A.keyCode==13)if(!$.nodeName(this.el[0],"textarea"))this.endEdit(true);this.container.onEditorKeydown(A,this)},endEdit:function(A){if(!this.editing)return;if(A&&!this.validate()){this.focus();return false}if(!this.container.allwaysShowEditor){this.editing=false;$(document).unbind("click.wui-input",this.blurHandler);this.el.unbind("keydown.wui-input",this.keyDownHandler);this.el.hide().appendTo(document.body)}var B=this.getWxValue();this.container.onEditorEndEdit(B,A,this);return true},destroy:function(){this.el.remove()},validate:function(){return true}});wx.wxViewerFactory={"default":function(C,A,B){return new wx.WxViewer(C,A,B)}};wx.wxEditorFactory={"default":function(C,A,B){return new wx.WxEditor("<input class='wui-input' type='text' />",C,A,B)},"textarea":function(C,A,B){return new wx.WxEditor("<textarea class='wui-input'></textarea>",$.extend({minHeight:60,minWidth:150},C),A,B)},"select":function(C,A,B){return new wx.WxEditor("<select class='wui-input'></select>",C,A,B)},"boolean":function(C,A,B){return new wx.WxEditor("<div class='wui-input-boolean' style='text-align:center;vertical-align:middle'><input class='wui-input' type='checkbox' /></div>",C,A,B)}};$.widget("wx.wxGrid",{options:{pkField:"id",nameField:"name",layerCodeField:"layerCode",layerLevelField:"layerLevel",colModel:[],useEdit:false,useEditHead:false,useDragSort:false,useCheck:true,useRowNum:true,useRowSelect:false,useAutoCommit:true,usePager:true,useRowExpand:false,useAutoId:false,sortMode:"remote",allowReadOnlyCurrent:false,isTreeGrid:false,actions:[],selected:{},delIds:[],pageData:[],currentPage:1,sortFields:[],pageSize:10,totalCount:0,buttons:[],parentField:null,menuMinWidth:100,menuMaxWidth:200,maxSortFldsSize:2,emptyFieldText:""},_create:function(){if(this.options.colModel.length<=0)return;this._created=true;if(this.options.matrixData){this.options.pageData=wx.matrixToListMap(this.options.matrixData,wx.pluckByFld(this.options.colModel,"name"));delete this.options.matrixData}this._fixConfig();var B=this.element.show();B.attr({cellSpacing:0,cellPadding:0,border:0}).addClass("wui-table").css("table-layout","fixed");B.wrap("<div class='wui-grid'><div class='bDiv'></div></div>");this.grid=B.closest(".wui-grid").width(this.options.width).height(this.options.height);var A=this.calcDefaultTableWidth();B.width(A);this._buildTHead(A);this._buildPagingToolBar();this._buildTBody();this._bindEvents();this._makeColsResizable();this._makeRowsSortable();this._fixSize();this._buildMenu()},calcDefaultTableWidth:function(){var A=0;if(this.options.useRowDetail||this.options.isTreeGrid)A+=25;if(this.options.useCheck)A+=25;if(this.options.useRowNum)A+=35;var C,B=this.options.colModel.length;for(C=0;C<B;C++){if(!this.options.colModel[C].visible)continue;A+=this.options.colModel[C].width}return A},_fixTHeadCol:function(C,A){var B=$("<div>").addClass("wui-drag-col").css("position","relative").append($(C).contents());$(C).addClass("wui-thead").attr({axis:A.seq});C.appendChild(B[0])},_buildTHead:function(B){var E=this,L=this.options.colModel,A=this.element.children("thead");A.remove();A.cleanWhitespace();if(!A.length){var J="<thead><tr>";for(var H=0;H<L.length;H++)J+="<th class='wui-thead-col'>"+wx.encodeXml(L[H].showName)+"</th>";J+="</tr></thead>";A=$(J)}A.children().addClass("wui-thead");$(".wui-thead-col",A).each(function(A){E._fixTHeadCol(this,L[A])});var I=A[0].childNodes,M=I.length,G=I[0];if(this.options.useRowNum){var F=$("<th class='wui-thead-rownum wui-thead'>"+wx.i18n.GRID_ROWNUM+"</th>").attr({rowspan:M});$(G).prepend(F)}if(this.options.useCheck){F=$("<th class='wui-thead-check wui-thead'><input type='checkbox' class='wui-thead-check' /></th>").attr({rowspan:M});$(G).prepend(F)}if(this.options.useRowExpand){F=$("<th class='wui-thead-expand wui-thead wui-collapsed'>&#160;</th>").attr({rowspan:M});$(G).prepend(F)}var K=$("<table class='wui-table-thead' cellspacing='0' 'cellpadding='0'>").css("table-layout","fixed");K.width(B);K.prepend(A);K.wrap("<div class='hDiv'><div class='hDivBox'></div></div>");$(this.grid).prepend(K.parent().parent());this.thead=A;var D=this._makeColGroup();this.element.prepend(D);this.colgroup=D;var C=$(D[0].cloneNode(true));K.prepend(C);this.hcolgroup=C},_init:function(){if(!this._created)this._create()},_makeColsResizable:function(D){var G=this.grid.children(".hDiv");this.hDiv=G;var B=this.grid.children(".bDiv"),C=this.grid.children(".pDiv"),F=this,E=this.grid,A=this.thead;if(!D)D=this.thead;$("div.wui-drag-col",D).each(function(){var A=F.getTdColModel(this.parentNode);$(this).resizable({handles:"e",containment:"document",minWidth:A.minWidth,resize:function(K,H){var L=$(this).closest("table").width(),N=$(this).width(),J=H.size.width-N,M=$(this),I=$("col[axis=\""+A.seq+"\"]",F.colgroup),D=$("col[axis=\""+A.seq+"\"]",F.hcolgroup);M.width(H.size.width);$(M).parent().width(M.width());G.find("table").width(J+L);B.children("table").width(J+L);I.width(H.size.width);D.width(H.size.width);B.outerHeight(E.height()-G.outerHeight()-C.outerHeight());F._fixTHeadDiv();if(F.rowEditor)F.rowEditor._fixRowEditorResize(A,H,J)}}).bind("resize",function(A){A.stopPropagation()})})},_fixTHeadDiv:function(){$("div.wui-drag-col div.ui-resizable-e",this.thead).each(function(){var A=this.parentNode;$(A).width(A.parentNode.offsetWidth);var B=A.parentNode.offsetHeight;$(this).height(B).width(10).css("top",Math.floor((A.offsetHeight-B)/2)+"px")})},_makeRowsSortable:function(){if(!this.options.useDragSort)return;var A=this;this.tbody.sortable({axis:"y",distance:10,opacity:0.6,helper:"clone",cursor:"move",distance:15,placeholder:"ui-state-highlight",forceHelperSize:true,_mouseUp:function(G,D){var C=[];$(".wui-tbody-rownum",A.tbody).each(function(){C.push($(this).text())});var H=A.options.pageData,B=[];for(var I=0;I<C.length;I++){var F=C[I],E=H[F-1];B.push(E)}A.options.pageData=B;A._resetRowNum();return}})},_refreshColVisible:function(){var A=this.colgroup.children(),L=this.hcolgroup.children(),B=this.thead[0].rows[0].cells,H=this.getStartColIndex(),J=this.tbody[0].rows,M=this.options.colModel,K,D=J.length;for(K=0;K<D;K++){var C=J[K];if(C.getAttribute("dr")!="1")continue;var I,F=M.length;for(I=0;I<F;I++){var G=C.cells[H+I],E=M[I].visible?"":"none";G.style.display=E;B[H+I].style.display=E;A[H+I].style.display=E;L[H+I].style.display=E}}},setVisibleFields:function(C){var E,D=this.options.colModel.length;for(E=0;E<D;E++){var B=this.options.colModel[E],A=C.indexOf(B.name)>=0;B.visible=A}this._refreshColVisible()},_renderPager:function(){var E=this.options;if(!E.usePager)return;var D=this.element,C=this.pager,B=$(".pControl",C),G=this.options.pageData,I=this.options.currentPage,J=Math.ceil(this.options.totalCount/this.options.pageSize),H=E.pageSize*(I-1)+1,A=H-1+G?G.length:0,F="";if(G&&G.total===0)F=wx.i18n.GRID_EMPTY_MSG;else F=wx.i18n.GRID_TOTAL_MSG.replace(/{from}/,H).replace(/{to}/,A).replace(/{total}/,this.options.totalCount);$("input",B).val(I);$("span",B).html(J);$(".pPageStat",C).html(F)},_buildPagingToolBar:function(){var C=this.options;if(!C.usePager)return;var D=this,B=this.element,A=$("<div class=\"pDiv wui-state-default\">"+"<div class=\"pDiv2\">"+"<div class=\"pGroup\">"+"<select name=\"rp\">"+"<option value=\"10\">10&nbsp;&nbsp;</option>"+"<option value=\"15\">15&nbsp;&nbsp;</option>"+"<option value=\"20\">20&nbsp;&nbsp;</option>"+"<option value=\"30\">30&nbsp;&nbsp;</option>"+"<option value=\"50\">50&nbsp;&nbsp;</option>"+"<option value=\"100\">100</option>"+"<option value=\"200\">200</option>"+"<option value=\"500\">500</option>"+"</select>"+"</div>"+"<div class=\"pGroup\">"+"<div class=\"pFirst pButton wui-icon\"><span class=\"wui-icon-seek-start\"></span></div>"+"<div class=\"pPrev pButton wui-icon\"><span class=\"wui-icon-seek-prev\"></span></div>"+"</div>"+"<div class=\"btnseparator\"></div>"+"<div class=\"pGroup\"><span class=\"pControl\">\u7b2c<input type=\"text\"/>\u9875,\u5171<span></span>\u9875</span></div>"+"<div class=\"btnseparator\"></div>"+"<div class=\"pGroup\">"+"<div class=\"pNext pButton wui-icon\"><span class=\"wui-icon-seek-next\"></span></div>"+"<div class=\"pLast pButton wui-icon\"><span class=\"wui-icon-seek-end\"></span></div>"+"</div>"+"<div class=\"btnseparator\"></div>"+"<div class=\"pGroup\">"+"<div class=\"pReload pButton wui-icon\"><span class=\"wui-icon-refresh\"></span></div>"+"</div>"+"<div class=\"btnseparator\"></div>"+"<div class=\"pGroup\"><span class=\"pPageStat\"></span></div>"+"</div></div>");B.parent().after(A);$("select option[value="+this.options.pageSize+"]",this.pager).attr("selected",true);this.pager=A;$(".pReload",this.pager).click(function(){D._populate()});$("select",this.pager).change(function(A){var B=$(A.target).val();D._populate({"pageSize":B})});$(".pFirst",this.pager).click(function(){D._changePage("first")});$(".pPrev",this.pager).click(function(){D._changePage("prev")});$(".pNext",this.pager).click(function(){D._changePage("next")});$(".pLast",this.pager).click(function(){D._changePage("last")});$(".pControl input",this.pager).keydown(function(A){if(A.keyCode==13)D._changePage("input")});$(".pButton",A).hover(function(){$(this).toggleClass("wui-state-hover")})},_changePage:function(G){if(this.loading)return true;if(this.loading)return true;var B=this.element,A=this.options,F=B.closest(".wui-grid"),C=A.data,E=A.currentPage,H=Math.ceil(A.totalCount/A.pageSize),D=E;switch(G){case"first":D=1;break;case"prev":if(E>1)D=E-1;break;case"next":if(E<H)D=E+1;break;case"last":D=H;break;case"input":var I=parseInt($(".pControl input",B.closest(".wui-grid")).val());if(isNaN(I))I=E;if(I<1)I=1;else if(I>H)I=H;$(".pControl input",this.pDiv).val(I);D=I;break;default:if(/\d/.test(G)){I=parseInt(G);if(isNaN(I))I=1;if(I<1)I=1;else if(I>H)I=H;$(".pControl input",B.closest(".wui-grid")).val(I);D=I}}if(D==E)return false;this._populate({"moveToPage":D,"pageSize":A.pageSize})},_buildMenu:function(){var C=this,A=$("<div/>"),B=$.extend([],this.options.buttons);B=$.map(B,function(A){if($.type(A)=="string")return{id:"GRID_"+A,label:wx.i18n["GRID_"+A],handler:C["handler_"+A].bind(C)};else return A});if(B.length>0){A.wxMenu({contextMenu:true,dataSource:B,onSelect:function(A,B){C.contextMenu.hide();if(A.handler)A.handler(B.rowData,B,C)}});A.hide().appendTo(document.body)}this.contextMenu=A},getTdColModel:function(A){return this.options.colModel[A.getAttribute("axis")]},getWxPanel:function(){return this.grid.closest(".wx-panel-body")},_bindEvents:function(){var C=this,B=this.options,E=this.grid.children(".hDiv"),A=this.grid.children(".bDiv"),D=this.getWxPanel();D.bind("wxpanelwxresize",function(A){C.adjustSize()});E.delegate("th.wui-thead-col","dblclick.wx_grid",function(A){A.stopPropagation();if(C.options.useEditHead)C.beginEditHead(this)}).delegate("th.wui-thead-col","click.wx_grid",function(D){D.stopPropagation();if(C.options.sortMode){var B=C.getTdColModel(this),A=C._toggleSortField(B.name,D.ctrlKey);C.sortByFields(A);C._renderItemOrder($(D.target,C.element).closest("th")[0])}}).delegate("th.wui-thead-check input","click.wx_grid",function(A){A.stopPropagation();var B=this.checked;C.toggleCheckAll(B)});A.scroll(function(){E.scrollLeft($(this).scrollLeft());if(C.rowEditor)C.rowEditor._fixRowEditorScroll()});A.delegate("td.wui-col","click.wx_grid",function(B){var D=B.target;if($(D).is("span.wui-tbody-expand")){if(C.options.isTreeGrid){B.stopPropagation();var A=D.parentNode.parentNode;if($(D).hasClass("wui-expanded"))C.collapseTreeTr(A,D);else C.expandTreeTr(A,D)}return}if(C.locking)return;if(C.options.useEdit)C.setCurrentCell($(this));else C.handleCellClick($(this))});A.delegate("tr.wui-data-row","click",function(B){B.stopPropagation();var A=B.currentTarget,D=C.getTrData(A);C._trigger("clickrow",B,D)});A.delegate(".wui-col input","keyup.wx_grid",function(D){if(C.locking)return;var A=D.keyCode,B;switch(A){case 40:B="down";break;case 38:B="up";break;default:return}if(B)C.moveCurrentCell(B)});A.bind("contextmenu",function(B){if($(B.target).is("td.wui-cell")&&B.target.parentNode.parentNode==C.tbody[0]){var A=B.target.parentNode,D=C.getTrData(A);C.contextMenu.wxMenu({rowData:D,td:B.target}).wxMenu("show",B);B.stopPropagation()}});A.delegate("input.wui-tbody-check","click",function(B){B.stopPropagation();var A=this.parentNode.parentNode;if(this.checked)C._selectTr(A);else C._unselectTr(A)});if(this.options.useRowExpand)A.delegate("td.wui-tbody-expand","click",function(B){B.stopPropagation();var A=this.parentNode;if($(A.cells[0]).hasClass("wui-expanded"))C.collapseTr(A);else C.expandTr(A)})},_toggleSortField:function(B,G){var F=this.options.sortFields.concat(),E=wx.findByFld(F,0,B),A=E?E[1]:"asc";if(!G)F=[];var H,C=F.length;for(H=0;H<C;H++){var D=F[H];if(D[0]==B){F.splice(H,1);F.unshift([B,D[1]=="asc"?"desc":"asc"]);return F}}F.unshift([B,A=="asc"?"desc":"asc"]);return F},transformToxml:function(A){if(!A||A.length<=0)return null;var B="<orderBy>";for(var C=0;C<A.length;C++)B+="<field order='"+A[C][1]+"' name='"+A[C][0]+"' />";B+="</orderBy>";return B},sortByFields:function(A){if(this.options.sortMode=="remote"){var C=this.transformToxml(this._fixSortFields(A,true));this._populate({orderBy:C})}else{this._fixSortFields(A);var F=[],G,D=A.length;for(G=0;G<D;G++){var E=A[G],B=this.getColModelByName(E[0]);F.push([B,E[1]])}this.options.pageData.sort(function(H,I){var J,E=F.length;for(J=0;J<E;J++){var C=F[J],D=C[1]||"desc",A=H[C[0].name],B=I[C[0].name];if(A&&A.text)A=A.value;if(B&&B.text)B=B.value;var G=(C[0].comparator||wx.compare)(A,B,C[0].type);if(D=="asc")G=-G;if(G!=0)return G}return 0});this._renderTBody()}},toggleCheckAll:function(C){var B=this,A=this.tbody[0];$("input.wui-tbody-check",this.tbody).each(function(D){var E=this.parentNode.parentNode;if(E.parentNode==A){if(C)B._selectTr(E,D);else B._unselectTr(E,D);$(this).attr("checked",C)}})},getWxValue:function(){return this.pageData},setWxValue:function(A){this.pageData=A;this._renderTBody()},clearSelection:function(){this.options.selected={}},getSelectedIds:function(){return wx.getKeys(this.options.selected)},getSelectedDatas:function(){return wx.getValues(this.options.selected)},_selectTr:function(D,C){$(D).addClass("wui-selected");var B=this.getTrData(D,C),A=B[this.options.pkField];if(A)this.options.selected[A]=B},_unselectTr:function(D,C){$(D).removeClass("wui-selected");var B=this.getTrData(D,C),A=B[this.options.pkField];delete this.options.selected[A]},getTrData:function(A){return this.options.pageData[A.tagName?A.rowIndex:A]},_removeTr:function(D,E){var C=E===undefined?D.rowIndex:E;$(D).remove();var B=this.options.pageData[C];if(B){this.options.pageData.splice(C,1);var A=B[this.options.pkField];if(A){delete this.options.selected[A];this.options.delIds.push(A)}}},removeChecked:function(){var C=this,A=this.tbody[0],B=0;$("input.wui-tbody-check:checked",this.tbody).each(function(){var D=this.parentNode.parentNode;if(D.parentNode==A){B++;C.removeTr(D)}});if(B>0)this._resetRowNum()},removeTr:function(B,C){this._removeTr(B);var A=B.nextSibling;while(A&&A.getAttribute("dr")!="1")this._removeTr(A);if(C)this._resetRowNum()},_fixRowData:function(B){if(!B)B={};for(var C in this.options.colModel){var A=this.options.colModel[C];if(A.defaultValue&&B[A.name]==undefined)B[A.name]=A.defaultValue}return B},addRow:function(C,A,D){C=this._fixRowData(C);if(A==undefined)A=this.options.pageData.length;var E=this.getStartRowNum()+A,B=this._makeDataTr(C,E,D);wx.domInsertChildAt(this.tbody[0],B,A);this.options.pageData.push(C);this._resetRowNum()},beginAddRow:function(){if(this.rowEditor)return;this.locking=true;var A=new wx.RowEditor(this,this._fixRowData({}));this.rowEditor=A;A.beginEdit()},colSeq:0,_fixConfig:function(){if(!this.options.totalCount)this.options.totalCount=this.options.pageData.length;var B=this.options.colModel;for(var C=0;C<B.length;C++){var A=B[C];this._fixOneColModel(A)}this._fixSortFields()},_fixOneColModel:function(m){if(!m.seq)m.seq=this.colSeq++;if(!m.showName)m.showName=m.name;if(!m.width)m.width=60;if(!m.minWidth)m.minWidth=Math.min(m.width,30);if($.type(m.linkFunc)=="string")m.linkFunc=eval(m.linkFunc);if(m.visible==null)m.visible=true;if(this.options.isTreeGrid&&this.options.nameField==m.name)m.renderTpl="<span class='wui-tbody-expand wui-collapsed'></span>";var id=this.element[0].id;if(!m.viewer)m.viewer=(wx.wxViewerFactory[m.type]||wx.wxViewerFactory["default"])(null,m,this);else if(!m.viewer.render)m.viewer=wx.wxViewerFactory[m.viewer.type||"default"](m.viewer,m,this);if(!m.editor){var editorEl=$("#"+id+"_editor_"+m.name);if(editorEl.length){var options=editorEl.data("wxOptions");m.editor=new wx.WxEditor(editorEl,options,m,this)}else m.editor=(wx.wxEditorFactory[m.type]||wx.wxEditorFactory["default"])(null,m,this)}else if(!m.editor.beginEdit)m.editor=wx.wxEditorFactory[m.editor.type||"default"](m.editor,m,this);if(m.headEditable)if(!m.headEditor)m.headEditor=wx.wxEditorFactory["default"]({forHead:true},m,this);else if(!m.headEditor.beginEdit)m.headEditor=wx.wxEditorFactory[m.headEditor.type||"default"](m.editor,m,this)},_fixSortFields:function(A,H){var A=A||this.options.sortFields,G=[],D=A.length;if(!A)return;for(var F=0;F<D;F++){var E=A[F],C=E[0],B=wx.findByFld(this.options.colModel,"name",C);if(B&&G.length<=this.options.maxSortFldsSize-1)G.push(E)}if(!H)this.options.sortFields=G;return G},_makeColGroup:function(){var C=this.options.colModel,B=$("<colgroup>");if(this.options.useRowExpand){var A=$("<col>").css("width","20px");B.append(A)}if(this.options.useCheck){A=$("<col>").css("width","25px");B.append(A)}if(this.options.useRowNum){A=$("<col>").css("width","35px");B.append(A)}for(var D=0;D<C.length;D++){A=$("<col>");if(!C[D].visible)A[0].style.display="none";A.attr("axis",C[D].seq).css("width",C[D].width);B.append(A)}return B},_fixSize:function(){var S=this.options.colModel,M=this.grid.width()-20,I=this.grid.height(),J=this.grid.children(".hDiv"),A=this.grid.children(".bDiv"),E=this.grid.children(".pDiv"),D=this.colgroup.children(),P=this.hcolgroup.children(),H=this.getStartColIndex(),F=0;for(var K=0;K<H;K++)F+=$(P[K]).outerWidth();var O=M-F,Q=0,R=-1;for(K=0;K<S.length;K++){if(!S[K].visible)continue;if(S.width=="autoExpand")R=K;Q+=S[K].width}var N=O/Q;if(R>=0){var K=R,C=$(D[K+H]),L=$(P[K+H]),G=L.outerWidth();G+=Math.floor(N*G);if(G<S[K].minWidth)G=S[K].minWidth;if(G>S[K].maxWidth)G=S[K].maxWidth;C.width(G);L.width(G)}else{var B=this.options.autoFit;for(K=0;K<S.length;K++){if(!S[K].visible)continue;C=$(D[K+H]),L=$(P[K+H]),G=L.outerWidth();if(B)G=Math.floor(N*S[K].width);if(G<S[K].width)G=S[K].width;if(G>S[K].maxWidth)G=S[K].maxWidth;C.width(G);L.width(G);F+=G}}A.height(I-J.outerHeight()-E.outerHeight());A.children("table").width(F);J.find("table").width(F);this._fixTHeadDiv()},_buildTBody:function(){if(!this.element[0].tBodies[0])this.element.append("<tbody>");this.tbody=$(this.element[0].tBodies[0]);this._populate()},_updateData:function(B,A){if(!B)B={};this.options.pageData=B["pageData"];if(!this.options.pageData)this.options.pageData=wx.matrixToListMap(B["matrixData"],wx.pluckByFld(this.options.colModel,"name"));var C=this.options.pkField;if(this.options.useAutoId)$.each(this.options.pageData,function(){this[C]=wx.newId("auto")});this.options.currentPage=B["currentPage"];this.options.pageSize=B["pageSize"];this.options.totalCount=B["totalCount"];this.options.sortFields=B["sortFields"]||[];this._fixSortFields();this._renderPager();this._renderTBody();this.element.trigger("wx_update_data",this)},_renderTBody:function(){var A=$("<tbody>"),C=this.options.pageData||[];for(var E=0;E<C.length;E++){var D=C[E],B=this._makeDataTr(D,E);A[0].appendChild(B)}this.tbody.replaceWith(A);this.tbody=A;this._resetRowNum();this._renderOrder()},_renderOrder:function(){var A=this;$("th.wui-thead-col",this.hDiv).each(function(C,B){A._renderItemOrder(B,true)})},_renderItemOrder:function(A,B){var C=this.getTdColModel(A),E=wx.findByFld(this.options.sortFields,0,C["name"]),D=$("div.wui-drag-col",A);D.removeClass("desc").removeClass("asc");if(!E)return;D.addClass(E[1])},insertRows:function(C,B){var E=this,A=$.map(B,function(B){var A=E._makeDataTr(B);return A});$(C).after(A);var D=C.rowIndex;this.options.pageData=wx.insertAfter(this.options.pageData,D,B)},insertRowDetail:function(A,D){var B=$("<tr>");if(this.options.useRowExpand){var C=$("<td class=' wui-detail'>&nbsp;</td>");B.append(C)}if(this.options.useCheck){C=$("<td class=' wui-detail'>&nbsp;</td>");B.append(C)}if(this.options.useRowNum){C=$("<td class=' wui-detail'>&nbsp;</td>");B.append(C)}C=$("<td class=' wui-detail'>");C.attr("colspan",this.options.colModel.length).html(D);B.append(C);$(A).after(B);this.options.pageData=wx.insertAfter(this.options.pageData,A.rowIndex,{})},_makeDataTr:function(G,H,C){var B=wx.makeDom("tr");B.setAttribute("dr",1);B.className="wui-data-row";var K=this.options.useRowExpand;if(this.options.isTreeGrid){K=false;if(G[this.options.leafField]=="Y")K=false}if(K){var D=wx.makeDom("td","wui-tbody-expand wui-cell wui-collapsed"),M=wx.makeDom("span");D.appendChild(M);B.appendChild(D)}if(this.options.useCheck){var D=wx.makeDom("td","wui-tbody-check wui-cell"),I=wx.makeDom("input","wui-tbody-check");I.type="checkbox";D.appendChild(I);if(wx.containsKey(this.options.selected,G[this.options.pkField]))I.checked=true;B.appendChild(D)}if(this.options.useRowNum){D=wx.makeDom("td","wui-tbody-rownum wui-cell");if(H)D.innerHTML=(H+1);B.appendChild(D)}var L=this.options.colModel;for(var F=0;F<L.length;F++){var E=L[F],A="wui-cell wui-col";if(E.align)A+=" wui-align-"+E.align;if(E.wrap)A+=" wui-wrap";if(C)A+=" wui-dirty";D=wx.makeDom("td",A);if(!E.visible)D.style.display="none";D.setAttribute("axis",E.seq);var J=G[E.name];if(this.options.nameField==E.name&&G[this.options.layerLevelField])$(D).css("padding-left",G[this.options.layerLevelField]*5*2+"px");D.innerHTML=E.viewer.render(J,G);B.appendChild(D)}return B},getRowNumColIndex:function(){if(!this.options.useRowNum)return-1;return this.getStartColIndex()-1},getStartColIndex:function(){var A=0;if(this.options.useRowExpand)A++;if(this.options.useCheck)A++;if(this.options.useRowNum)A++;return A},getStartRowNum:function(){return this.options.pageSize*(this.options.currentPage-1)+1},_resetRowNum:function(){var B=this.getRowNumColIndex(),F=this.getStartRowNum(),C=this.tbody[0],J=C.rows,I,E=J.length,A=1,G=0;for(I=0;I<E;I++){var H=J[I];if(!H.getAttribute("dr")=="1"||H.style.display=="none")continue;G=G+1;if(this.options.useRowNum){var D=H.cells[B];D.innerHTML=A}if((G+1)%2==1)$(H).removeClass("wui-rowodd").addClass("wui-roweven");else $(H).removeClass("wui-roweven").addClass("wui-rowodd");$(H).removeClass("wui-last");A++}$("tr:visible").last().addClass("wui-last")},isSameValue:function(A,B){if(A==B)return true;if(A==null&&B=="")return true;if(A==""&&B==null)return true;if(A&&B){if(A==B.text)return true;if(A["value"]==B["value"])return true}return false},onEditorKeydown:function(D,B){var A=D.keyCode,E=D.shiftKey,C;switch(A){case 9:D.preventDefault();D.stopPropagation();C=E?"left":"right";break;default:return}if(C)if(B.options.forHead)this.moveCurrentHeadCell(C);else this.moveCurrentCell(C)},onEditorEndEdit:function(I,H,C){if(C.options.forHead){var D=C.model,G=C.cell;D.showName=C.getWxValue();var F=document.createTextNode(D.showName||"&nbsp;");G[0].firstChild.replaceChild(F,G[0].firstChild.firstChild);return}if(H){var G=C.cell,E=G.parent()[0],B=this.getTrData(E),D=C.model,A=B["__old"]||{};if(this.isValueChanged(I,B,D)){B["__old"]=A;if(!(D.name in A))A[D.name]=B[D.name];B[D.name]=I;D.viewer.update(G[0],I,B);G.addClass("wui-dirty")}else{delete A[D.name];if(A&&$.isEmptyObject(A))delete B["__old"];B[D.name]=I;D.viewer.update(G[0],I,B);G.removeClass("wui-dirty")}}},handleCellClick:function(C){var E=C[0].parentNode,B=C[0].cellIndex-this.getStartColIndex(),A=this.options.colModel[B];if(A.linkFunc){var D=this.getTrData(E);A.linkFunc(D,A.name,A)}},isValueChanged:function(C,B,D){var A=B["__old"]||{},E=A[D.name];if(E==null)return!this.isSameValue(C,B[D.name]);else return!this.isSameValue(C,E)},checkDirty:function(){return wx.existsFld(this.options.pageData,"__old")||wx.existsFld(this.options.pageData,"__forAdd")||this.options.delIds.length>0},beginEditHead:function(B){B=$(B);if(this.currentEditor&&this.currentEditor.editing){if(B[0]==this.currentEditor.cell[0])return 1;this.currentEditor.endEdit(false)}if(this.currentCell)this.currentCell.removeClass("wui-current");this.currentCell=B;var A=this.getTdColModel(B[0]);if(!A.visible)return-1;if(A.headEditable){A.headEditor.beginEdit($(B),A.showName,this);this.currentEditor=A.headEditor;return 1}return 0},moveCurrentHeadCell:function(A){var B=this;wx.nav_table(this.thead[0].rows,this.currentCell?this.currentCell[0]:null,A,function(D){var C=$(D);if(!C.hasClass("wui-thead-col"))return false;var A=B.beginEditHead(C);return A==1})},setCurrentCell:function(C){C=$(C);if(this.currentEditor&&this.currentEditor.editing){if(C[0]==this.currentEditor.cell[0])return 1;if(!this.currentEditor.endEdit(true))return-1}if(this.currentCell)this.currentCell.removeClass("wui-current");this.currentCell=C;C.addClass("wui-current");if(this.options.useEdit){var G=C[0].parentNode,B=this.getTdColModel(C[0]),E=this.getTrData(G),A=B.editor,F=E["__forAdd"]?B.addable:B.updatable;if(B.checkEditable)F=B.checkEditable(E,this.options.wo);if(F){var D=E[B.name];A.beginEdit(C,D,this);this.currentEditor=A;return 1}}return 0},moveCurrentCell:function(A){var B=this;wx.nav_table(this.tbody[0].rows,this.currentCell?this.currentCell[0]:null,A,function(D){var C=$(D);if(!C.hasClass("wui-col"))return false;var A=B.setCurrentCell(C);return A==1})},clearCurrentCell:function(){if(this.currentEditor)this.currentEditor.endEdit(true);this.currentEditor=null;this.currentCell=null},_isSubLc:function(B,A){return A.indexOf(B+".")==0},_isChildLc:function(B,A){return A.indexOf(B+".")==0&&A.indexOf(".",B.length+1)<0},_getSubTreeEndIndex:function(E){var C=this.options.layerCodeField,A=this.options.pageData,D=A[E][C];for(var F=E+1;F<A.length;F++){var B=A[F][C];if(!this._isSubLc(D,B))return F}return F},_getChildrenTrs:function(C){var A=[],I=this.tbody[0].rows,G=C.rowIndex,B=this.options.pageData,E=this.options.layerCodeField,F=B[G][E];for(var H=G+1;H<B.length;H++){var D=B[H][E];if(this._isChildLc(F,D))A.push(I[H]);else if(!this._isSubLc(F,D))break}return A},_showTreeChildrenTrs:function(B){var E=$("span.wui-expanded",B);if(E.length){var A=this._getChildrenTrs(B),D,C=A.length;for(D=0;D<C;D++){A[D].style.display="";this._showTreeChildrenTrs(A[D])}}},_hideTreeChildrenTrs:function(B){var E=$("span.wui-expanded",B);if(E.length){var A=this._getChildrenTrs(B),D,C=A.length;for(D=0;D<C;D++){A[D].style.display="none";this._hideTreeChildrenTrs(A[D])}}},collapseTreeTr:function(A,B){this._hideTreeChildrenTrs(A);$(B).removeClass("wui-expanded").addClass("wui-collapsed");this._resetRowNum()},expandTreeTr:function(A,E){var D=A.getAttribute("st");if(D=="loading")return;var C=this;$(E).removeClass("wui-collapsed").addClass("wui-expanded");if(D=="loaded"){this._showTreeChildrenTrs(A);this._resetRowNum()}else{A.setAttribute("st","loading");var B=this.getTrData(A);this.options.wo.loadGridTreeChildren(this,B,function(B){C.insertRows(A,B["pageData"]);A.setAttribute("st","loaded");C._resetRowNum()})}},expandTr:function(B){var E=B.getAttribute("st");if(E=="loading")return;$(B.cells[0]).removeClass("wui-collapsed").addClass("wui-expanded");if(E=="loaded"){var A=B.nextSibling;if(this.options.useRowExpand){if(A&&A.getAttribute("dr")!="1")$(A).show()}else if(this.options.isTreeGrid)this._showTreeChildrenTrs(B)}else{B.setAttribute("st","loading");var D=this,C=this.getTrData(B);if(this.options.isTreeGrid)this.options.wo.loadGridTreeChildren(this,C,function(A){D.insertRows(B,A["pageData"]);B.setAttribute("st","loaded");D._resetRowNum()});else if(this.options.useRowExpand)this.options.wo.loadGridRowDetail(this,C,function(A){D.insertRowDetail(B,A);B.setAttribute("st","loaded")})}this._resetRowNum()},collapseTr:function(B){var C=B.getAttribute("st");if(C=="loading")return;var A=B.nextSibling;if(this.options.useRowExpand)if(A&&A.getAttribute("dr")!="1")A.style.display="none";$(B.cells[0]).removeClass("wui-expanded").addClass("wui-collapsed");this._resetRowNum()},getGridChange:function(){var C={delIds:this.options.delIds,changeData:[]},B=C.changeData,A=this.options;$.each(A.pageData,function(){var D=this["__old"];if(D){var C={};C[A.pkField]=this[A.pkField];for(var E in D)C[E]=this[E];B.push(C)}else if(this["__forAdd"]){C=$.extend({},this);delete C["__change"];B.push(C)}});return C},commitChange:function(B){var A=this.getGridChange(),C=this;this.options.wo.commitGridChange(this,A,function(){C.clearChange(false);if(B)B()})},clearChange:function(A){$("td.wui-dirty",this.tbody).each(function(){$(this).removeClass("wui-dirty")});$.each(this.options.pageData,function(){if(A)$.extend(this,this["__old"]);delete this["__old"]});this.options.delIds=[]},reload:function(A){this._populate(A)},_populate:function(B){var A=this.options,C={moveToPage:A.currentPage,pageSize:A.pageSize,sortFields:A.sortFields||[],noRequery:false};$.extend(C,B||{});var D=this,E=function(){if(A.wo)A.wo.loadGridData(D,C,function(A){D._updateData(A,C)});else D._renderTBody()};D.clearCurrentCell();if(this.checkDirty()){if(!A.useAutoCommit&&!confirm(wx.i18n.GRID_SHOULD_COMMIT_CHANGE)){this.clearChange(true);E()}else this.commitChange(E)}else E()},getColIndexesByNames:function(C){var A=[],D=this.options.colModel;for(var E=0;E<C.length;E++){var B=wx.indexOfByFld(D,"name",C[E]);A.push(B)}return A},getColModelByName:function(A){return wx.findByFld(this.options.colModel,"name",A)},getColModel:function(){return this.options.colModel},getNameMap:function(){var A={};$.each(this.options.colModel,function(){A[this.name]=this.showName});return A},toJSONObject:function(){var A=[];$.each(this.options.colModel,function(){A.push({name:this.name,showName:this.showName})});return{fields:A,data:this.getDataMatrix()}},getSelectedDataMatrix:function(H){var F=this.options.colModel,A=[];for(var G in this.options.selected){var B=this.options.selected[G],C=[];if(H){for(var E=0;E<H.length;E++){var D=F[H[E]].name;C.push(B[D])}}else for(E=0;E<F.length;E++){D=F[E].name;C.push(B[D])}A.push(C)}return A},getDataMatrix:function(C,D){var A=this.options.pageData,B=wx.pluckByFld(this.options.colModel,"name");return wx.pluckDataMatrix(A,B,C,D)},addCol:function(D,C,B){this._fixOneColModel(D);var H=this.options.colModel,G=this.getStartColIndex();wx.insertAt(H,D,B);var J=$("<th>"),A=$("<col>");A.attr("axis",D.seq).css("width",D.width);wx.domInsertChildAt(this.colgroup[0],A[0],B+startIndex);wx.domInsertChildAt(this.hcolgroup[0],A[0].cloneNode(true),B+startIndex);var E=this.options.pageData;for(var I=0;I<E.length;I++){var F=E[I];F[H.name]=C[I]}J=$("<th>").addClass("wui-thead-col");this._fixTHeadCol(J[0],D);wx.domInsertChildAt(this.thead[0].rows[0],J[0],B+startIndex);this._makeColsResizable(J[0]);this._renderTBody();this._fixSize()},removeCol:function(D,A){var C=this.getStartColIndex(),E=this.options.colModel;E=E.splice(D,1);wx.domRemoveChildAt(this.colgroup[0],D+C);wx.domRemoveChildAt(this.hcolgroup[0],D+C);wx.domRemoveChildAt(this.thead[0].rows[0],D+C);this._renderTBody();this._fixSize();if(!A){var F=this.options.pageData,I,G=F.length;for(I=0;I<G;I++){var H=F[I];delete H[E.name];var B=H["__old"];if(B){delete B[E.name];if($.isEmptyObject(B))delete H["__old"]}}}},_changeColName:function(H,E){var B=this.getColModelByName(H);B.name=E;var C=this.options.pageData,G,D=C.length;for(G=0;G<D;G++){var F=C[G];wx.renameFld(F,H,E);var A=F["__old"];wx.renameFld(A,H,E)}},switchCol:function(D,C){var B=this.options.colModel,A=this.getStartColIndex();wx.switchAt(B,D,C);wx.domSwitchChildAt(this.colgroup[0],D+A,C+A);wx.domSwitchChildAt(this.hcolgroup[0],D+A,C+A);wx.domSwitchChildAt(this.thead[0].rows[0],D+A,C+A);this._renderTBody()},adjustSize:function(A,C){A=A||this.options.width;C=C||this.options.height;var B=this.element;B.closest(".wui-grid").width(A).height(C);this._fixSize();return this},handler_COPY_CUR_ROW:function(C){var B=wx.pluckByFld(this.options.colModel,"name"),A=wx.pluckDataMatrix([C],B)},handler_COPY_SEL_ROW:function(){var A=this.getSelectedDataMatrix()},handler_COPY_TABLE:function(){var A=this.getDataMatrix()},handler_REMOVE_CUR_ROW:function(B,C){var A=C.td.parentNode;this.removeTr(A)},handler_COPY_CUR_COL:function(){var D=options.td,C=this.getTdColModel(D),B=$.inArray(C,this.options.colModel),A=this.getDataMatrix(null,[B])},handler_REMOVE_CUR_COL:function(C,E){var D=E.td,B=this.getTdColModel(D),A=$.inArray(B,this.options.colModel);this.removeCol(A)},handler_ADD_COL:function(D,G){var E=G.td,B=this.getTdColModel(E),A=$.inArray(B,this.options.colModel),C="col_"+(this.colSeq++),F={name:C,showName:showName,type:"string"};this.addCol(F,[],A)},handler_ADD_ROW:function(B,C){var A=C.td.parentNode;this.addRow({},A.rowIndex)}})})(jQuery);(function(A){A.widget("wx.wxMenu",{options:{contextMenu:false,maxWidth:200,minWidth:100,dataSource:"local"},show:function(D){var H=this,J=H.options,I,G,C=H.element,F=A(D).offset();if(J.contextMenu){I=D.pageY;G=D.pageX;D.preventDefault();D.stopPropagation();D.cancelBubble=true}else{var B=parseInt(A(D).css("borderBottomWidth").replace("px",""));I=F.top+A(D).height()+(B!="NaN"?B:0)+1;G=F.left+1}var E=C.parent();while(E.css("position")=="static"&&E[0].nodeName!="BODY")E=E.parent();I-=E.offset().top;G-=E.offset().left;if((G+C.outerWidth())>document.documentElement.clientWidth)G=G-C.outerWidth()-20;A(C).css({"top":I,"left":G}).show();A(C).children("ul.om-menu").show();A(C).children("ul.om-menu").children().each(function(D,B){if(A(B).find("span:first").hasClass("om-menu-item-sep"))A(B).find("span:first").width("98%");else{var E=A(C).width()*0.7;if(A(B).find("span:first").width()>E)A(B).find("span:first").width(A(B).attr("aria-haspopup")?E-15:E)}});this.visible=true},hide:function(){this._hide()},disableItem:function(A){this.element.find("#"+A).addClass("om-state-disabled").unbind(".menuItem")},enableItem:function(D){var C=this,A=C.element,B=A.find("#"+D);B.removeClass("om-state-disabled");C._bindLiEvent(B)},destroy:function(){var B=A(document),C;while(C=this.globalEvent.pop())B.unbind(".omMenu",C)},_create:function(){var D=this,E=D.options,A=D.element,C=E.dataSource;A.addClass("om-menu-container om-menu-content om-corner-all");A.css("position","absolute");if(C)if(C!="local"){if(typeof C=="string")D._ajaxLoad(A,C);else if(typeof C=="object"){A.append(D._appendNodes.apply(D,[C]));D._bindEvent()}}else{var B=A.children("ul").addClass("om-menu");D._parseDomMenu(B);D._bindEvent()}},_init:function(){var B=this.options,C=this.element;C.css({"minWidth":B.minWidth,"maxWidth":B.maxWidth-10});if(A.browser.msie&&A.browser.version=="6.0")C.css("width",B.minWidth+30)},_ajaxLoad:function(C,B){var D=this;A.ajax({url:B,method:"POST",dataType:"json",success:function(A){C.append(D._appendNodes.apply(D,[A]));D._bindEvent()}})},_appendNodes:function(D,C){var H=this,B=[],I=(C==undefined)?"om-menu":"om-menu-content",G=(C==undefined)?"block":"none",F=(C==undefined)?"om-menu-icon":"om-menu-icon om-menu-icon-child";B.push("<ul class=\""+I+" om-corner-all\" style=\"display:"+G+";\">");var E=[];A(D).each(function(C,D){if(D.children!=null){if(D.disabled===true||D.disabled=="true")E.push("<li id=\""+D.id+"\" aria-haspopup=\"true\"  class=\"om-state-disabled\">");else E.push("<li id=\""+D.id+"\"  aria-haspopup=\"true\">");E.push("<a href=\"javascript:void(0)\" class=\"om-corner-all om-menu-indicator\">");D.icon?E.push("<img class=\""+F+"\" src=\""+D.icon+"\">"):null;D.icon?E.push("<span>"+D.label+"</span>"):E.push("<span style=\"margin-left:2em;\">"+D.label+"</span>");E.push("<span class=\"ui-icon-span\" role=\"popup\"></span>");E.push("</a>");E.push(H._appendNodes(D.children,C++));E.push("</li>")}else{if(D.disabled===true||D.disabled=="true")E.push("<li id=\""+D.id+"\"  class=\"om-state-disabled\">");else E.push("<li id=\""+D.id+"\" >");E.push("<a href=\"javascript:void(0)\" class=\"om-corner-all om-menu-indicator\">");D.icon?E.push("<img class=\""+F+"\" src=\""+D.icon+"\">"):null;D.icon?E.push("<span>"+D.label+"</span>"):E.push("<span style=\"margin-left:2em;\">"+D.label+"</span>");E.push("</a>");E.push("</li>")}if(D.seperator=="true"||D.seperator==true)E.push("<li class=\"om-menu-sep-li\"  ><span class=\"om-menu-item-sep\">&nbsp;</span></li>");var B=A(H.element).attr("id")+"_"+D.id;A(H.element).data(B,D)});B.push(E.join(""));B.push("</ul>");return B.join("")},_parseDomMenu:function(D){if(D.parent().attr("aria-haspopup")=="true")D.addClass("om-menu-content om-corner-all");D.css("display","none");var C=D.children();for(var F=0;F<C.length;F++){var B=A(C[F]),E=B.children("ul");if(E.length>0){B.attr("aria-haspopup","true");B.find("span[role='popup']").addClass("ui-icon-span");this._parseDomMenu(E)}B.find("a").addClass("om-corner-all om-menu-indicator");B.find("img").addClass("om-menu-icon")}},_showChildren:function(C){var E=this;if(C&&C.length>0){var B=C.children("ul").eq(0);B.css({"minWidth":this.options.minWidth,"top":C.position().top});var D=C.width();if((2*D+C.offset().left)>document.documentElement.clientWidth)D=-D;B.css("left",D);B.show();B.children().each(function(D,C){if(A(C).find("span:first").hasClass("om-menu-item-sep"))A(C).find("span:first").width("98%");else{if(B.width()>E.options.maxWidth){B.width(E.options.maxWidth);width=E.options.maxWidth*0.6}else{B.width(B.width()+10);width=B.width()*0.6}A(C).find("span:first").width(width)}})}},_hideChildren:function(A){A.children("ul").eq(0).hide()},_bindLiEvent:function(B){var D=this,C=D.element,E=D.options;A(B).bind("mouseenter.menuItem",function(){var B=A(this);B.addClass("om-menu-item-hover");if(B.attr("aria-haspopup"))setTimeout(function(){D._showChildren(B)},200)}).bind("mouseleave.menuItem",function(){var B=A(this);B.removeClass("om-menu-item-hover");setTimeout(function(){B.children("ul").hide()},200)}).bind("mousedown.menuItem",function(B){var D=A(C).data(A(C).attr("id")+"_"+this.id);if(E.onSelect){E.onSelect(D,E);B.preventDefault();B.stopPropagation();B.cancelBubble=true}})},_bindEvent:function(){var G=this,C=G.element,J=G.options,E=C.find("ul"),B=C.find("li"),F=A(document),D;for(var I=0;I<B.length;I++)if(!A(B[I]).hasClass("om-state-disabled"))G._bindLiEvent(B[I]);for(var H=0;H<E.length;H++)A(E[H]).bind("mouseleave.menuContainer",function(){var B=A(this);if(B.parent().attr("aria-haspopup")=="true")B.hide()});this.globalEvent=[];F.bind("mousedown.om-menu-container",D=function(){G._hide()});this.globalEvent.push(D);F.bind("keyup.om-menu-container",D=function(A){if(!G.visible)return;var B=A.keyCode;switch(B){case 40:G._selectNext();break;case 38:G._selectPrev();break;case 37:G._hideRight();break;case 39:G._showRight();break;case 13:if(C.css("display")=="block")G._backfill(C);break;case 27:G._hide();break;default:null}});this.globalEvent.push(D);F.bind("keydown.om-menu-container",D=function(A){if(!G.visible)return;if(A.keyCode>=37&&A.keyCode<=40)A.preventDefault()});this.globalEvent.push(D)},_hide:function(){var C=this,B=C.element;B.find("ul").css("left","none");B.find("li.om-menu-item-hover").each(function(B,C){A(C).removeClass("om-menu-item-hover")});B.hide();C.visible=false},_findNext:function(A){var C,D=A;while((C=A.next("li")).length!==0){if(!C.hasClass("om-menu-sep-li")&&!C.hasClass("om-state-disabled"))return C;A=C}var B=D.parent().find("li:first");while(B.length!==0&&B!=D){if(!B.hasClass("om-menu-sep-li")&&!B.hasClass("om-state-disabled"))return B;B=B.next("li")}},_findPrev:function(B){var E,D=B;while((E=B.prev("li")).length!==0){if(!E.hasClass("om-menu-sep-li")&&!E.hasClass("om-state-disabled"))return E;B=E}var A=D.parent().children(),C=A.eq(A.length-1);while(C.length!==0&&C!=D){if(!C.hasClass("om-menu-sep-li")&&!C.hasClass("om-state-disabled"))return C;C=C.prev("li")}},_selectNext:function(){var C=this,A=C.element,D,B=A.find("li.om-menu-item-hover"),E=B.eq(B.length-1);if(B.length==0){D=A.find("li").eq(0);while(D.hasClass("om-state-disabled"))D=D.next("li");D.addClass("om-menu-item-hover")}else{D=C._findNext(E);if(D.length<=0)return;D.addClass("om-menu-item-hover");E.removeClass("om-menu-item-hover")}this._hideChildren(E);this._showChildren(D)},_selectPrev:function(){var D=this,A=D.element,E,C=A.find("li.om-menu-item-hover"),F=C.eq(C.length-1);E=A.find("ul.om-menu > li");if(C.length==0){var B=E.eq(E.length-1),G=1;while(B.hasClass("om-state-disabled"))B=E.eq(E.length-(G++));(E=B).addClass("om-menu-item-hover")}else{E=D._findPrev(F);if(E.length<=0)return;E.addClass("om-menu-item-hover");F.removeClass("om-menu-item-hover")}this._hideChildren(F);this._showChildren(E)},_hideRight:function(){var C=this,A=C.element,B=A.find("li.om-menu-item-hover"),D=B.eq(B.length-1);D.removeClass("om-menu-item-hover");C._hideChildren(D)},_showRight:function(){var D=this,A=D.element,E,B=A.find("li.om-menu-item-hover"),C=B.eq(B.length-1);if(C.attr("aria-haspopup")=="true"){E=C.children("ul").find("li").eq(0);E.addClass("om-menu-item-hover")}D._showChildren(E)},_backfill:function(A){var B=A.find("li.om-menu-item-hover");B.eq(B.length-1).mousedown()}})})(jQuery);var Hashtable=(function(){var A="function",B=(typeof Array.prototype.splice==A)?function(B,A){B.splice(A,1)}:function(C,B){var A,E,D;if(B===C.length-1)C.length=B;else{A=C.slice(B+1);C.length=B;for(E=0,D=A.length;E<D;++E)C[B+E]=A[E]}};function D(E){var C;if(typeof E=="string")return E;else if(typeof E.hashCode==A){C=E.hashCode();return(typeof C=="string")?C:D(C)}else if(typeof E.toString==A)return E.toString();else{try{return String(E)}catch(B){return Object.prototype.toString.call(E)}}}function M(B,A){return B.equals(A)}function I(C,B){return(typeof B.equals==A)?B.equals(C):(C===B)}function F(A){return function(B){if(B===null)throw new Error("null is not a valid "+A);else if(typeof B=="undefined")throw new Error(A+" must not be undefined")}}var H=F("key"),J=F("value");function E(B,A,C,D){this[0]=B;this.entries=[];this.addEntry(A,C);if(D!==null)this.getEqualityFunction=function(){return D}}var C=0,L=1,O=2;function P(A){return function(E){var F=this.entries.length,D,B=this.getEqualityFunction(E);while(F--){D=this.entries[F];if(B(E,D[0]))switch(A){case C:return true;case L:return D;case O:return[F,D[1]]}}return false}}function G(A){return function(C){var B=C.length;for(var E=0,D=this.entries.length;E<D;++E)C[B+E]=this.entries[E][A]}}E.prototype={getEqualityFunction:function(B){return(typeof B.equals==A)?M:I},getEntryForKey:P(L),getEntryAndIndexForKey:P(O),removeEntryForKey:function(C){var A=this.getEntryAndIndexForKey(C);if(A){B(this.entries,A[0]);return A[1]}return null},addEntry:function(B,A){this.entries[this.entries.length]=[B,A]},keys:G(0),values:G(1),getEntries:function(B){var A=B.length;for(var D=0,C=this.entries.length;D<C;++D)B[A+D]=this.entries[D].slice(0)},containsKey:P(C),containsValue:function(A){var B=this.entries.length;while(B--)if(A===this.entries[B][1])return true;return false}};function N(A,B){var D=A.length,C;while(D--){C=A[D];if(B===C[0])return D}return null}function K(C,A){var B=C[A];return(B&&(B instanceof E))?B:null}function Q(P,L){var C=this,F=[],I={},O=(typeof P==A)?P:D,G=(typeof L==A)?L:null;this.put=function(M,C){H(M);J(C);var A=O(M),B,L,D=null;B=K(I,A);if(B){L=B.getEntryForKey(M);if(L){D=L[1];L[1]=C}else B.addEntry(M,C)}else{B=new E(A,M,C,G);F[F.length]=B;I[A]=B}return D};this.get=function(D){H(D);var A=O(D),B=K(I,A);if(B){var C=B.getEntryForKey(D);if(C)return C[1]}return null};this.containsKey=function(C){H(C);var B=O(C),A=K(I,B);return A?A.containsKey(C):false};this.containsValue=function(A){J(A);var B=F.length;while(B--)if(F[B].containsValue(A))return true;return false};this.clear=function(){F.length=0;I={}};this.isEmpty=function(){return!F.length};var M=function(A){return function(){var B=[],C=F.length;while(C--)F[C][A](B);return B}};this.keys=M("keys");this.values=M("values");this.entries=M("getEntries");this.remove=function(G){H(G);var C=O(G),A,E=null,D=K(I,C);if(D){E=D.removeEntryForKey(G);if(E!==null)if(!D.entries.length){A=N(F,C);B(F,A);delete I[C]}}return E};this.size=function(){var A=0,B=F.length;while(B--)A+=F[B].entries.length;return A};this.each=function(B){var D=C.entries(),E=D.length,A;while(E--){A=D[E];B(A[0],A[1])}};this.putAll=function(H,B){var G=H.entries(),E,J,F,D,K=G.length,I=(typeof B==A);while(K--){E=G[K];J=E[0];F=E[1];if(I&&(D=C.get(J)))F=B(J,D,F);C.put(J,F)}};this.clone=function(){var A=new Q(P,L);A.putAll(C);return A}}return Q})();(function(I){var K=new Hashtable(),C=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],G=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],A=["cz","fi","fr","ru","se","pl"],B=["ch"],J=[[".",","],[",","."],[","," "],[".","'"]],F=[C,G,A,B];function E(B,C,A){this.dec=B;this.group=C;this.neg=A}function H(){for(var A=0;A<F.length;A++){localeGroup=F[A];for(var B=0;B<localeGroup.length;B++)K.put(localeGroup[B],A)}}function D(F,D){if(K.size()==0)H();var C=".",I=",",A="-";if(D==false)if(F.indexOf("_")!=-1)F=F.split("_")[1].toLowerCase();else if(F.indexOf("-")!=-1)F=F.split("-")[1].toLowerCase();var B=K.get(F);if(B){var G=J[B];if(G){C=G[0];I=G[1]}}return new E(C,I,A)}I.fn.formatNumber=function(C,A,B){return this.each(function(){if(A==null)A=true;if(B==null)B=true;var D;if(I(this).is(":input"))D=new String(I(this).val());else D=new String(I(this).text());var E=I.formatNumber(D,C);if(A)if(I(this).is(":input"))I(this).val(E);else I(this).text(E);if(B)return E})};I.formatNumber=function(K,N){var N=I.extend({},I.fn.formatNumber.defaults,N),B=D(N.locale.toLowerCase(),N.isFullLocale),J=B.dec,M=B.group,A=B.neg,G="0#-,.",L="",E=false;for(var H=0;H<N.format.length;H++)if(G.indexOf(N.format.charAt(H))==-1)L=L+N.format.charAt(H);else if(H==0&&N.format.charAt(H)=="-"){E=true;continue}else break;var F="";for(H=N.format.length-1;H>=0;H--)if(G.indexOf(N.format.charAt(H))==-1)F=N.format.charAt(H)+F;else break;N.format=N.format.substring(L.length);N.format=N.format.substring(0,N.format.length-F.length);var C=new Number(K);return I._formatNumber(C,N,F,L,E)};I._formatNumber=function(V,Q,X,b,J){var Q=I.extend({},I.fn.formatNumber.defaults,Q),G=D(Q.locale.toLowerCase(),Q.isFullLocale),N=G.dec,d=G.group,A=G.neg,P=false;if(isNaN(V))if(Q.nanForceZero==true){V=0;P=true}else return null;if(X=="%")V=V*100;var c="";if(Q.format.indexOf(".")>-1){var H=N,B=Q.format.substring(Q.format.lastIndexOf(".")+1);if(Q.round==true)V=new Number(V.toFixed(B.length));else{var T=V.toString();T=T.substring(0,T.lastIndexOf(".")+B.length+1);V=new Number(T)}var Y=V%1,O=new String(Y.toFixed(B.length));O=O.substring(O.lastIndexOf(".")+1);for(var Z=0;Z<B.length;Z++)if(B.charAt(Z)=="#"&&O.charAt(Z)!="0"){H+=O.charAt(Z);continue}else if(B.charAt(Z)=="#"&&O.charAt(Z)=="0"){var F=O.substring(Z);if(F.match("[1-9]")){H+=O.charAt(Z);continue}else break}else if(B.charAt(Z)=="0")H+=O.charAt(Z);c+=H}else V=Math.round(V);var W=Math.floor(V);if(V<0)W=Math.ceil(V);var K="";if(Q.format.indexOf(".")==-1)K=Q.format;else K=Q.format.substring(0,Q.format.indexOf("."));var S="";if(!(W==0&&K.substr(K.length-1)=="#")||P){var R=new String(Math.abs(W)),C=9999;if(K.lastIndexOf(",")!=-1)C=K.length-K.lastIndexOf(",")-1;var M=0;for(Z=R.length-1;Z>-1;Z--){S=R.charAt(Z)+S;M++;if(M==C&&Z!=0){S=d+S;M=0}}if(K.length>S.length){var E=K.indexOf("0");if(E!=-1){var a=K.length-E,L=K.length-S.length-1;while(S.length<a){var U=K.charAt(L);if(U==",")U=d;S=U+S;L--}}}}if(!S&&K.indexOf("0",K.length-1)!==-1)S="0";c=S+c;if(V<0&&J&&b.length>0)b=A+b;else if(V<0)c=A+c;if(!Q.decimalSeparatorAlwaysShown)if(c.lastIndexOf(N)==c.length-1)c=c.substring(0,c.length-1);c=b+c+X;return c};I.fn.parseNumber=function(E,B,C){if(B==null)B=true;if(C==null)C=true;var A;if(I(this).is(":input"))A=new String(I(this).val());else A=new String(I(this).text());var D=I.parseNumber(A,E);if(D){if(B)if(I(this).is(":input"))I(this).val(D.toString());else I(this).text(D.toString());if(C)return D}};I.parseNumber=function(L,O){var O=I.extend({},I.fn.parseNumber.defaults,O),C=D(O.locale.toLowerCase(),O.isFullLocale),J=C.dec,N=C.group,A=C.neg,B="1234567890.-";while(L.indexOf(N)>-1)L=L.replace(N,"");L=L.replace(J,".").replace(A,"-");var F="",K=false;if(L.charAt(L.length-1)=="%"||O.isPercentage==true)K=true;for(var H=0;H<L.length;H++)if(B.indexOf(L.charAt(H))>-1)F=F+L.charAt(H);var E=new Number(F);if(K){E=E/100;var G=F.indexOf(".");if(G!=-1){var M=F.length-G-1;E=E.toFixed(M+2)}else E=E.toFixed(F.length-1)}return E};I.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:false,isPercentage:false,isFullLocale:false};I.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:false,nanForceZero:true,round:true,isFullLocale:false};Number.prototype.toFixed=function(A){return I._roundNumber(this,A)};I._roundNumber=function(C,E){var B=Math.pow(10,E||0),A=String(Math.round(C*B)/B);if(E>0){var D=A.indexOf(".");if(D==-1){A+=".";D=0}else D=A.length-(D+1);while(D<E){A+="0";D++}}return A}})(jQuery);(function(C){var A=["collapse","min","max","close"],B=["wx-panel-tool-collapse","wx-panel-tool-expand","wx-panel-tool-min","wx-panel-tool-max","wx-panel-tool-close"],D={anim:true,speed:"fast"};C.widget("wx.wxPanel",{options:{title:"",width:"auto",height:"auto",header:true,collapsible:false,closable:false,closed:false,collapsed:false,tools:[],_closeMode:"hidden",_helpMsg:false},_create:function(){this.element.addClass("wx-panel-body wx-widget-content").wxWrap("<div class='wx-widget wx-panel'></div>");var E=this.options,A=this.element,B=A.parent(),D;this._renderHeader();D=A.prev();if(E.header===false)A.addClass("wx-panel-noheader");this._bindEvent();this._resize(B);var C=E.header!==false?D.outerHeight():0;if(E.collapsed!==false){"auto"!==E.height&&B.height(C);A.hide();if(E.header!==false)D.find(">.wx-panel-tool >.wx-panel-tool-collapse").removeClass("wx-panel-tool-collapse").addClass("wx-panel-tool-expand")}else{A.show();"auto"!==E.height&&B.height(C+A.outerHeight());if(E.header!==false)D.find(">.wx-panel-tool >.wx-panel-tool-expand").removeClass("wx-panel-tool-expand").addClass("wx-panel-tool-collapse")}E.closed!==false?this._hide(B):this._show(B)},_hide:function(A){if("hidden"===this.options._closeMode)A.hide();else if("visibility"===this.options._closeMode)A.addClass("wx-helper-hidden-accessible")},_show:function(A){if("hidden"===this.options._closeMode)A.show();else if("visibility"===this.options._closeMode)A.removeClass("wx-helper-hidden-accessible")},_bindEvent:function(){var B=this,A=this.element,E=this.options,D=A.prev();if(E.collapsible!==false)D.click(function(A){if(C(A.target).is(".wx-panel-icon,.wx-panel-title,.wx-panel-header"))E.collapsed!==false?B.expand():B.collapse()}).find(".wx-panel-tool-collapse , .wx-panel-tool-expand").click(function(){E.collapsed!==false?B.expand():B.collapse()});if(E.closable!==false)D.find(".wx-panel-tool-close").click(function(A){B.close()})},_renderHeader:function(){this.header&&this.header.remove();if(this.options.header===false)return;var A=this,K=this.options,D=K.tools,H=this.header=C("<div class='wx-panel-header'></div>").insertBefore(this.element);H.disableSelection();if(K._helpMsg)H.parent().addClass("helpMsg");if(K.iconCls)C("<div class='wx-icon wx-panel-icon'></div>").addClass(K.iconCls).appendTo(H);C("<div class='wx-panel-title'></div>").html(K.title).appendTo(H);$tool=C("<div class='wx-panel-tool'></div>");if(K.collapsible!==false)C("<div class='wx-icon wx-panel-tool-collapse'></div>").appendTo($tool);if(C.isArray(D)){for(var J=0,G=D.length;J<G;J++){var F=D[J],I;if(I=this._getInnerToolCls(F.id))C("<div class='wx-icon'></div>").addClass(I).click(function(B){F.handler.call(this,A,B)}).appendTo($tool);else if(typeof F.iconCls==="string")C("<div class='wx-icon'></div>").addClass(F.iconCls).click(function(B){F.handler.call(this,A,B)}).appendTo($tool);else if(C.isArray(F.iconCls))(function(B){C("<div class='wx-icon'></div>").addClass(B.iconCls[0]).click(function(C){B.handler.call(this,A,C)}).hover(function(){if(B.iconCls[1])C(this).toggleClass(B.iconCls[1])}).appendTo($tool)})(F)}}else{try{C(D).appendTo($tool)}catch(E){throw"bad format of jquery selector."}}if(K.closable!==false)C("<div class='wx-icon wx-panel-tool-close'></div>").appendTo($tool);$tool.find(">div.wx-icon").hover(function(){var A=this;C.each(B,function(){if(C(A).hasClass(this))C(A).toggleClass(this+"-hover")})});$tool.appendTo(H)},_resize:function(D){var B=this.element,E=B.prev(),D=B.parent(),I=this.options,H=B.width(),G=B.height();if(I.width=="fit"){I.width="100%";D.width("100%");E.css("width","");B.css("width","")}else if(I.width!=="auto"){D.width(I.width);E.outerWidth(D.width());B.outerWidth(D.width())}else{var C=B.attr("style");if(C&&C.indexOf("width")!==-1){D.width(B.outerWidth());E.outerWidth(B.outerWidth())}else{D.css("width","");E.css("width","");B.css("width","")}}if(I.height=="fit"){I.height="100%";D.height("100%");B.outerHeight(D.height()-(this.options.header!==false?E.outerHeight():0))}else if(I.height!=="auto"){D.height(I.height);B.outerHeight(D.height()-(this.options.header!==false?E.outerHeight():0))}else{C=B.attr("style");if(C&&C.indexOf("height")!==-1)D.height(E.outerHeight()+B.outerHeight());else{D.css("height","");B.css("height","")}}this.resizeContent(false);var A=B.width(),F=B.height();if(H!=A||G!=F)this._trigger("wxresize")},resizeContent:function(B){var A=this.element.find(">.wx-panel-content");if(!A.length)return;var K=A[0].offsetTop,F=this.element.width(),D=this.element.height(),H=A.nextAll(),I=0;if(H.length){var G=H.length,E=C(H[0]),J=C(H[G-1]);I=parseFloat(E.css("marginTop"))+(J[0].offsetTop+J[0].offsetHeight-E[0].offsetTop)+parseFloat(J.css("marginBottom"))}A.width(F).height(D-K-I);if(B)this._trigger("wxresize")},_getInnerToolCls:function(B){return C.inArray(B,A)!=-1?"wx-panel-tool-"+B:null},setTitle:function(A){this.element.prev().find(">.wx-panel-title").html(A)},setIconClass:function(D){var B=this.element.prev(),A=B.find(">.wx-panel-icon");if(D==null&&A.length!==0)A.remove();else{if(A.length==0)A=C("<div class='wx-icon wx-panel-icon'></div>").insertBefore(B.find(">.wx-panel-title"));if(this.options.iconCls)A.removeClass(this.options.iconCls);A.addClass(D);this.options.iconCls=D}},open:function(){var A=this.element,B=this.options;if(B.closed){if(this._trigger("beforeOpen")===false)return;this._show(A.parent());B.closed=false;this._trigger("open")}},close:function(){var A=this.element,B=this.options;if(!B.closed){if(this._trigger("beforeClose")===false)return;this._hide(A.parent());B.closed=true;this._trigger("close")}},resize:function(A){var F=this.options,E,B,D=A.event;if(C.isPlainObject(A)){E=A.width||null;B=A.height||null}else{E=arguments[0];B=arguments[1]}F.width=E||F.width;F.height=B||F.height;this._resize(this.element.parent(),D)},collapse:function(){var G=this,B=this.element,H=B.prev(),F=B.parent(),A=B.next(".wx-panel-loadingMessage"),J=this.options,C=D.anim,E=D.speed;if(arguments[0]!=undefined)C=arguments[0];E=arguments[1]||E;if(G._trigger("beforeCollapse")===false)return;F.stop(true,true);if(H.length!==0){var I=H.find("> .wx-panel-tool > div.wx-panel-tool-collapse");if(I.length!==0){I.removeClass("wx-panel-tool-collapse").addClass("wx-panel-tool-expand");if(I.hasClass("wx-panel-tool-collapse-hover"))I.toggleClass("wx-panel-tool-collapse-hover wx-panel-tool-expand-hover")}}F.animate({height:"-="+B.outerHeight()},C?(E||"normal"):0,function(){B.hide();A.hide();"auto"===J.height&&F.css("height","");G._trigger("collapse")});J.collapsed=true},expand:function(){var G=this,B=this.element,H=B.prev(),F=B.parent(),A=B.next(".wx-panel-loadingMessage"),J=this.options,C=D.anim,E=D.speed;if(arguments[0]!=undefined)C=arguments[0];E=arguments[1]||E;if(G._trigger("beforeExpand")===false)return;F.stop(true,true);if(H.length!==0){var I=H.find("> .wx-panel-tool > div.wx-panel-tool-expand");if(I.length!==0){I.removeClass("wx-panel-tool-expand").addClass("wx-panel-tool-collapse");if(I.hasClass("wx-panel-tool-expand-hover"))I.toggleClass("wx-panel-tool-expand-hover wx-panel-tool-collapse-hover")}}"auto"===J.height&&F.height(H.outerHeight());B.show();if(B.data("loading"))A.show();F.animate({height:"+="+B.outerHeight()},C?(E||"normal"):0,function(){"auto"===J.height&&F.css("height","");G._trigger("expand")});J.collapsed=false},destroy:function(){var A=this.element;A.parent().after(A).remove()}});C.fn.resizeWxPanelContent=function(){var A=this.closest(".wx-panel-body").data("wxPanel");if(A)A.resizeContent(true)}})(jQuery);(function(A){A.widget("wx.wxBorderLayout",{options:{fit:false,spacing:5,hideCollapsBtn:false,beforeDrag:function(A,B){},afterDrag:function(A,B){}},_create:function(){if(!this.options.panels){var C=this.discoverPanels();if(!C.length)return;this.options.panels=C}this._minWidth=50;this._minHeight=28;this._buildRegion();this._resizeRegion(true);var B=this.element.closest(".wx-panel-body");if(B[0])B.wxPanel("resize");else A(window).resize(this._resizeRegion.bind(this,false))},discoverPanels:function(){var B=[];A(this.element).find("div[region]").each(function(){var C=A(this).data("wxOptions");if(!C)C={};if(!C["id"])C["id"]=A(this).attr("id");if(!C["region"])C["region"]=A(this).attr("region");B.push(C)});return B},_getRegionSize:function(A){var C=this._getRegion(A),B=this._getRegionProxy(A),D={};D.width=this._regionVisible(C)?C.outerWidth(true):(this._regionVisible(B)?B.outerWidth(true):0);D.height=this._regionVisible(C)?C.outerHeight(true):(this._regionVisible(B)?B.outerHeight(true):0);return D},_resizeRegion:function(H){var U=this._getRegion("center"),I=this._getRegion("north"),D=this._getRegion("south"),S=this._getRegion("west"),T=this._getRegion("east"),E=this._getRegionProxy("north"),B=this._getRegionProxy("south"),M=this._getRegionProxy("west"),J=this._getRegionProxy("east"),F=this._getRegionSize("north").height;southHeight=this._getRegionSize("south").height;westWidth=this._getRegionSize("west").width;eastWidth=this._getRegionSize("east").width;centerWidth=this._getRegionSize("center").width;layoutWidth=this.element.width();layoutHeight=this.element.height();westOpt=this._getPanelOpts("west");eastOpt=this._getPanelOpts("east");U.css({top:F,left:westWidth});U.find(">.wx-panel-body").wxPanel("resize",{height:layoutHeight-F-southHeight});if(!H)U.find(">.wx-panel-body").wxPanel("resize",{width:layoutWidth-westWidth-eastWidth});var P=U.outerHeight(true);if(I){var O=layoutWidth-(westOpt.expandToTop?westWidth:0)-(eastOpt.expandToTop?eastWidth:0);I.find(">.wx-panel-body").wxPanel("resize",{width:O});I.css({left:westOpt.expandToTop?westWidth:0});if(E)E.outerWidth(O).css({left:westOpt.expandToTop?westWidth:0})}if(D){var A=layoutWidth-(westOpt.expandToBottwx?westWidth:0)-(eastOpt.expandToBottwx?eastWidth:0);D.find(">.wx-panel-body").wxPanel("resize",{width:A});D.css({top:layoutHeight-D.outerHeight(true),left:westOpt.expandToBottwx?westWidth:0});if(B)B.outerWidth(A).css({left:westOpt.expandToBottwx?westWidth:0})}if(S){var L=westOpt.expandToTop?0:F,R=P+(westOpt.expandToBottwx?southHeight:0)+(westOpt.expandToTop?F:0);S.css({top:L});S.find(">.wx-panel-body").wxPanel("resize",{height:R});if(M){M.css({top:L});M.outerHeight(R)}}if(T){var C=eastOpt.expandToTop?0:F,G=P+(eastOpt.expandToBottwx?southHeight:0)+(eastOpt.expandToTop?F:0);T.css({top:C});T.find(">.wx-panel-body").wxPanel("resize",{height:G});if(J){J.css({top:C});J.outerHeight(G)}}if(H){var N=this._getPanelOpts("east")&&!this._getPanelOpts("east").width,Q=this._getPanelOpts("west")&&!this._getPanelOpts("west").width,K=!this._getPanelOpts("center").width;if(N||Q||K)if(!K&&N&&Q)eastWidth=westWidth=(layoutWidth-centerWidth)/2;else if(K&&!N&&Q)centerWidth=westWidth=(layoutWidth-eastWidth)/2;else if(K&&N&&!Q)centerWidth=eastWidth=(layoutWidth-westWidth)/2;else if(K&&N&&Q)eastWidth=westWidth=centerWidth=layoutWidth/3;if(K)U.find(">.wx-panel-body").wxPanel("resize",{width:Math.floor(layoutWidth-westWidth-eastWidth)});if(N)T.find(">.wx-panel-body").wxPanel("resize",{width:Math.ceil(layoutWidth-westWidth-centerWidth)-this.options.spacing});if(Q){S.find(">.wx-panel-body").wxPanel("resize",{width:Math.ceil(layoutWidth-eastWidth-centerWidth)-this.options.spacing});U.css({left:S.width()+this.options.spacing})}}},_regionVisible:function(A){return A&&A.css("display")!="none"},_createRegionProxy:function(B,E){var D=this,F="";if(E){F="<div class=\"wx-borderlayout-proxy wx-borderlayout-trigger-proxy-"+B.region+"\" proxy=\""+B.region+"\">"+"<div class=\"wx-borderlayout-expand-trigger\">"+"</div>"+"</div>";var C=A(F);if(B.region=="west"||B.region=="east")C.width(D.options.spacing);else if(B.region=="north"||B.region=="south")C.height(D.options.spacing);(function(A){C.find(".wx-borderlayout-expand-trigger").click(function(){D.expandRegion(A.region)})})(B)}else{F="<div class=\"wx-borderlayout-proxy wx-borderlayout-proxy-"+B.region+"\" proxy=\""+B.region+"\">"+"<div class=\"wx-panel-title\"></div>"+"<div class=\"wx-panel-tool\">"+"<div class=\"wx-icon panel-tool-expand\">"+"</div>"+"</div>"+"</div>";C=A(F);(function(B){C.find(".panel-tool-expand").hover(function(){A(this).toggleClass("panel-tool-expand-hover")}).click(function(){D.expandRegion(B.region)})})(B)}C.hover(function(){A(this).toggleClass("wx-borderlayout-proxy-hover")}).appendTo(this.element)},_buildRegion:function(){var I=this,G=this.element;this.element.addClass("wx-borderlayout");if(this.options.hideCollapsBtn)this.element.addClass("wx-borderlayout-hide-collaps-btn");if(this.options.fit)G.css({"width":"100%","height":"100%"});for(var L=0;L<this.options.panels.length;L++){var B=A.extend({},this.options.panels[L]),C=this.element.find("#"+B.id),H=B.collapsible&&I.options.hideCollapsBtn;if(B.collapsible&&B.region!="center")this._createRegionProxy(B,H);if(B.collapsible){A.extend(B,{collapsible:false});if(!I.options.hideCollapsBtn)A.extend(B,{tools:[{iconCls:["panel-tool-collapse","panel-tool-collapse-hover"],handler:function(A){I.collapseRegion(A.element.parent().attr("region"))}}]})}if(B.closable){var D=B.onClose;A.extend(B,{onClose:function(){D&&D.call(C[0]);I._resizeRegion()}})}C.wxPanel(B);C.parent().css("position","absolute");if(B.region=="north"||B.region=="south")C.wxPanel("resize",{"width":G.width()});var E="0",F=this.options.spacing+"px";if(B.resizable&&B.region!="center"){var K="";handleClass={};if(B.region=="west"){K="e";handleClass.width=F;handleClass.right="-"+F}else if(B.region=="east"){K="w";handleClass.width=F;handleClass.left="-"+F}else if(B.region=="south"){K="n";handleClass.height=F;handleClass.top="-"+F}else if(B.region=="north"){K="s";handleClass.height=F;handleClass.bottwx="-"+F}C.parent().resizable({handles:K,helper:"wx-borderlayout-resizable-helper-"+K,stop:function(B,A){G.find(">.wx-borderlayout-mask").remove();A.element.find(">.wx-panel-body").wxPanel("resize",A.size);I._resizeRegion();I._trigger("afterDrag",B)},start:function(E,C){var D=C.element.resizable("option","helper");A("body").find("."+D).css("border-width",I.options.spacing);var B=C.element.attr("region"),H=G.width()-2*I._minWidth,F=G.height()-2*I._minHeight;if(B=="west"){H=G.width()-(I._getRegionSize("east").width+I._minWidth);C.element.resizable("option","maxWidth",H)}else if(B=="east"){H=G.width()-(I._getRegionSize("west").width+I._minWidth);C.element.resizable("option","maxWidth",H)}else if(B=="north"){F=G.height()-(I._getRegionSize("south").height+I._minHeight+I.options.spacing);C.element.resizable("option","maxHeight",F)}else if(B=="south"){F=G.height()-(I._getRegionSize("north").height+I._minHeight+I.options.spacing);C.element.resizable("option","maxHeight",F)}A("<div class=\"wx-borderlayout-mask\"></div>").css({width:G.width(),height:G.height()}).appendTo(G);I._trigger("beforeDrag",E)},minWidth:I._minWidth,minHeight:I._minHeight}).bind("resize",function(A){A.stopPropagation()});C.parent().find(".ui-resizable-handle").css(handleClass);E=(B.region=="south"?F:0)+" "+(B.region=="west"?F:0)+" "+(B.region=="north"?F:0)+" "+(B.region=="east"?F:0);if(H){var J=A("<div class='wx-borderlayout-collaps-trigger-"+B.region+"'></div>");(function(A){J.click(function(){I.collapseRegion(A.attr("region"))})})(C.parent());C.parent().find(".ui-resizable-handle").append(J)}}C.parent().addClass("wx-borderlayout-region").addClass("wx-borderlayout-region-"+B.region).css("margin",E).attr("region",B.region);C.addClass("wx-borderlayout-region-body");C.prev().addClass("wx-borderlayout-region-header")}},_getRegion:function(A){var B=this.element.find(">[region=\""+A+"\"]");return B.size()>0?B:false},_getRegionProxy:function(A){var B=this.element.find(">[proxy=\""+A+"\"]");return B.size()>0?B:false},_getPanelOpts:function(A){for(var B=0;B<this.options.panels.length;B++)if(A==this.options.panels[B].region)return this.options.panels[B];return false},collapseRegion:function(C){var B=this._getPanelOpts(C);if(!B||!B.collapsible)return;var E=this._getRegion(C);$body=E.find(">.wx-panel-body");if(E){var D=A.data($body[0],"wxPanel");if(D.options.closed)return;if(D._trigger("beforeCollapse")===false)return false;E.hide();D._trigger("collapse");this._getRegionProxy(C).show();this._resizeRegion()}},expandRegion:function(C){var B=this._getPanelOpts(C);if(!B||!B.collapsible)return;var E=this._getRegion(C);$body=E.find(">.wx-panel-body");if(E){var D=A.data($body[0],"wxPanel");if(D.options.closed)return;if(D._trigger("beforeExpand")===false)return false;E.show();D._trigger("expand");this._getRegionProxy(C).hide();this._resizeRegion()}},closeRegion:function(C){var B=this._getPanelOpts(C);if(!B||!B.closable)return;var E=this._getRegion(C);$body=E.find(">.wx-panel-body");if(E){var D=A.data($body[0],"wxPanel");if(D.options.closed)return;E.find(">.wx-panel-body").wxPanel("close");this._getRegionProxy(C).hide();this._resizeRegion()}},openRegion:function(C){var B=this._getPanelOpts(C);if(!B||!B.closable)return;var E=this._getRegion(C);$body=E.find(">.wx-panel-body");if(E){var D=A.data($body[0],"wxPanel");if(!D.options.closed)return;E.find(">.wx-panel-body").wxPanel("open");this._getRegionProxy(C).hide();this._resizeRegion()}}})})(jQuery);(function(D,C){var A=D.wx||{},B={"check":{parent:{isAllChildChecked:{newClass:"checkbox_true_full",checked:true,partChecked:false},"default":{newClass:"checkbox_true_part",checked:false,partChecked:true}},child:{newClass:"checkbox_true_full",partChecked:false,checked:true}},"uncheck":{parent:{hasChildPartChecked:{newClass:"checkbox_true_part",checked:false,partChecked:true},hasChildChecked:{newClass:"checkbox_true_part",checked:false,partChecked:true},"default":{newClass:"checkbox_false_full",checked:false,partChecked:false}},child:{newClass:"checkbox_false_full",partChecked:false,checked:false}}};A.StringBuilder=function(){this.strs=[]};D.extend(A.StringBuilder.prototype,{notNull:function(){return this.strs.length>0},append:function(A){this.strs.push(A);return this},stringValue:function(){return this.strs.join("")}});function E(A,C,B){this.domId=A;this.data=C;this.tree=B;this.pId=this.data["pId"]}D.extend(E.prototype,{getEl:function(){return D(document.getElementById(this.domId))},getChildrenEl:function(){return this.getEl().children("ul")},getChkBtn:function(){return this.getEl().find("span.chk:first")},getIconBtn:function(){return this.getEl().find("span.icon:first")},getSwitchBtn:function(){return this.getEl().find("span.switch:first")},isRootDom:function(){return this.getEl().is(this.tree.element)},getChildren:function(){var E=this.data["children"];if(!E)return null;var A=[];for(var D=0;D<E.length;D++){var C=E[D],B=C["value"];A.push(this.tree.getNodeByValue(B))}return A},getParent:function(){var A=this.pId;if(!A)return null;return this.tree.getNodeByValue(A)},expand:function(H){var H=H||function(){};if(this.loading)return;var A=this.getIconBtn();if(!A.is(".ico_close"))return false;A.removeClass("ico_close");var G=this.getSwitchBtn(),J=D.wx.findStartsWith(G.attr("class").split(" "),"_close"),K=J.substring(0,J.indexOf("_close")),F=this,B=this.tree,E=this.getChildrenEl(),C=function(C){A.addClass("ico_open");B.fixIconStyle(A,"open",F);G.removeClass(J);G.addClass(K+"_open");if(C&&C.notNull())F.getChildrenEl().append(C.stringValue());E.slideDown(1,H)},I=this.data.loadFunc||B.getLoadFunc(this,C,B);if(I&&(this.data["collapse"]||!this.getChildren())){A.addClass("ico_loading");F.loading=true;I(B,this,C)}else C();return true},expandAll:function(){var A=this.expand();if(!A)return false;var C=this.getChildren();if(!C)return;var B=C.length;for(var D=0;D<B;D++)C[D].expandAll()},collapseAll:function(){this.collapse();var A=this.getChildren();if(!A)return;for(var B=0;B<A.length;B++)A[B].collapseAll()},collapse:function(C){var C=C||function(){};if(this.loading)return;var A=this.getIconBtn();if(!A.is(".ico_open"))return false;A.removeClass("ico_open").addClass("ico_close");this.tree.fixIconStyle(A,"close",this);var B=this.getSwitchBtn(),E=D.wx.findStartsWith(B.attr("class").split(" "),"_open"),F=E.substring(0,E.indexOf("_open"));B.removeClass(E).addClass(F+"_close");if(this.getChildrenEl())this.getChildrenEl().slideUp(1,C);return true},toggle:function(B){if(this.loading)return;var A=this.getIconBtn(),C=A.is(".ico_open");if(B.options.loadAllWhenToogle)C?this.collapseAll():this.expandAll();else C?this.collapse():this.expand()},blur:function(){var A=this.getEl().find("a:first");A.removeClass("current")},focus:function(){var A=this.getEl().find("a:first");A.addClass("current")},clickLink:function(A){var B=this.data.linkFunc||A.getLinkFunc();if(B)B(A,this)},isAllChildChecked:function(){return D.wx.isAllEq(this.data.children,"checked",true)},hasChildChecked:function(){return D.wx.hasEq(this.data.children,"checked",true)},hasChildPartChecked:function(){return D.wx.hasEq(this.data.children,"partChecked",true)},isAllChildUnchecked:function(){return D.wx.isNotAllEq(this.data.children,"checked",true)},clickCheck:function(B){var A=this.getChkBtn(),D=!!this.data.checked,E="checkbox_"+D+"_full",C="checkbox_"+!D+"_full";A.removeClass(E).addClass(C);this.data.checked=!D;if(!B.options.useChkCascade)return;if(D){this.cascadeChild(B,"uncheck");this.cascadeParent(B,"uncheck")}else{this.cascadeChild(B,"check");this.cascadeParent(B,"check")}},cascadeParent:function(A,F){var B=this.getParent();if(!B||B.isRootDom())return;var C=B.getChkBtn(),G=D.wx.findStartsWith(C.attr("class").split(" "),"checkbox_"),E=this._getParentState(A,F,B);B.data.partChecked=E["partChecked"];B.data.checked=E["checked"];C.removeClass(G).addClass(E["newClass"]);B.cascadeParent(A,F)},_getParentState:function(C,A,D){var E=B[A]["parent"];for(var F in E)if(F!="default"&&D[F]())return E[F];return E["default"]},cascadeChild:function(C,H){if(!this.getChildrenEl())return;var G=this.getChildrenEl().children();for(var J=0;J<G.length;J++){var E=C.getNodeByDom(G[J]),A=E.getChkBtn(),I=D.wx.findStartsWith(A.attr("class").split(" "),"checkbox_"),F=B[H]["child"];A.removeClass(I).addClass(F["newClass"]);E.data.checked=F["checked"];E.cascadeChild(C,H)}}});D.widget("wx.wxTree",{options:{datas:null,pkField:"id",nameField:"text",loadRootObjectEvent:"QueryTree",loadChildrenObjectEvent:"ViewDetail",eventArgs:{},useChk:true,useChkCascade:true,loadFunc:null,loadAllWhenToogle:false},_create:function(){this.element.addClass("wui-tree");this.element.empty();this.nodeMap={};var A=this.options.datas;A=this.parseData(A);var B=this.processNodeData(A);if(B)this.element.append(B.stringValue());this.bindEvents();this.element.show();this.reload()},reload:function(){if(this.options.wo){var B=this,A=function(A){var C=B.processNodeData(A);B.element.append(C.stringValue())};return this.options.wo.loadTreeData(this,{},A)}},processNodeData:function(O,S,X){if(!O)return;O=this.fixData(O);var F=O.length,V=new A.StringBuilder();for(var L=0;L<F;L++){var G=O[L],B=new A.StringBuilder();if(!G.collapse&&G.children)B=this.processNodeData(G.children,S,X);var P=D.wx.newId("node"),H=G["children"],J=!G.collapse&&H?"open":"close",R=G["pId"],K=(!R&&L==0)?"root_"+J:(L==F-1?"bottom_"+J:"center_"+J),N=G.checked?"checkbox_true_full":"checkbox_false_full",I=G.isLeaf?"ico_docu":"ico_"+J,M="<li id='"+P+"' data-value='"+G["value"]+"'>";V.append(M);var T="<span class='button switch "+K+"'></span>";V.append(T);if(this.options.useChk){var C="<span class='button chk "+N+"'></span>";V.append(C)}var Y=G["ico_"+J]||G["ico"],Q=Y?("background:url("+Y+") center center no-repeat"):"",W="<a><span class='button icon "+I+"' style='"+Q+"'></span><span>"+G[this.options.nameField]+"</span></a>";V.append(W);V.append("<ul");if(L!=F-1)V.append(" class='line' ");V.append(">");V.append(B.stringValue());V.append("</ul>");V.append("</li>");var U=new E(P,G,this);this.nodeMap[G["value"]]=U;if(X){R=S.data[this.options.pkField];G["pId"]=G["pId"]||R;S.data.children=S.data.children||[];S.data.children.push(G)}}return V},fixData:function(A){if(!A)return;this.fixParentData(A);this.fixChildData(A);return A},fixChildData:function(A){for(var E=0;E<A.length;E++){var C=A[E],B=this.options.pkField;if(C.children){D.each(C.children,function(D,A){A["pId"]=C[B]});this.fixChildData(C.children)}}},fixParentData:function(B){var E={},G=B.length,I=this.options.pkField||"id",D=this.options.nameField||"text";for(var J=0;J<G;J++){var F=B[J];F[I]=F[I]||F["value"];F["value"]=F["value"]||F[I];var A=F[I];if(!A)continue;E[A]=F;var C=F["pId"]||(F["parent"]?F["parent"]["value"]:null);if(!C)continue;F["pId"]=C;var H=E[C];if(H){H.children=H.children||[];H.children.push(F);B.splice(J,1);J--;G--}}},getNodeByDom:function(A){var B=A.tagName?A.getAttribute("data-value"):A;return this.getNodeByValue(B)},getNodeByValue:function(A){return this.nodeMap[A]},fixIconStyle:function(A,D,B){var E=B.data["ico_"+D]||B.data["ico"];if(E){var C="background:url("+E+") center center no-repeat";A.removeAttr("style").attr("style",C)}},parseData:function(B){if(D.type(B)=="string"){var A=D.trim(B),B=[];if(A.indexOf("<")==0){var C=D.parseXML(A).documentElement;D(C).cleanWhitespace();return D.wx.parseXmlToJson(C,true).children}else B=D.parseJSON(A)}return B},getLoadFunc:function(A,C){var B=this.options.wo,D=this,E=function(E){delete A.loading;A.getIconBtn().removeClass("ico_loading");var B=D.parseData(E);html=D.processNodeData(B,A,true);C(html)};if(B)if(A.isRootDom())return B.loadTreeData.bind(B,this,A,E);else return B.loadTreeChildren.bind(B,this,A,E);return this.options.loadFunc},getLinkFunc:function(){return this.options.linkFunc},toggle:function(B){var A=this.getNodeByDom(B.parentElement);A.toggle(this)},clickLink:function(B){var A=this.getNodeByDom(B.parentElement);if(A!=this.currentNode){if(this.currentNode)this.currentNode.blur();this.currentNode=A;A.focus()}A.clickLink(this)},clickCheck:function(B){var A=this.getNodeByDom(B.parentElement);A.clickCheck(this)},bindEvents:function(){var A=this.element,B=this;A.delegate("span.switch","click",function(){B.toggle(this)}).delegate("a","click",function(){B.clickLink(this)}).delegate("span.chk","click",function(){B.clickCheck(this)})}})})(jQuery,window);(function(B,A){B.wx.getWindowSize=function(){return{width:B.ui.dialog.overlay.width(),height:B.ui.dialog.overlay.height()}};B.getDialog=B.fn.getDialog=function(){if(this[0]){var F=B(this[0]).closest(".ui-dialog-content").data("wxDialog");if(F&&F.element.length)return F;var D=window.parent.frames;for(var G=0;G<D.length;G++){var C=D[G];if(B(C.document).has(this[0])){var A=B(C.frameElement).closest(".ui-dialog-content")[0],F=window.parent.jQuery(A).data("wxDialog");if(F&&F.element.length)return F}}}var E=window.parent;return E.jQuery(".ui-dialog-content").data("wxDialog")};B.invokeDialogOk=B.fn.invokeDialogOk=function(A){var B=this.getDialog();if(B&&B.options.onOk)B.options.onOk(A);B.close()};B.invokeExt=B.fn.invokeExt=function(C,A){var B=this.getDialog();if(B&&B.options[C])B.options[C](A);B.close()};B.invokeDialogCancel=B.fn.invokeDialogCancel=function(){var A=this.getDialog();if(A&&A.options.onCancel)A.options.onCancel();A.close()};B.wxDialog=function(C){var A=B("<div />");if(C&&C["content"])A.html(C["content"]);B(document).append(A);A.bind("wxdialogclose",function(){B(this).remove()});return A.wxDialog(C)};B.widget("wx.wxDialog",B.ui.dialog,{options:{url:"",iframe:false,fullscreen:false,closable:true,maximizable:false,buttons:{},modal:true,confirmTxt:"\u786e\u5b9a",cancelTxt:"\u53d6\u6d88",gap:0},_create:function(){if(this.options.gap){this.options.resizable=false;this.options.draggable=false}if(this.options.onOk){if(!this.options.buttons)this.options.buttons=[];this.options.buttons[this.options.confirmTxt]=function(){B(this).invokeDialogOk()}}if(this.options.cancel){if(!this.options.buttons)this.options.buttons=[];this.options.buttons[this.options.cancelTxt]=function(){B(this).invokeDialogCancel()}}B.ui.dialog.prototype._create.apply(this)},_init:function(){B.ui.dialog.prototype._init.apply(this);var C=this;if(this.options.iframe){if(!this.domIframe){this.domIframe=B("<iframe />").css({"width":"100%","height":"100%","border":0}).attr("frameborder",0);if(this.options.url)this.domIframe.attr("src",C.options.url);if(this.options.id)this.domIframe.attr("id",this.options.id);this.element.empty().append(this.domIframe)}this.element.css({"padding":"0px","overflow":"hidden"});this.domIframe.bind("load",function(){C.loading=false;C.loaded=true;C.adjustSize();C._size();C._resizeHeight()})}else if(this.options.url)this.loadAjax();this.parent=this.element.parent();this.titleBar=this.parent.find(">div.ui-dialog-titlebar");this.buttonBar=this.parent.find(">div.ui-dialog-buttonpane");this.parent.height(this.parent.height());this.buttonBar.css({"position":"absolute",left:"0px",bottom:"0px","width":"100%"});var A=this.options.buttons.length>0||this.options.cancel||this.options.onOk;if(!A&&!this.paddingBar){this.paddingBar=B("<div>").addClass("ui-dialog-buttonset");this.element.append(this.paddingBar)}if(!this.options.closable)this.titleBar.find("div.ui-close-button").remove();if(this.options.maximizable)this.titleBar.unbind("dblclick.wxdialog").bind("dblclick.wxdialog",function(){C.maximized?C.restore():C.maximize()});if(!this.options.maximizable&&this.options.gap)this.gap()},restore:function(){this.maximized=false;var A=this.element.parent();A.css({width:this.windowState[1].width,height:this.windowState[1].height});A.css({left:this.windowState[0].left,top:this.windowState[0].top});this._size();this._resizeHeight();delete this.windowState},gap:function(){this.maximized=false;var D=this.element.parent(),C=parseFloat(B.wx.getWindowSize()["width"])-this.options.gap*2,A=parseFloat(B.wx.getWindowSize()["height"])-this.options.gap*2;D.width(C).height(A);D.css({left:this.options.gap+"px",top:this.options.gap+"px",minWidth:C+"px",minHeight:A+"px",maxWidth:C+"px",maxHeight:A+"px"});this._size();this._resizeHeight()},_resizeHeight:function(){this.parent.height(this.parent.height());var A=this.parent.height()-this.titleBar.outerHeight()-this.buttonBar.outerHeight()-20;this.element.height(A);this.element.css("min-height",A+"px")},maximize:function(){this.maximized=true;var C=this.element.parent(),A=C.position(),D={width:C.width(),heigth:C.height()};this.windowState=[A,D];C.css({left:0,top:0}).css(B.wx.getWindowSize());this._resizeHeight()},loadAjax:function(){if(this.loading||this.loaded)return;this.loaded=false;this.loading=true;var A=this,C=this.element.height();new B.wx.Ajax().setUrl(this.options.url).setOnComplete(function(){A.loading=false;A.loaded=true;A._size();A.resizeParent(C)}).updateContent(this.element)},reload:function(){if(this.loading)return;this.loaded=false;if(this.options.iframe){this.loading=true;this.domIframe.location=this.domIframe.location}else this.loadAjax()},resizeParent:function(E){if(this.options.height)return;var D=this.element.height()-E,C=parseFloat(this.parent.css("top"))-D/2;C=Math.max(C,0);var A=Math.min(this.element.height(),B.wx.getWindowSize()["height"]);this.parent.css("top",C+"px").height(A)},adjustSize:function(){if(this.options.autoSize)if(this.options.iframe)var A=[]}})})(jQuery)